{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1239},"end":{"line":1239}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1239},"end":{"line":1242}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1239},"end":{"line":1248}}},"property":{"type":"Identifier","name":"service"},"loc":{"start":{"line":1239},"end":{"line":1256}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":1274},"end":{"line":1274}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":1274},"end":{"line":1278}}},"property":{"type":"Identifier","name":"PrintWriter"},"loc":{"start":{"line":1274},"end":{"line":1281}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":1302},"end":{"line":1302}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":1302},"end":{"line":1306}}},"property":{"type":"Identifier","name":"StringWriter"},"loc":{"start":{"line":1302},"end":{"line":1309}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":1331},"end":{"line":1331}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":1331},"end":{"line":1336}}},"property":{"type":"Identifier","name":"http"},"loc":{"start":{"line":1331},"end":{"line":1344}}},"property":{"type":"Identifier","name":"HttpServletRequest"},"loc":{"start":{"line":1331},"end":{"line":1349}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":1377},"end":{"line":1377}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":1377},"end":{"line":1382}}},"property":{"type":"Identifier","name":"http"},"loc":{"start":{"line":1377},"end":{"line":1390}}},"property":{"type":"Identifier","name":"HttpSession"},"loc":{"start":{"line":1377},"end":{"line":1395}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1416},"end":{"line":1416}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1416},"end":{"line":1419}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1416},"end":{"line":1425}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":1416},"end":{"line":1433}}},"property":{"type":"Identifier","name":"WebSession"},"loc":{"start":{"line":1416},"end":{"line":1441}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1461},"end":{"line":1461}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":1461},"end":{"line":1464}}},"property":{"type":"Identifier","name":"Logger"},"loc":{"start":{"line":1461},"end":{"line":1470}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1486},"end":{"line":1486}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":1486},"end":{"line":1489}}},"property":{"type":"Identifier","name":"LoggerFactory"},"loc":{"start":{"line":1486},"end":{"line":1495}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1518},"end":{"line":1518}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1518},"end":{"line":1521}}},"property":{"type":"Identifier","name":"http"},"loc":{"start":{"line":1518},"end":{"line":1537}}},"property":{"type":"Identifier","name":"HttpStatus"},"loc":{"start":{"line":1518},"end":{"line":1542}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1562},"end":{"line":1562}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1562},"end":{"line":1565}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1562},"end":{"line":1581}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1562},"end":{"line":1585}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1562},"end":{"line":1590}}},"property":{"type":"Identifier","name":"ExceptionHandler"},"loc":{"start":{"line":1562},"end":{"line":1601}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1627},"end":{"line":1627}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1627},"end":{"line":1630}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1627},"end":{"line":1646}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1627},"end":{"line":1650}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1627},"end":{"line":1655}}},"property":{"type":"Identifier","name":"RequestMapping"},"loc":{"start":{"line":1627},"end":{"line":1666}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1690},"end":{"line":1690}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1690},"end":{"line":1693}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1690},"end":{"line":1709}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1690},"end":{"line":1713}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1690},"end":{"line":1718}}},"property":{"type":"Identifier","name":"ResponseBody"},"loc":{"start":{"line":1690},"end":{"line":1729}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1751},"end":{"line":1751}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1751},"end":{"line":1754}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1751},"end":{"line":1770}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1751},"end":{"line":1774}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1751},"end":{"line":1779}}},"property":{"type":"Identifier","name":"ResponseStatus"},"loc":{"start":{"line":1751},"end":{"line":1790}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"BaseService"},"modifiers":{"type":"Modifiers","modifiers":["public","abstract"],"annotations":[{"type":"Annotation","annotationType":{"type":"Identifier","name":"RequestMapping","loc":{"start":{"line":1898},"end":{"line":1898}}},"arguments":[{"type":"Literal","value":"/service","raw":"/service","loc":{"start":{"line":1913},"end":{"line":1913}}}]}]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"logger","vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":1987},"end":{"line":1987}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":1987},"end":{"line":1987}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"LoggerFactory","loc":{"start":{"line":2003},"end":{"line":2003}}},"property":{"type":"Identifier","name":"getLogger"},"loc":{"start":{"line":2003},"end":{"line":2016}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"BaseService","loc":{"start":{"line":2027},"end":{"line":2027}}},"property":{"type":"Identifier","name":"class"},"loc":{"start":{"line":2027},"end":{"line":2038}}}],"loc":{"start":{"line":2003},"end":{"line":2026}}},"loc":{"start":{"line":1966},"end":{"line":1994}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"handleException"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[{"type":"Annotation","annotationType":{"type":"Identifier","name":"ExceptionHandler","loc":{"start":{"line":2313},"end":{"line":2313}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"Exception","loc":{"start":{"line":2330},"end":{"line":2330}}},"property":{"type":"Identifier","name":"class"},"loc":{"start":{"line":2330},"end":{"line":2339}}}]},{"type":"Annotation","annotationType":{"type":"Identifier","name":"ResponseStatus","loc":{"start":{"line":2352},"end":{"line":2352}}},"arguments":[{"type":"AssignmentExpression","left":{"type":"Identifier","name":"value","loc":{"start":{"line":2367},"end":{"line":2367}}},"right":{"type":"MemberExpression","object":{"type":"Identifier","name":"HttpStatus","loc":{"start":{"line":2375},"end":{"line":2375}}},"property":{"type":"Identifier","name":"I_AM_A_TEAPOT"},"loc":{"start":{"line":2375},"end":{"line":2385}}},"loc":{"start":{"line":2367},"end":{"line":2373}}}]},{"type":"Annotation","annotationType":{"type":"Identifier","name":"ResponseBody","loc":{"start":{"line":2413},"end":{"line":2413}}},"arguments":[]}]},"restype":{"type":"Identifier","name":"ExceptionInfo","loc":{"start":{"line":2430},"end":{"line":2430}}},"typarams":[],"params":[{"type":"Identifier","name":"request","vartype":{"type":"Identifier","name":"HttpServletRequest","loc":{"start":{"line":2460},"end":{"line":2460}}}},{"type":"Identifier","name":"ex","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":2488},"end":{"line":2488}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"url","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":2512},"end":{"line":2512}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":2512},"end":{"line":2512}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"request","loc":{"start":{"line":2525},"end":{"line":2525}}},"property":{"type":"Identifier","name":"getRequestURL"},"loc":{"start":{"line":2525},"end":{"line":2532}}},"arguments":[],"loc":{"start":{"line":2525},"end":{"line":2546}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":2525},"end":{"line":2548}}},"arguments":[],"loc":{"start":{"line":2525},"end":{"line":2557}}},"loc":{"start":{"line":2512},"end":{"line":2519}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":2569},"end":{"line":2569}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":2569},"end":{"line":2575}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Exception handler for service caught exception when processing: ","raw":"Exception handler for service caught exception when processing: ","loc":{"start":{"line":2582},"end":{"line":2582}}},"right":{"type":"Identifier","name":"url","loc":{"start":{"line":2651},"end":{"line":2651}}},"loc":{"start":{"line":2582},"end":{"line":2649}}},{"type":"Identifier","name":"ex","loc":{"start":{"line":2656},"end":{"line":2656}}}],"loc":{"start":{"line":2569},"end":{"line":2581}}},"loc":{"start":{"line":2569},"end":{"line":2569}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"response","vartype":{"type":"Identifier","name":"ExceptionInfo","loc":{"start":{"line":2669},"end":{"line":2669}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"ExceptionInfo","loc":{"start":{"line":2669},"end":{"line":2669}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ExceptionInfo","loc":{"start":{"line":2698},"end":{"line":2698}}},"arguments":[],"loc":{"start":{"line":2694},"end":{"line":2694}}},"loc":{"start":{"line":2669},"end":{"line":2683}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"response","loc":{"start":{"line":2723},"end":{"line":2723}}},"property":{"type":"Identifier","name":"setUrl"},"loc":{"start":{"line":2723},"end":{"line":2731}}},"arguments":[{"type":"Identifier","name":"url","loc":{"start":{"line":2739},"end":{"line":2739}}}],"loc":{"start":{"line":2723},"end":{"line":2738}}},"loc":{"start":{"line":2723},"end":{"line":2723}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"response","loc":{"start":{"line":2762},"end":{"line":2762}}},"property":{"type":"Identifier","name":"setMessage"},"loc":{"start":{"line":2762},"end":{"line":2770}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getStringStackTrace","loc":{"start":{"line":2782},"end":{"line":2782}}},"arguments":[{"type":"Identifier","name":"ex","loc":{"start":{"line":2802},"end":{"line":2802}}}],"loc":{"start":{"line":2782},"end":{"line":2801}}}],"loc":{"start":{"line":2762},"end":{"line":2781}}},"loc":{"start":{"line":2762},"end":{"line":2762}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"response","loc":{"start":{"line":2824},"end":{"line":2824}}},"loc":{"start":{"line":2817},"end":{"line":2817}}}],"loc":{"start":{"line":2502},"end":{"line":2838}}},"code":"\n@ExceptionHandler(Exception.class)\n@ResponseStatus(value \u003d HttpStatus.I_AM_A_TEAPOT)\n@ResponseBody()\npublic ExceptionInfo handleException(HttpServletRequest request, Exception ex) {\n    String url \u003d request.getRequestURL().toString();\n    logger.error(\"Exception handler for service caught exception when processing: \" + url, ex);\n    ExceptionInfo response \u003d new ExceptionInfo();\n    response.setUrl(url);\n    response.setMessage(getStringStackTrace(ex));\n    return response;\n}","loc":{"start":{"line":2312},"end":{"line":2444}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getWebSession"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3045},"end":{"line":3045}}},"typarams":[],"params":[{"type":"Identifier","name":"session","vartype":{"type":"Identifier","name":"HttpSession","loc":{"start":{"line":3070},"end":{"line":3070}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ws","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3101},"end":{"line":3101}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3101},"end":{"line":3101}}},"loc":{"start":{"line":3101},"end":{"line":3112}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"o","vartype":{"type":"Identifier","name":"Object","loc":{"start":{"line":3124},"end":{"line":3124}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Object","loc":{"start":{"line":3124},"end":{"line":3124}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"session","loc":{"start":{"line":3135},"end":{"line":3135}}},"property":{"type":"Identifier","name":"getAttribute"},"loc":{"start":{"line":3135},"end":{"line":3142}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3156},"end":{"line":3156}}},"property":{"type":"Identifier","name":"SESSION"},"loc":{"start":{"line":3156},"end":{"line":3166}}}],"loc":{"start":{"line":3135},"end":{"line":3155}}},"loc":{"start":{"line":3124},"end":{"line":3131}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"Identifier","name":"o","loc":{"start":{"line":3189},"end":{"line":3189}}},"right":{"type":"Literal","loc":{"start":{"line":3194},"end":{"line":3194}}},"loc":{"start":{"line":3189},"end":{"line":3191}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"IllegalArgumentException","loc":{"start":{"line":3224},"end":{"line":3224}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"No valid WebSession object found, has session timed out? [","raw":"No valid WebSession object found, has session timed out? [","loc":{"start":{"line":3249},"end":{"line":3249}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"session","loc":{"start":{"line":3312},"end":{"line":3312}}},"property":{"type":"Identifier","name":"getId"},"loc":{"start":{"line":3312},"end":{"line":3319}}},"arguments":[],"loc":{"start":{"line":3312},"end":{"line":3325}}},"loc":{"start":{"line":3249},"end":{"line":3310}}},"right":{"type":"Literal","value":"]","raw":"]","loc":{"start":{"line":3330},"end":{"line":3330}}},"loc":{"start":{"line":3249},"end":{"line":3328}}}],"loc":{"start":{"line":3220},"end":{"line":3220}}},"loc":{"start":{"line":3214},"end":{"line":3214}}}],"loc":{"start":{"line":3200},"end":{"line":3344}}},"loc":{"start":{"line":3185},"end":{"line":3185}}},{"type":"IfStatement","test":{"argument":{"type":"TypeTest","expression":{"type":"Identifier","name":"o","loc":{"start":{"line":3360},"end":{"line":3360}}},"clazz":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3373},"end":{"line":3373}}},"loc":{"start":{"line":3360},"end":{"line":3362}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":3358},"end":{"line":3358}}},"consequent":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"IllegalArgumentException","loc":{"start":{"line":3410},"end":{"line":3410}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Invalid WebSession object found, this is probably a bug! [","raw":"Invalid WebSession object found, this is probably a bug! [","loc":{"start":{"line":3435},"end":{"line":3435}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"o","loc":{"start":{"line":3498},"end":{"line":3498}}},"property":{"type":"Identifier","name":"getClass"},"loc":{"start":{"line":3498},"end":{"line":3499}}},"arguments":[],"loc":{"start":{"line":3498},"end":{"line":3508}}},"loc":{"start":{"line":3435},"end":{"line":3496}}},"right":{"type":"Literal","value":" | ","raw":" | ","loc":{"start":{"line":3513},"end":{"line":3513}}},"loc":{"start":{"line":3435},"end":{"line":3511}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"session","loc":{"start":{"line":3521},"end":{"line":3521}}},"property":{"type":"Identifier","name":"getId"},"loc":{"start":{"line":3521},"end":{"line":3528}}},"arguments":[],"loc":{"start":{"line":3521},"end":{"line":3534}}},"loc":{"start":{"line":3435},"end":{"line":3519}}},"right":{"type":"Literal","value":"]","raw":"]","loc":{"start":{"line":3539},"end":{"line":3539}}},"loc":{"start":{"line":3435},"end":{"line":3537}}}],"loc":{"start":{"line":3406},"end":{"line":3406}}},"loc":{"start":{"line":3400},"end":{"line":3400}}}],"loc":{"start":{"line":3386},"end":{"line":3553}}},"loc":{"start":{"line":3354},"end":{"line":3354}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"ws","loc":{"start":{"line":3563},"end":{"line":3563}}},"right":{"type":"TypeCast","clazz":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":3569},"end":{"line":3569}}},"expression":{"type":"Identifier","name":"o","loc":{"start":{"line":3581},"end":{"line":3581}}},"loc":{"start":{"line":3568},"end":{"line":3568}}},"loc":{"start":{"line":3563},"end":{"line":3566}}},"loc":{"start":{"line":3563},"end":{"line":3563}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"ws","loc":{"start":{"line":3599},"end":{"line":3599}}},"loc":{"start":{"line":3592},"end":{"line":3592}}}],"loc":{"start":{"line":3091},"end":{"line":3607}}},"code":"\npublic WebSession getWebSession(HttpSession session) {\n    WebSession ws;\n    Object o \u003d session.getAttribute(WebSession.SESSION);\n    if (o \u003d\u003d null) {\n        throw new IllegalArgumentException(\"No valid WebSession object found, has session timed out? [\" + session.getId() + \"]\");\n    }\n    if (!(o instanceof WebSession)) {\n        throw new IllegalArgumentException(\"Invalid WebSession object found, this is probably a bug! [\" + o.getClass() + \" | \" + session.getId() + \"]\");\n    }\n    ws \u003d (WebSession)o;\n    return ws;\n}","loc":{"start":{"line":3038},"end":{"line":3056}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getStringStackTrace"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":3783},"end":{"line":3783}}},"typarams":[],"params":[{"type":"Identifier","name":"t","vartype":{"type":"Identifier","name":"Throwable","loc":{"start":{"line":3810},"end":{"line":3810}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sw","vartype":{"type":"Identifier","name":"StringWriter","loc":{"start":{"line":3832},"end":{"line":3832}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"StringWriter","loc":{"start":{"line":3832},"end":{"line":3832}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"StringWriter","loc":{"start":{"line":3854},"end":{"line":3854}}},"arguments":[],"loc":{"start":{"line":3850},"end":{"line":3850}}},"loc":{"start":{"line":3832},"end":{"line":3845}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pw","vartype":{"type":"Identifier","name":"PrintWriter","loc":{"start":{"line":3878},"end":{"line":3878}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"PrintWriter","loc":{"start":{"line":3878},"end":{"line":3878}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"PrintWriter","loc":{"start":{"line":3899},"end":{"line":3899}}},"arguments":[{"type":"Identifier","name":"sw","loc":{"start":{"line":3911},"end":{"line":3911}}}],"loc":{"start":{"line":3895},"end":{"line":3895}}},"loc":{"start":{"line":3878},"end":{"line":3890}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":3924},"end":{"line":3924}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":3924},"end":{"line":3925}}},"arguments":[{"type":"Identifier","name":"pw","loc":{"start":{"line":3942},"end":{"line":3942}}}],"loc":{"start":{"line":3924},"end":{"line":3941}}},"loc":{"start":{"line":3924},"end":{"line":3924}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sw","loc":{"start":{"line":3962},"end":{"line":3962}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":3962},"end":{"line":3964}}},"arguments":[],"loc":{"start":{"line":3962},"end":{"line":3973}}},"loc":{"start":{"line":3955},"end":{"line":3955}}}],"loc":{"start":{"line":3822},"end":{"line":3981}}},"code":"\npublic String getStringStackTrace(Throwable t) {\n    StringWriter sw \u003d new StringWriter();\n    PrintWriter pw \u003d new PrintWriter(sw);\n    t.printStackTrace(pw);\n    return sw.toString();\n}","loc":{"start":{"line":3776},"end":{"line":3790}}}],"loc":{"start":{"line":1897},"end":{"line":1941}}}],"loc":{"start":{"line":1231},"end":{"line":1231}}}