{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1239},"end":{"line":1239}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1239},"end":{"line":1242}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1239},"end":{"line":1248}}},"property":{"type":"Identifier","name":"service"},"loc":{"start":{"line":1239},"end":{"line":1256}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":1274},"end":{"line":1274}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":1274},"end":{"line":1278}}},"property":{"type":"Identifier","name":"ArrayList"},"loc":{"start":{"line":1274},"end":{"line":1283}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":1302},"end":{"line":1302}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":1302},"end":{"line":1306}}},"property":{"type":"Identifier","name":"List"},"loc":{"start":{"line":1302},"end":{"line":1311}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":1325},"end":{"line":1325}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":1325},"end":{"line":1330}}},"property":{"type":"Identifier","name":"http"},"loc":{"start":{"line":1325},"end":{"line":1338}}},"property":{"type":"Identifier","name":"HttpSession"},"loc":{"start":{"line":1325},"end":{"line":1343}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1364},"end":{"line":1364}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1364},"end":{"line":1367}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1364},"end":{"line":1373}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":1364},"end":{"line":1381}}},"property":{"type":"Identifier","name":"AbstractLesson"},"loc":{"start":{"line":1364},"end":{"line":1389}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1413},"end":{"line":1413}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1413},"end":{"line":1416}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1413},"end":{"line":1422}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":1413},"end":{"line":1430}}},"property":{"type":"Identifier","name":"Category"},"loc":{"start":{"line":1413},"end":{"line":1438}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1456},"end":{"line":1456}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1456},"end":{"line":1459}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1456},"end":{"line":1465}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":1456},"end":{"line":1473}}},"property":{"type":"Identifier","name":"RandomLessonAdapter"},"loc":{"start":{"line":1456},"end":{"line":1481}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1510},"end":{"line":1510}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1510},"end":{"line":1513}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1510},"end":{"line":1519}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":1510},"end":{"line":1527}}},"property":{"type":"Identifier","name":"model"},"loc":{"start":{"line":1510},"end":{"line":1535}}},"property":{"type":"Identifier","name":"LessonMenuItem"},"loc":{"start":{"line":1510},"end":{"line":1541}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1565},"end":{"line":1565}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1565},"end":{"line":1568}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1565},"end":{"line":1574}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":1565},"end":{"line":1582}}},"property":{"type":"Identifier","name":"model"},"loc":{"start":{"line":1565},"end":{"line":1590}}},"property":{"type":"Identifier","name":"LessonMenuItemType"},"loc":{"start":{"line":1565},"end":{"line":1596}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1624},"end":{"line":1624}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1624},"end":{"line":1627}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1624},"end":{"line":1633}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":1624},"end":{"line":1641}}},"property":{"type":"Identifier","name":"Course"},"loc":{"start":{"line":1624},"end":{"line":1649}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1665},"end":{"line":1665}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":1665},"end":{"line":1668}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":1665},"end":{"line":1674}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":1665},"end":{"line":1682}}},"property":{"type":"Identifier","name":"WebSession"},"loc":{"start":{"line":1665},"end":{"line":1690}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1710},"end":{"line":1710}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":1710},"end":{"line":1713}}},"property":{"type":"Identifier","name":"Logger"},"loc":{"start":{"line":1710},"end":{"line":1719}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1735},"end":{"line":1735}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":1735},"end":{"line":1738}}},"property":{"type":"Identifier","name":"LoggerFactory"},"loc":{"start":{"line":1735},"end":{"line":1744}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1767},"end":{"line":1767}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1767},"end":{"line":1770}}},"property":{"type":"Identifier","name":"stereotype"},"loc":{"start":{"line":1767},"end":{"line":1786}}},"property":{"type":"Identifier","name":"Controller"},"loc":{"start":{"line":1767},"end":{"line":1797}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1817},"end":{"line":1817}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1817},"end":{"line":1820}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1817},"end":{"line":1836}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1817},"end":{"line":1840}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1817},"end":{"line":1845}}},"property":{"type":"Identifier","name":"RequestMapping"},"loc":{"start":{"line":1817},"end":{"line":1856}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":1880},"end":{"line":1880}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":1880},"end":{"line":1883}}},"property":{"type":"Identifier","name":"web"},"loc":{"start":{"line":1880},"end":{"line":1899}}},"property":{"type":"Identifier","name":"bind"},"loc":{"start":{"line":1880},"end":{"line":1903}}},"property":{"type":"Identifier","name":"annotation"},"loc":{"start":{"line":1880},"end":{"line":1908}}},"property":{"type":"Identifier","name":"ResponseBody"},"loc":{"start":{"line":1880},"end":{"line":1919}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"LessonMenuService"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[{"type":"Annotation","annotationType":{"type":"Identifier","name":"Controller","loc":{"start":{"line":2022},"end":{"line":2022}}},"arguments":[]}]},"extending":{"type":"Identifier","name":"BaseService","loc":{"start":{"line":2072},"end":{"line":2072}}},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"logger","vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":2112},"end":{"line":2112}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":2112},"end":{"line":2112}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"LoggerFactory","loc":{"start":{"line":2128},"end":{"line":2128}}},"property":{"type":"Identifier","name":"getLogger"},"loc":{"start":{"line":2128},"end":{"line":2141}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"LessonMenuService","loc":{"start":{"line":2152},"end":{"line":2152}}},"property":{"type":"Identifier","name":"class"},"loc":{"start":{"line":2152},"end":{"line":2169}}}],"loc":{"start":{"line":2128},"end":{"line":2151}}},"loc":{"start":{"line":2091},"end":{"line":2119}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"showLeftNav"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[{"type":"Annotation","annotationType":{"type":"Identifier","name":"RequestMapping","loc":{"start":{"line":2393},"end":{"line":2393}}},"arguments":[{"type":"AssignmentExpression","left":{"type":"Identifier","name":"value","loc":{"start":{"line":2408},"end":{"line":2408}}},"right":{"type":"Literal","value":"/lessonmenu.mvc","raw":"/lessonmenu.mvc","loc":{"start":{"line":2416},"end":{"line":2416}}},"loc":{"start":{"line":2408},"end":{"line":2414}}},{"type":"AssignmentExpression","left":{"type":"Identifier","name":"produces","loc":{"start":{"line":2435},"end":{"line":2435}}},"right":{"type":"Literal","value":"application/json","raw":"application/json","loc":{"start":{"line":2446},"end":{"line":2446}}},"loc":{"start":{"line":2435},"end":{"line":2444}}}]},{"type":"Annotation","annotationType":{"type":"Identifier","name":"ResponseBody","loc":{"start":{"line":2478},"end":{"line":2478}}},"arguments":[]}]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":2495},"end":{"line":2495}}},"typarams":[],"params":[{"type":"Identifier","name":"session","vartype":{"type":"Identifier","name":"HttpSession","loc":{"start":{"line":2528},"end":{"line":2528}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"menu","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2559},"end":{"line":2559}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2559},"end":{"line":2559}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":2591},"end":{"line":2591}}},"arguments":[],"loc":{"start":{"line":2587},"end":{"line":2587}}},"loc":{"start":{"line":2559},"end":{"line":2580}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ws","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":2628},"end":{"line":2628}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":2628},"end":{"line":2628}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getWebSession","loc":{"start":{"line":2644},"end":{"line":2644}}},"arguments":[{"type":"Identifier","name":"session","loc":{"start":{"line":2658},"end":{"line":2658}}}],"loc":{"start":{"line":2644},"end":{"line":2657}}},"loc":{"start":{"line":2628},"end":{"line":2639}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"course","vartype":{"type":"Identifier","name":"Course","loc":{"start":{"line":2737},"end":{"line":2737}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Course","loc":{"start":{"line":2737},"end":{"line":2737}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ws","loc":{"start":{"line":2753},"end":{"line":2753}}},"property":{"type":"Identifier","name":"getCourse"},"loc":{"start":{"line":2753},"end":{"line":2755}}},"arguments":[],"loc":{"start":{"line":2753},"end":{"line":2765}}},"loc":{"start":{"line":2737},"end":{"line":2744}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"categories","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2777},"end":{"line":2777}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2777},"end":{"line":2777}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"course","loc":{"start":{"line":2805},"end":{"line":2805}}},"property":{"type":"Identifier","name":"getCategories"},"loc":{"start":{"line":2805},"end":{"line":2811}}},"arguments":[],"loc":{"start":{"line":2805},"end":{"line":2825}}},"loc":{"start":{"line":2777},"end":{"line":2792}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"category","vartype":{"type":"Identifier","name":"Category","loc":{"start":{"line":2843},"end":{"line":2843}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Category","loc":{"start":{"line":2843},"end":{"line":2843}}},"loc":{"start":{"line":2843},"end":{"line":2852}}},"right":{"type":"Identifier","name":"categories","loc":{"start":{"line":2863},"end":{"line":2863}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"categoryItem","vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":2889},"end":{"line":2889}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":2889},"end":{"line":2889}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":2923},"end":{"line":2923}}},"arguments":[],"loc":{"start":{"line":2919},"end":{"line":2919}}},"loc":{"start":{"line":2889},"end":{"line":2904}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categoryItem","loc":{"start":{"line":2953},"end":{"line":2953}}},"property":{"type":"Identifier","name":"setName"},"loc":{"start":{"line":2953},"end":{"line":2965}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"category","loc":{"start":{"line":2974},"end":{"line":2974}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2974},"end":{"line":2982}}},"arguments":[],"loc":{"start":{"line":2974},"end":{"line":2990}}}],"loc":{"start":{"line":2953},"end":{"line":2973}}},"loc":{"start":{"line":2953},"end":{"line":2953}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categoryItem","loc":{"start":{"line":3007},"end":{"line":3007}}},"property":{"type":"Identifier","name":"setType"},"loc":{"start":{"line":3007},"end":{"line":3019}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"LessonMenuItemType","loc":{"start":{"line":3028},"end":{"line":3028}}},"property":{"type":"Identifier","name":"CATEGORY"},"loc":{"start":{"line":3028},"end":{"line":3046}}}],"loc":{"start":{"line":3007},"end":{"line":3027}}},"loc":{"start":{"line":3007},"end":{"line":3007}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessons","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3125},"end":{"line":3125}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3125},"end":{"line":3125}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ws","loc":{"start":{"line":3156},"end":{"line":3156}}},"property":{"type":"Identifier","name":"getLessons"},"loc":{"start":{"line":3156},"end":{"line":3158}}},"arguments":[{"type":"Identifier","name":"category","loc":{"start":{"line":3170},"end":{"line":3170}}}],"loc":{"start":{"line":3156},"end":{"line":3169}}},"loc":{"start":{"line":3125},"end":{"line":3146}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"role","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3193},"end":{"line":3193}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3193},"end":{"line":3193}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ws","loc":{"start":{"line":3207},"end":{"line":3207}}},"property":{"type":"Identifier","name":"getRole"},"loc":{"start":{"line":3207},"end":{"line":3209}}},"arguments":[],"loc":{"start":{"line":3207},"end":{"line":3217}}},"loc":{"start":{"line":3193},"end":{"line":3200}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":3233},"end":{"line":3233}}},"property":{"type":"Identifier","name":"info"},"loc":{"start":{"line":3233},"end":{"line":3239}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Role: ","raw":"Role: ","loc":{"start":{"line":3245},"end":{"line":3245}}},"right":{"type":"Identifier","name":"role","loc":{"start":{"line":3256},"end":{"line":3256}}},"loc":{"start":{"line":3245},"end":{"line":3254}}}],"loc":{"start":{"line":3233},"end":{"line":3244}}},"loc":{"start":{"line":3233},"end":{"line":3233}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":3280},"end":{"line":3280}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":3280},"end":{"line":3280}}},"loc":{"start":{"line":3280},"end":{"line":3295}}},"right":{"type":"Identifier","name":"lessons","loc":{"start":{"line":3304},"end":{"line":3304}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonItem","vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":3331},"end":{"line":3331}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":3331},"end":{"line":3331}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":3363},"end":{"line":3363}}},"arguments":[],"loc":{"start":{"line":3359},"end":{"line":3359}}},"loc":{"start":{"line":3331},"end":{"line":3346}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":3397},"end":{"line":3397}}},"property":{"type":"Identifier","name":"setName"},"loc":{"start":{"line":3397},"end":{"line":3407}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":3416},"end":{"line":3416}}},"property":{"type":"Identifier","name":"getTitle"},"loc":{"start":{"line":3416},"end":{"line":3422}}},"arguments":[],"loc":{"start":{"line":3416},"end":{"line":3431}}}],"loc":{"start":{"line":3397},"end":{"line":3415}}},"loc":{"start":{"line":3397},"end":{"line":3397}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":3452},"end":{"line":3452}}},"property":{"type":"Identifier","name":"setLink"},"loc":{"start":{"line":3452},"end":{"line":3462}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":3471},"end":{"line":3471}}},"property":{"type":"Identifier","name":"getLink"},"loc":{"start":{"line":3471},"end":{"line":3477}}},"arguments":[],"loc":{"start":{"line":3471},"end":{"line":3485}}}],"loc":{"start":{"line":3452},"end":{"line":3470}}},"loc":{"start":{"line":3452},"end":{"line":3452}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":3506},"end":{"line":3506}}},"property":{"type":"Identifier","name":"setType"},"loc":{"start":{"line":3506},"end":{"line":3516}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"LessonMenuItemType","loc":{"start":{"line":3525},"end":{"line":3525}}},"property":{"type":"Identifier","name":"LESSON"},"loc":{"start":{"line":3525},"end":{"line":3543}}}],"loc":{"start":{"line":3506},"end":{"line":3524}}},"loc":{"start":{"line":3506},"end":{"line":3506}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":3573},"end":{"line":3573}}},"property":{"type":"Identifier","name":"isCompleted"},"loc":{"start":{"line":3573},"end":{"line":3579}}},"arguments":[{"type":"Identifier","name":"ws","loc":{"start":{"line":3592},"end":{"line":3592}}}],"loc":{"start":{"line":3573},"end":{"line":3591}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":3619},"end":{"line":3619}}},"property":{"type":"Identifier","name":"setComplete"},"loc":{"start":{"line":3619},"end":{"line":3629}}},"arguments":[{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":3642},"end":{"line":3642}}}],"loc":{"start":{"line":3619},"end":{"line":3641}}},"loc":{"start":{"line":3619},"end":{"line":3619}}}],"loc":{"start":{"line":3597},"end":{"line":3665}}},"loc":{"start":{"line":3569},"end":{"line":3569}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categoryItem","loc":{"start":{"line":3684},"end":{"line":3684}}},"property":{"type":"Identifier","name":"addChild"},"loc":{"start":{"line":3684},"end":{"line":3696}}},"arguments":[{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":3706},"end":{"line":3706}}}],"loc":{"start":{"line":3684},"end":{"line":3705}}},"loc":{"start":{"line":3684},"end":{"line":3684}}},{"type":"IfStatement","test":{"type":"TypeTest","expression":{"type":"Identifier","name":"lesson","loc":{"start":{"line":3786},"end":{"line":3786}}},"clazz":{"type":"Identifier","name":"RandomLessonAdapter","loc":{"start":{"line":3804},"end":{"line":3804}}},"loc":{"start":{"line":3786},"end":{"line":3793}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"rla","vartype":{"type":"Identifier","name":"RandomLessonAdapter","loc":{"start":{"line":3847},"end":{"line":3847}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"RandomLessonAdapter","loc":{"start":{"line":3847},"end":{"line":3847}}},"init":{"type":"TypeCast","clazz":{"type":"Identifier","name":"RandomLessonAdapter","loc":{"start":{"line":3874},"end":{"line":3874}}},"expression":{"type":"Identifier","name":"lesson","loc":{"start":{"line":3895},"end":{"line":3895}}},"loc":{"start":{"line":3873},"end":{"line":3873}}},"loc":{"start":{"line":3847},"end":{"line":3867}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stages","vartype":{"type":"TypeArray","elemtype":{"type":"Identifier","name":"String","loc":{"start":{"line":3923},"end":{"line":3923}}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"TypeArray","elemtype":{"type":"Identifier","name":"String","loc":{"start":{"line":3923},"end":{"line":3923}}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"rla","loc":{"start":{"line":3941},"end":{"line":3941}}},"property":{"type":"Identifier","name":"getStages"},"loc":{"start":{"line":3941},"end":{"line":3944}}},"arguments":[],"loc":{"start":{"line":3941},"end":{"line":3954}}},"loc":{"start":{"line":3923},"end":{"line":3932}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"NOT_EQUAL_TO","left":{"type":"Identifier","name":"stages","loc":{"start":{"line":3982},"end":{"line":3982}}},"right":{"type":"Literal","loc":{"start":{"line":3992},"end":{"line":3992}}},"loc":{"start":{"line":3982},"end":{"line":3989}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonLink","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4024},"end":{"line":4024}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4024},"end":{"line":4024}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":4044},"end":{"line":4044}}},"property":{"type":"Identifier","name":"getLink"},"loc":{"start":{"line":4044},"end":{"line":4050}}},"arguments":[],"loc":{"start":{"line":4044},"end":{"line":4058}}},"loc":{"start":{"line":4024},"end":{"line":4031}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stageIdx","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":4101},"end":{"line":4101}}},"loc":{"start":{"line":4086},"end":{"line":4090}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stage","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4133},"end":{"line":4133}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4133},"end":{"line":4133}}},"loc":{"start":{"line":4133},"end":{"line":4140}}},"right":{"type":"Identifier","name":"stages","loc":{"start":{"line":4148},"end":{"line":4148}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stageItem","vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":4186},"end":{"line":4186}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":4186},"end":{"line":4186}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"LessonMenuItem","loc":{"start":{"line":4217},"end":{"line":4217}}},"arguments":[],"loc":{"start":{"line":4213},"end":{"line":4213}}},"loc":{"start":{"line":4186},"end":{"line":4201}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"stageItem","loc":{"start":{"line":4263},"end":{"line":4263}}},"property":{"type":"Identifier","name":"setName"},"loc":{"start":{"line":4263},"end":{"line":4272}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Stage ","raw":"Stage ","loc":{"start":{"line":4281},"end":{"line":4281}}},"right":{"type":"Identifier","name":"stageIdx","loc":{"start":{"line":4292},"end":{"line":4292}}},"loc":{"start":{"line":4281},"end":{"line":4290}}},"right":{"type":"Literal","value":": ","raw":": ","loc":{"start":{"line":4303},"end":{"line":4303}}},"loc":{"start":{"line":4281},"end":{"line":4301}}},"right":{"type":"Identifier","name":"stage","loc":{"start":{"line":4310},"end":{"line":4310}}},"loc":{"start":{"line":4281},"end":{"line":4308}}}],"loc":{"start":{"line":4263},"end":{"line":4280}}},"loc":{"start":{"line":4263},"end":{"line":4263}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"stageLink","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4406},"end":{"line":4406}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4406},"end":{"line":4406}}},"init":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"lessonLink","loc":{"start":{"line":4425},"end":{"line":4425}}},"right":{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":4438},"end":{"line":4438}}},"loc":{"start":{"line":4425},"end":{"line":4436}}},"right":{"type":"Identifier","name":"stageIdx","loc":{"start":{"line":4444},"end":{"line":4444}}},"loc":{"start":{"line":4425},"end":{"line":4442}}},"loc":{"start":{"line":4406},"end":{"line":4413}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"stageItem","loc":{"start":{"line":4482},"end":{"line":4482}}},"property":{"type":"Identifier","name":"setLink"},"loc":{"start":{"line":4482},"end":{"line":4491}}},"arguments":[{"type":"Identifier","name":"stageLink","loc":{"start":{"line":4500},"end":{"line":4500}}}],"loc":{"start":{"line":4482},"end":{"line":4499}}},"loc":{"start":{"line":4482},"end":{"line":4482}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"stageItem","loc":{"start":{"line":4540},"end":{"line":4540}}},"property":{"type":"Identifier","name":"setType"},"loc":{"start":{"line":4540},"end":{"line":4549}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"LessonMenuItemType","loc":{"start":{"line":4558},"end":{"line":4558}}},"property":{"type":"Identifier","name":"STAGE"},"loc":{"start":{"line":4558},"end":{"line":4576}}}],"loc":{"start":{"line":4540},"end":{"line":4557}}},"loc":{"start":{"line":4540},"end":{"line":4540}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"rla","loc":{"start":{"line":4617},"end":{"line":4617}}},"property":{"type":"Identifier","name":"isStageComplete"},"loc":{"start":{"line":4617},"end":{"line":4620}}},"arguments":[{"type":"Identifier","name":"ws","loc":{"start":{"line":4637},"end":{"line":4637}}},{"type":"Identifier","name":"stage","loc":{"start":{"line":4641},"end":{"line":4641}}}],"loc":{"start":{"line":4617},"end":{"line":4636}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"stageItem","loc":{"start":{"line":4683},"end":{"line":4683}}},"property":{"type":"Identifier","name":"setComplete"},"loc":{"start":{"line":4683},"end":{"line":4692}}},"arguments":[{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":4705},"end":{"line":4705}}}],"loc":{"start":{"line":4683},"end":{"line":4704}}},"loc":{"start":{"line":4683},"end":{"line":4683}}}],"loc":{"start":{"line":4649},"end":{"line":4740}}},"loc":{"start":{"line":4613},"end":{"line":4613}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonItem","loc":{"start":{"line":4770},"end":{"line":4770}}},"property":{"type":"Identifier","name":"addChild"},"loc":{"start":{"line":4770},"end":{"line":4780}}},"arguments":[{"type":"Identifier","name":"stageItem","loc":{"start":{"line":4790},"end":{"line":4790}}}],"loc":{"start":{"line":4770},"end":{"line":4789}}},"loc":{"start":{"line":4770},"end":{"line":4770}}},{"type":"ExpressionStatement","expression":{"argument":{"type":"Identifier","name":"stageIdx","loc":{"start":{"line":4830},"end":{"line":4830}}},"type":"UpdateExpression","operator":"++","prefix":false},"loc":{"start":{"line":4830},"end":{"line":4830}}}],"loc":{"start":{"line":4156},"end":{"line":4866}}},"loc":{"start":{"line":4128},"end":{"line":4128}}}],"loc":{"start":{"line":3998},"end":{"line":4888}}},"loc":{"start":{"line":3978},"end":{"line":3978}}}],"loc":{"start":{"line":3825},"end":{"line":4906}}},"loc":{"start":{"line":3782},"end":{"line":3782}}}],"loc":{"start":{"line":3313},"end":{"line":4920}}},"loc":{"start":{"line":3275},"end":{"line":3275}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"menu","loc":{"start":{"line":4934},"end":{"line":4934}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":4934},"end":{"line":4938}}},"arguments":[{"type":"Identifier","name":"categoryItem","loc":{"start":{"line":4943},"end":{"line":4943}}}],"loc":{"start":{"line":4934},"end":{"line":4942}}},"loc":{"start":{"line":4934},"end":{"line":4934}}}],"loc":{"start":{"line":2875},"end":{"line":4966}}},"loc":{"start":{"line":2838},"end":{"line":2838}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"menu","loc":{"start":{"line":4983},"end":{"line":4983}}},"loc":{"start":{"line":4976},"end":{"line":4976}}}],"loc":{"start":{"line":2549},"end":{"line":4994}}},"code":"\n@RequestMapping(value \u003d \"/lessonmenu.mvc\", produces \u003d \"application/json\")\n@ResponseBody()\npublic List\u003cLessonMenuItem\u003e showLeftNav(HttpSession session) {\n    List\u003cLessonMenuItem\u003e menu \u003d new ArrayList\u003cLessonMenuItem\u003e();\n    WebSession ws \u003d getWebSession(session);\n    Course course \u003d ws.getCourse();\n    List\u003cCategory\u003e categories \u003d course.getCategories();\n    for (Category category : categories) {\n        LessonMenuItem categoryItem \u003d new LessonMenuItem();\n        categoryItem.setName(category.getName());\n        categoryItem.setType(LessonMenuItemType.CATEGORY);\n        List\u003cAbstractLesson\u003e lessons \u003d ws.getLessons(category);\n        String role \u003d ws.getRole();\n        logger.info(\"Role: \" + role);\n        for (AbstractLesson lesson : lessons) {\n            LessonMenuItem lessonItem \u003d new LessonMenuItem();\n            lessonItem.setName(lesson.getTitle());\n            lessonItem.setLink(lesson.getLink());\n            lessonItem.setType(LessonMenuItemType.LESSON);\n            if (lesson.isCompleted(ws)) {\n                lessonItem.setComplete(true);\n            }\n            categoryItem.addChild(lessonItem);\n            if (lesson instanceof RandomLessonAdapter) {\n                RandomLessonAdapter rla \u003d (RandomLessonAdapter)lesson;\n                String[] stages \u003d rla.getStages();\n                if (stages !\u003d null) {\n                    String lessonLink \u003d lesson.getLink();\n                    int stageIdx \u003d 1;\n                    for (String stage : stages) {\n                        LessonMenuItem stageItem \u003d new LessonMenuItem();\n                        stageItem.setName(\"Stage \" + stageIdx + \": \" + stage);\n                        String stageLink \u003d lessonLink + \"/\" + stageIdx;\n                        stageItem.setLink(stageLink);\n                        stageItem.setType(LessonMenuItemType.STAGE);\n                        if (rla.isStageComplete(ws, stage)) {\n                            stageItem.setComplete(true);\n                        }\n                        lessonItem.addChild(stageItem);\n                        stageIdx++;\n                    }\n                }\n            }\n        }\n        menu.add(categoryItem);\n    }\n    return menu;\n}","loc":{"start":{"line":2392},"end":{"line":2516}}}],"loc":{"start":{"line":2021},"end":{"line":2040}}}],"loc":{"start":{"line":1231},"end":{"line":1231}}}