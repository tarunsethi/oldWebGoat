{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":8},"end":{"line":11}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":8},"end":{"line":17}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":8},"end":{"line":25}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":43},"end":{"line":43}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":43},"end":{"line":46}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":43},"end":{"line":52}}},"property":{"type":"Identifier","name":"HammerHead"},"loc":{"start":{"line":43},"end":{"line":60}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":80},"end":{"line":80}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":80},"end":{"line":83}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":80},"end":{"line":89}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":80},"end":{"line":97}}},"property":{"type":"Identifier","name":"AbstractLesson"},"loc":{"start":{"line":80},"end":{"line":105}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":129},"end":{"line":129}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":129},"end":{"line":132}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":129},"end":{"line":138}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":129},"end":{"line":146}}},"property":{"type":"Identifier","name":"Category"},"loc":{"start":{"line":129},"end":{"line":154}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":172},"end":{"line":172}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":172},"end":{"line":175}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":172},"end":{"line":181}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":172},"end":{"line":189}}},"property":{"type":"Identifier","name":"Plugin"},"loc":{"start":{"line":172},"end":{"line":197}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":213},"end":{"line":213}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":213},"end":{"line":216}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":213},"end":{"line":222}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":213},"end":{"line":230}}},"property":{"type":"Identifier","name":"PluginsLoader"},"loc":{"start":{"line":213},"end":{"line":238}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":261},"end":{"line":261}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":261},"end":{"line":264}}},"property":{"type":"Identifier","name":"Logger"},"loc":{"start":{"line":261},"end":{"line":270}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":286},"end":{"line":286}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":286},"end":{"line":289}}},"property":{"type":"Identifier","name":"LoggerFactory"},"loc":{"start":{"line":286},"end":{"line":295}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":319},"end":{"line":319}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":319},"end":{"line":324}}},"property":{"type":"Identifier","name":"ServletContext"},"loc":{"start":{"line":319},"end":{"line":332}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":356},"end":{"line":356}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":356},"end":{"line":360}}},"property":{"type":"Identifier","name":"File"},"loc":{"start":{"line":356},"end":{"line":363}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":377},"end":{"line":377}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":377},"end":{"line":381}}},"property":{"type":"Identifier","name":"IOException"},"loc":{"start":{"line":377},"end":{"line":384}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":405},"end":{"line":405}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":405},"end":{"line":409}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":405},"end":{"line":413}}},"property":{"type":"Identifier","name":"Paths"},"loc":{"start":{"line":405},"end":{"line":418}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":433},"end":{"line":433}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":433},"end":{"line":437}}},"property":{"type":"Identifier","name":"ArrayList"},"loc":{"start":{"line":433},"end":{"line":442}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":461},"end":{"line":461}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":461},"end":{"line":465}}},"property":{"type":"Identifier","name":"Collections"},"loc":{"start":{"line":461},"end":{"line":470}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":491},"end":{"line":491}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":491},"end":{"line":495}}},"property":{"type":"Identifier","name":"Iterator"},"loc":{"start":{"line":491},"end":{"line":500}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":518},"end":{"line":518}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":518},"end":{"line":522}}},"property":{"type":"Identifier","name":"LinkedList"},"loc":{"start":{"line":518},"end":{"line":527}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":547},"end":{"line":547}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":547},"end":{"line":551}}},"property":{"type":"Identifier","name":"List"},"loc":{"start":{"line":547},"end":{"line":556}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":570},"end":{"line":570}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":570},"end":{"line":574}}},"property":{"type":"Identifier","name":"Map"},"loc":{"start":{"line":570},"end":{"line":579}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"javax","loc":{"start":{"line":592},"end":{"line":592}}},"property":{"type":"Identifier","name":"servlet"},"loc":{"start":{"line":592},"end":{"line":597}}},"property":{"type":"Identifier","name":"ServletContext"},"loc":{"start":{"line":592},"end":{"line":605}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":630},"end":{"line":630}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":630},"end":{"line":633}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":630},"end":{"line":639}}},"property":{"type":"Identifier","name":"HammerHead"},"loc":{"start":{"line":630},"end":{"line":647}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":667},"end":{"line":667}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":667},"end":{"line":670}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":667},"end":{"line":676}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":667},"end":{"line":684}}},"property":{"type":"Identifier","name":"AbstractLesson"},"loc":{"start":{"line":667},"end":{"line":692}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":716},"end":{"line":716}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":716},"end":{"line":719}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":716},"end":{"line":725}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":716},"end":{"line":733}}},"property":{"type":"Identifier","name":"Category"},"loc":{"start":{"line":716},"end":{"line":741}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":759},"end":{"line":759}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":759},"end":{"line":762}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":759},"end":{"line":768}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":759},"end":{"line":776}}},"property":{"type":"Identifier","name":"LegacyLoader"},"loc":{"start":{"line":759},"end":{"line":784}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":806},"end":{"line":806}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":806},"end":{"line":809}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":806},"end":{"line":815}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":806},"end":{"line":823}}},"property":{"type":"Identifier","name":"Plugin"},"loc":{"start":{"line":806},"end":{"line":831}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":847},"end":{"line":847}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":847},"end":{"line":850}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":847},"end":{"line":856}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":847},"end":{"line":864}}},"property":{"type":"Identifier","name":"PluginsLoader"},"loc":{"start":{"line":847},"end":{"line":872}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":895},"end":{"line":895}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":895},"end":{"line":898}}},"property":{"type":"Identifier","name":"Logger"},"loc":{"start":{"line":895},"end":{"line":904}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":920},"end":{"line":920}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":920},"end":{"line":923}}},"property":{"type":"Identifier","name":"LoggerFactory"},"loc":{"start":{"line":920},"end":{"line":929}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"Course"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"logger","vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":2332},"end":{"line":2332}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":2332},"end":{"line":2332}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"LoggerFactory","loc":{"start":{"line":2348},"end":{"line":2348}}},"property":{"type":"Identifier","name":"getLogger"},"loc":{"start":{"line":2348},"end":{"line":2361}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"Course","loc":{"start":{"line":2372},"end":{"line":2372}}},"property":{"type":"Identifier","name":"class"},"loc":{"start":{"line":2372},"end":{"line":2378}}}],"loc":{"start":{"line":2348},"end":{"line":2371}}},"loc":{"start":{"line":2326},"end":{"line":2339}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessons","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2406},"end":{"line":2406}}}},"modifiers":{"type":"Modifiers","modifiers":["private","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2406},"end":{"line":2406}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"LinkedList","loc":{"start":{"line":2441},"end":{"line":2441}}},"arguments":[],"loc":{"start":{"line":2437},"end":{"line":2437}}},"loc":{"start":{"line":2392},"end":{"line":2427}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"PROPERTIES_FILENAME","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":2497},"end":{"line":2497}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":2497},"end":{"line":2497}}},"init":{"type":"MemberExpression","object":{"type":"Identifier","name":"HammerHead","loc":{"start":{"line":2526},"end":{"line":2526}}},"property":{"type":"Identifier","name":"propertiesPath"},"loc":{"start":{"line":2526},"end":{"line":2536}}},"loc":{"start":{"line":2476},"end":{"line":2504}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"properties","vartype":{"type":"Identifier","name":"WebgoatProperties","loc":{"start":{"line":2566},"end":{"line":2566}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"WebgoatProperties","loc":{"start":{"line":2566},"end":{"line":2566}}},"init":{"type":"Literal","loc":{"start":{"line":2597},"end":{"line":2597}}},"loc":{"start":{"line":2558},"end":{"line":2584}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"webgoatContext","vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":2616},"end":{"line":2616}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":2616},"end":{"line":2616}}},"loc":{"start":{"line":2608},"end":{"line":2631}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"\u003cinit\u003e"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"IOException","loc":{"start":{"line":2824},"end":{"line":2824}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":2853},"end":{"line":2853}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":2853},"end":{"line":2859}}},"arguments":[{"type":"Literal","value":"Error loading webgoat properties","raw":"Error loading webgoat properties","loc":{"start":{"line":2866},"end":{"line":2866}}},{"type":"Identifier","name":"e","loc":{"start":{"line":2902},"end":{"line":2902}}}],"loc":{"start":{"line":2853},"end":{"line":2865}}},"loc":{"start":{"line":2853},"end":{"line":2853}}}],"loc":{"start":{"line":2839},"end":{"line":2914}}},"loc":{"start":{"line":2817},"end":{"line":2817}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"properties","loc":{"start":{"line":2750},"end":{"line":2750}}},"right":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"WebgoatProperties","loc":{"start":{"line":2767},"end":{"line":2767}}},"arguments":[{"type":"Identifier","name":"PROPERTIES_FILENAME","loc":{"start":{"line":2785},"end":{"line":2785}}}],"loc":{"start":{"line":2763},"end":{"line":2763}}},"loc":{"start":{"line":2750},"end":{"line":2761}}},"loc":{"start":{"line":2750},"end":{"line":2750}}}],"loc":{"start":{"line":2736},"end":{"line":2815}}},"loc":{"start":{"line":2732},"end":{"line":2914}}}],"loc":{"start":{"line":2722},"end":{"line":2920}}},"code":"\npublic \u003cinit\u003e() {\n    try {\n        properties \u003d new WebgoatProperties(PROPERTIES_FILENAME);\n    } catch (IOException e) {\n        logger.error(\"Error loading webgoat properties\", e);\n    }\n}","loc":{"start":{"line":2706},"end":{"line":2713}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getFileName"},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":3113},"end":{"line":3113}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3132},"end":{"line":3132}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"fileName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3152},"end":{"line":3152}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3152},"end":{"line":3152}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"File","loc":{"start":{"line":3174},"end":{"line":3174}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":3179},"end":{"line":3179}}}],"loc":{"start":{"line":3170},"end":{"line":3170}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":3170},"end":{"line":3181}}},"arguments":[],"loc":{"start":{"line":3170},"end":{"line":3189}}},"loc":{"start":{"line":3152},"end":{"line":3159}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3206},"end":{"line":3206}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":3206},"end":{"line":3214}}},"arguments":[{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":3224},"end":{"line":3224}}}],"loc":{"start":{"line":3206},"end":{"line":3223}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3244},"end":{"line":3244}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3255},"end":{"line":3255}}},"property":{"type":"Identifier","name":"substring"},"loc":{"start":{"line":3255},"end":{"line":3263}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3274},"end":{"line":3274}}},"property":{"type":"Identifier","name":"lastIndexOf"},"loc":{"start":{"line":3274},"end":{"line":3282}}},"arguments":[{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":3295},"end":{"line":3295}}}],"loc":{"start":{"line":3274},"end":{"line":3294}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3301},"end":{"line":3301}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":3301},"end":{"line":3309}}},"arguments":[],"loc":{"start":{"line":3301},"end":{"line":3316}}}],"loc":{"start":{"line":3255},"end":{"line":3273}}},"loc":{"start":{"line":3244},"end":{"line":3253}}},"loc":{"start":{"line":3244},"end":{"line":3244}}}],"loc":{"start":{"line":3230},"end":{"line":3329}}},"loc":{"start":{"line":3202},"end":{"line":3202}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3344},"end":{"line":3344}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":3344},"end":{"line":3352}}},"arguments":[{"type":"Literal","value":".","raw":".","loc":{"start":{"line":3362},"end":{"line":3362}}}],"loc":{"start":{"line":3344},"end":{"line":3361}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3382},"end":{"line":3382}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3393},"end":{"line":3393}}},"property":{"type":"Identifier","name":"substring"},"loc":{"start":{"line":3393},"end":{"line":3401}}},"arguments":[{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":3412},"end":{"line":3412}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3415},"end":{"line":3415}}},"property":{"type":"Identifier","name":"indexOf"},"loc":{"start":{"line":3415},"end":{"line":3423}}},"arguments":[{"type":"Literal","value":".","raw":".","loc":{"start":{"line":3432},"end":{"line":3432}}}],"loc":{"start":{"line":3415},"end":{"line":3431}}}],"loc":{"start":{"line":3393},"end":{"line":3411}}},"loc":{"start":{"line":3382},"end":{"line":3391}}},"loc":{"start":{"line":3382},"end":{"line":3382}}}],"loc":{"start":{"line":3368},"end":{"line":3447}}},"loc":{"start":{"line":3340},"end":{"line":3340}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"fileName","loc":{"start":{"line":3465},"end":{"line":3465}}},"loc":{"start":{"line":3458},"end":{"line":3458}}}],"loc":{"start":{"line":3142},"end":{"line":3479}}},"code":"\nprivate static String getFileName(String s) {\n    String fileName \u003d new File(s).getName();\n    if (fileName.contains(\"/\")) {\n        fileName \u003d fileName.substring(fileName.lastIndexOf(\"/\"), fileName.length());\n    }\n    if (fileName.contains(\".\")) {\n        fileName \u003d fileName.substring(0, fileName.indexOf(\".\"));\n    }\n    return fileName;\n}","loc":{"start":{"line":3098},"end":{"line":3120}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getSourceFile"},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":3691},"end":{"line":3691}}},"typarams":[],"params":[{"type":"Identifier","name":"className","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3712},"end":{"line":3712}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"sb","vartype":{"type":"Identifier","name":"StringBuilder","loc":{"start":{"line":3740},"end":{"line":3740}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"StringBuilder","loc":{"start":{"line":3740},"end":{"line":3740}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"StringBuilder","loc":{"start":{"line":3763},"end":{"line":3763}}},"arguments":[],"loc":{"start":{"line":3759},"end":{"line":3759}}},"loc":{"start":{"line":3740},"end":{"line":3754}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sb","loc":{"start":{"line":3789},"end":{"line":3789}}},"property":{"type":"Identifier","name":"append"},"loc":{"start":{"line":3789},"end":{"line":3791}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"className","loc":{"start":{"line":3799},"end":{"line":3799}}},"property":{"type":"Identifier","name":"replace"},"loc":{"start":{"line":3799},"end":{"line":3808}}},"arguments":[{"type":"Literal","value":".","raw":".","loc":{"start":{"line":3817},"end":{"line":3817}}},{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":3822},"end":{"line":3822}}}],"loc":{"start":{"line":3799},"end":{"line":3816}}}],"loc":{"start":{"line":3789},"end":{"line":3798}}},"loc":{"start":{"line":3789},"end":{"line":3789}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sb","loc":{"start":{"line":3837},"end":{"line":3837}}},"property":{"type":"Identifier","name":"append"},"loc":{"start":{"line":3837},"end":{"line":3839}}},"arguments":[{"type":"Literal","value":".java","raw":".java","loc":{"start":{"line":3847},"end":{"line":3847}}}],"loc":{"start":{"line":3837},"end":{"line":3846}}},"loc":{"start":{"line":3837},"end":{"line":3837}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sb","loc":{"start":{"line":3873},"end":{"line":3873}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":3873},"end":{"line":3875}}},"arguments":[],"loc":{"start":{"line":3873},"end":{"line":3884}}},"loc":{"start":{"line":3866},"end":{"line":3866}}}],"loc":{"start":{"line":3730},"end":{"line":3892}}},"code":"\nprivate static String getSourceFile(String className) {\n    StringBuilder sb \u003d new StringBuilder();\n    sb.append(className.replace(\".\", \"/\"));\n    sb.append(\".java\");\n    return sb.toString();\n}","loc":{"start":{"line":3676},"end":{"line":3698}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getClassFile"},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"restype":{"type":"Identifier","name":"String","loc":{"start":{"line":4144},"end":{"line":4144}}},"typarams":[],"params":[{"type":"Identifier","name":"fileName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4164},"end":{"line":4164}}}},{"type":"Identifier","name":"path","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4181},"end":{"line":4181}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"ext","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4204},"end":{"line":4204}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4204},"end":{"line":4204}}},"init":{"type":"Literal","value":".class","raw":".class","loc":{"start":{"line":4217},"end":{"line":4217}}},"loc":{"start":{"line":4204},"end":{"line":4211}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4235},"end":{"line":4235}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4246},"end":{"line":4246}}},"property":{"type":"Identifier","name":"trim"},"loc":{"start":{"line":4246},"end":{"line":4254}}},"arguments":[],"loc":{"start":{"line":4246},"end":{"line":4259}}},"loc":{"start":{"line":4235},"end":{"line":4244}}},"loc":{"start":{"line":4235},"end":{"line":4235}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_OR","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4401},"end":{"line":4401}}},"property":{"type":"Identifier","name":"endsWith"},"loc":{"start":{"line":4401},"end":{"line":4409}}},"arguments":[{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":4419},"end":{"line":4419}}}],"loc":{"start":{"line":4401},"end":{"line":4418}}},"right":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4428},"end":{"line":4428}}},"property":{"type":"Identifier","name":"endsWith"},"loc":{"start":{"line":4428},"end":{"line":4436}}},"arguments":[{"type":"Identifier","name":"ext","loc":{"start":{"line":4446},"end":{"line":4446}}}],"loc":{"start":{"line":4428},"end":{"line":4445}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":4427},"end":{"line":4427}}},"loc":{"start":{"line":4401},"end":{"line":4424}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Literal","loc":{"start":{"line":4473},"end":{"line":4473}}},"loc":{"start":{"line":4466},"end":{"line":4466}}}],"loc":{"start":{"line":4452},"end":{"line":4487}}},"loc":{"start":{"line":4397},"end":{"line":4397}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"index","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4579},"end":{"line":4579}}},"property":{"type":"Identifier","name":"indexOf"},"loc":{"start":{"line":4579},"end":{"line":4587}}},"arguments":[{"type":"Literal","value":"/WEB-INF/classes/","raw":"/WEB-INF/classes/","loc":{"start":{"line":4596},"end":{"line":4596}}}],"loc":{"start":{"line":4579},"end":{"line":4595}}},"loc":{"start":{"line":4567},"end":{"line":4571}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"NOT_EQUAL_TO","left":{"type":"Identifier","name":"index","loc":{"start":{"line":4630},"end":{"line":4630}}},"right":{"type":"Literal","value":-1,"raw":-1,"loc":{"start":{"line":4639},"end":{"line":4639}}},"loc":{"start":{"line":4630},"end":{"line":4636}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4657},"end":{"line":4657}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4668},"end":{"line":4668}}},"property":{"type":"Identifier","name":"substring"},"loc":{"start":{"line":4668},"end":{"line":4676}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"index","loc":{"start":{"line":4687},"end":{"line":4687}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Literal","value":"/WEB-INF/classes/","raw":"/WEB-INF/classes/","loc":{"start":{"line":4695},"end":{"line":4695}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":4695},"end":{"line":4714}}},"arguments":[],"loc":{"start":{"line":4695},"end":{"line":4721}}},"loc":{"start":{"line":4687},"end":{"line":4693}}},{"type":"BinaryExpression","operator":"MINUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4725},"end":{"line":4725}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":4725},"end":{"line":4733}}},"arguments":[],"loc":{"start":{"line":4725},"end":{"line":4740}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ext","loc":{"start":{"line":4745},"end":{"line":4745}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":4745},"end":{"line":4748}}},"arguments":[],"loc":{"start":{"line":4745},"end":{"line":4755}}},"loc":{"start":{"line":4725},"end":{"line":4743}}}],"loc":{"start":{"line":4668},"end":{"line":4686}}},"loc":{"start":{"line":4657},"end":{"line":4666}}},"loc":{"start":{"line":4657},"end":{"line":4657}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4772},"end":{"line":4772}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4783},"end":{"line":4783}}},"property":{"type":"Identifier","name":"replace"},"loc":{"start":{"line":4783},"end":{"line":4791}}},"arguments":[{"type":"Literal","value":47,"raw":47,"loc":{"start":{"line":4800},"end":{"line":4800}}},{"type":"Literal","value":46,"raw":46,"loc":{"start":{"line":4805},"end":{"line":4805}}}],"loc":{"start":{"line":4783},"end":{"line":4799}}},"loc":{"start":{"line":4772},"end":{"line":4781}}},"loc":{"start":{"line":4772},"end":{"line":4772}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4823},"end":{"line":4823}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4834},"end":{"line":4834}}},"property":{"type":"Identifier","name":"replace"},"loc":{"start":{"line":4834},"end":{"line":4842}}},"arguments":[{"type":"Literal","value":92,"raw":92,"loc":{"start":{"line":4851},"end":{"line":4851}}},{"type":"Literal","value":46,"raw":46,"loc":{"start":{"line":4857},"end":{"line":4857}}}],"loc":{"start":{"line":4834},"end":{"line":4850}}},"loc":{"start":{"line":4823},"end":{"line":4832}}},"loc":{"start":{"line":4823},"end":{"line":4823}}}],"loc":{"start":{"line":4643},"end":{"line":4871}}},"alternate":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4939},"end":{"line":4939}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4950},"end":{"line":4950}}},"property":{"type":"Identifier","name":"substring"},"loc":{"start":{"line":4950},"end":{"line":4958}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"path","loc":{"start":{"line":4969},"end":{"line":4969}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":4969},"end":{"line":4973}}},"arguments":[],"loc":{"start":{"line":4969},"end":{"line":4980}}},{"type":"BinaryExpression","operator":"MINUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"fileName","loc":{"start":{"line":4984},"end":{"line":4984}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":4984},"end":{"line":4992}}},"arguments":[],"loc":{"start":{"line":4984},"end":{"line":4999}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"ext","loc":{"start":{"line":5004},"end":{"line":5004}}},"property":{"type":"Identifier","name":"length"},"loc":{"start":{"line":5004},"end":{"line":5007}}},"arguments":[],"loc":{"start":{"line":5004},"end":{"line":5014}}},"loc":{"start":{"line":4984},"end":{"line":5002}}}],"loc":{"start":{"line":4950},"end":{"line":4968}}},"loc":{"start":{"line":4939},"end":{"line":4948}}},"loc":{"start":{"line":4939},"end":{"line":4939}}}],"loc":{"start":{"line":4878},"end":{"line":5027}}},"loc":{"start":{"line":4626},"end":{"line":4626}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"fileName","loc":{"start":{"line":5045},"end":{"line":5045}}},"loc":{"start":{"line":5038},"end":{"line":5038}}}],"loc":{"start":{"line":4194},"end":{"line":5059}}},"code":"\nprivate static String getClassFile(String fileName, String path) {\n    String ext \u003d \".class\";\n    fileName \u003d fileName.trim();\n    if (fileName.endsWith(\"/\") || !fileName.endsWith(ext)) {\n        return null;\n    }\n    int index \u003d fileName.indexOf(\"/WEB-INF/classes/\");\n    if (index !\u003d -1) {\n        fileName \u003d fileName.substring(index + \"/WEB-INF/classes/\".length(), fileName.length() - ext.length());\n        fileName \u003d fileName.replace(\u0027/\u0027, \u0027.\u0027);\n        fileName \u003d fileName.replace(\u0027\\\\\u0027, \u0027.\u0027);\n    } else {\n        fileName \u003d fileName.substring(path.length(), fileName.length() - ext.length());\n    }\n    return fileName;\n}","loc":{"start":{"line":4129},"end":{"line":4151}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getCategories"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":5190},"end":{"line":5190}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"categories","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":5221},"end":{"line":5221}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":5221},"end":{"line":5221}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":5253},"end":{"line":5253}}},"arguments":[],"loc":{"start":{"line":5249},"end":{"line":5249}}},"loc":{"start":{"line":5221},"end":{"line":5236}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":5289},"end":{"line":5289}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":5289},"end":{"line":5289}}},"loc":{"start":{"line":5289},"end":{"line":5304}}},"right":{"type":"Identifier","name":"lessons","loc":{"start":{"line":5313},"end":{"line":5313}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categories","loc":{"start":{"line":5341},"end":{"line":5341}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":5341},"end":{"line":5351}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":5361},"end":{"line":5361}}},"property":{"type":"Identifier","name":"getCategory"},"loc":{"start":{"line":5361},"end":{"line":5367}}},"arguments":[],"loc":{"start":{"line":5361},"end":{"line":5379}}}],"loc":{"start":{"line":5341},"end":{"line":5360}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":5340},"end":{"line":5340}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categories","loc":{"start":{"line":5402},"end":{"line":5402}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":5402},"end":{"line":5412}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":5417},"end":{"line":5417}}},"property":{"type":"Identifier","name":"getCategory"},"loc":{"start":{"line":5417},"end":{"line":5423}}},"arguments":[],"loc":{"start":{"line":5417},"end":{"line":5435}}}],"loc":{"start":{"line":5402},"end":{"line":5416}}},"loc":{"start":{"line":5402},"end":{"line":5402}}}],"loc":{"start":{"line":5384},"end":{"line":5452}}},"loc":{"start":{"line":5336},"end":{"line":5336}}}],"loc":{"start":{"line":5322},"end":{"line":5462}}},"loc":{"start":{"line":5284},"end":{"line":5284}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Collections","loc":{"start":{"line":5473},"end":{"line":5473}}},"property":{"type":"Identifier","name":"sort"},"loc":{"start":{"line":5473},"end":{"line":5484}}},"arguments":[{"type":"Identifier","name":"categories","loc":{"start":{"line":5490},"end":{"line":5490}}}],"loc":{"start":{"line":5473},"end":{"line":5489}}},"loc":{"start":{"line":5473},"end":{"line":5473}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"categories","loc":{"start":{"line":5519},"end":{"line":5519}}},"loc":{"start":{"line":5512},"end":{"line":5512}}}],"loc":{"start":{"line":5211},"end":{"line":5535}}},"code":"\npublic List getCategories() {\n    List\u003cCategory\u003e categories \u003d new ArrayList\u003cCategory\u003e();\n    for (AbstractLesson lesson : lessons) {\n        if (!categories.contains(lesson.getCategory())) {\n            categories.add(lesson.getCategory());\n        }\n    }\n    Collections.sort(categories);\n    return categories;\n}","loc":{"start":{"line":5183},"end":{"line":5195}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getFirstLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":5668},"end":{"line":5668}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":5710},"end":{"line":5710}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":5710},"end":{"line":5710}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":5735},"end":{"line":5735}}},"arguments":[],"loc":{"start":{"line":5731},"end":{"line":5731}}},"loc":{"start":{"line":5710},"end":{"line":5723}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":5764},"end":{"line":5764}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":5764},"end":{"line":5769}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":5774},"end":{"line":5774}}},"property":{"type":"Identifier","name":"USER_ROLE"},"loc":{"start":{"line":5774},"end":{"line":5788}}}],"loc":{"start":{"line":5764},"end":{"line":5773}}},"loc":{"start":{"line":5764},"end":{"line":5764}}},{"type":"ReturnStatement","argument":{"type":"TypeCast","clazz":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":5987},"end":{"line":5987}}},"expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessons","loc":{"start":{"line":6003},"end":{"line":6003}}},"arguments":[{"type":"TypeCast","clazz":{"type":"Identifier","name":"Category","loc":{"start":{"line":6015},"end":{"line":6015}}},"expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getCategories","loc":{"start":{"line":6025},"end":{"line":6025}}},"arguments":[],"loc":{"start":{"line":6025},"end":{"line":6038}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":6025},"end":{"line":6040}}},"arguments":[{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":6045},"end":{"line":6045}}}],"loc":{"start":{"line":6025},"end":{"line":6044}}},"loc":{"start":{"line":6014},"end":{"line":6014}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":6049},"end":{"line":6049}}}],"loc":{"start":{"line":6003},"end":{"line":6013}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":6003},"end":{"line":6055}}},"arguments":[{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":6060},"end":{"line":6060}}}],"loc":{"start":{"line":6003},"end":{"line":6059}}},"loc":{"start":{"line":5986},"end":{"line":5986}}},"loc":{"start":{"line":5978},"end":{"line":5978}}}],"loc":{"start":{"line":5700},"end":{"line":6069}}},"code":"\npublic AbstractLesson getFirstLesson() {\n    List\u003cString\u003e roles \u003d new ArrayList\u003cString\u003e();\n    roles.add(AbstractLesson.USER_ROLE);\n    return ((AbstractLesson)getLessons((Category)getCategories().get(0), roles).get(0));\n}","loc":{"start":{"line":5661},"end":{"line":5683}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":6368},"end":{"line":6368}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":6393},"end":{"line":6393}}}},{"type":"Identifier","name":"lessonId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":6421},"end":{"line":6421}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":6455},"end":{"line":6455}}},"property":{"type":"Identifier","name":"isHackedAdmin"},"loc":{"start":{"line":6455},"end":{"line":6456}}},"arguments":[],"loc":{"start":{"line":6455},"end":{"line":6470}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":6488},"end":{"line":6488}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":6488},"end":{"line":6493}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":6498},"end":{"line":6498}}},"property":{"type":"Identifier","name":"HACKED_ADMIN_ROLE"},"loc":{"start":{"line":6498},"end":{"line":6512}}}],"loc":{"start":{"line":6488},"end":{"line":6497}}},"loc":{"start":{"line":6488},"end":{"line":6488}}}],"loc":{"start":{"line":6474},"end":{"line":6541}}},"loc":{"start":{"line":6451},"end":{"line":6451}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"iter","vartype":{"type":"Identifier","name":"Iterator","loc":{"start":{"line":6618},"end":{"line":6618}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Iterator","loc":{"start":{"line":6618},"end":{"line":6618}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessons","loc":{"start":{"line":6650},"end":{"line":6650}}},"property":{"type":"Identifier","name":"iterator"},"loc":{"start":{"line":6650},"end":{"line":6657}}},"arguments":[],"loc":{"start":{"line":6650},"end":{"line":6666}}},"loc":{"start":{"line":6618},"end":{"line":6643}}},{"type":"WhileStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"iter","loc":{"start":{"line":6686},"end":{"line":6686}}},"property":{"type":"Identifier","name":"hasNext"},"loc":{"start":{"line":6686},"end":{"line":6690}}},"arguments":[],"loc":{"start":{"line":6686},"end":{"line":6698}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":6716},"end":{"line":6716}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":6716},"end":{"line":6716}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"iter","loc":{"start":{"line":6740},"end":{"line":6740}}},"property":{"type":"Identifier","name":"next"},"loc":{"start":{"line":6740},"end":{"line":6744}}},"arguments":[],"loc":{"start":{"line":6740},"end":{"line":6749}}},"loc":{"start":{"line":6716},"end":{"line":6731}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":6770},"end":{"line":6770}}},"property":{"type":"Identifier","name":"getScreenId"},"loc":{"start":{"line":6770},"end":{"line":6776}}},"arguments":[],"loc":{"start":{"line":6770},"end":{"line":6788}}},"right":{"type":"Identifier","name":"lessonId","loc":{"start":{"line":6794},"end":{"line":6794}}},"loc":{"start":{"line":6770},"end":{"line":6791}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":6806},"end":{"line":6806}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":6806},"end":{"line":6811}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":6821},"end":{"line":6821}}},"property":{"type":"Identifier","name":"getRole"},"loc":{"start":{"line":6821},"end":{"line":6827}}},"arguments":[],"loc":{"start":{"line":6821},"end":{"line":6835}}}],"loc":{"start":{"line":6806},"end":{"line":6820}}},"loc":{"start":{"line":6770},"end":{"line":6803}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lesson","loc":{"start":{"line":6865},"end":{"line":6865}}},"loc":{"start":{"line":6858},"end":{"line":6858}}}],"loc":{"start":{"line":6840},"end":{"line":6885}}},"loc":{"start":{"line":6766},"end":{"line":6766}}}],"loc":{"start":{"line":6702},"end":{"line":6895}}},"loc":{"start":{"line":6679},"end":{"line":6679}}},{"type":"ReturnStatement","argument":{"type":"Literal","loc":{"start":{"line":6913},"end":{"line":6913}}},"loc":{"start":{"line":6906},"end":{"line":6906}}}],"loc":{"start":{"line":6441},"end":{"line":6923}}},"code":"\npublic AbstractLesson getLesson(WebSession s, int lessonId, List\u003cString\u003e roles) {\n    if (s.isHackedAdmin()) {\n        roles.add(AbstractLesson.HACKED_ADMIN_ROLE);\n    }\n    Iterator\u003cAbstractLesson\u003e iter \u003d lessons.iterator();\n    while (iter.hasNext()) {\n        AbstractLesson lesson \u003d iter.next();\n        if (lesson.getScreenId() \u003d\u003d lessonId \u0026\u0026 roles.contains(lesson.getRole())) {\n            return lesson;\n        }\n    }\n    return null;\n}","loc":{"start":{"line":6361},"end":{"line":6383}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":7214},"end":{"line":7214}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":7239},"end":{"line":7239}}}},{"type":"Identifier","name":"lessonId","vartype":{"type":"PrimitiveType"}},{"type":"Identifier","name":"role","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":7267},"end":{"line":7267}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":7290},"end":{"line":7290}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":7290},"end":{"line":7290}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":7315},"end":{"line":7315}}},"arguments":[],"loc":{"start":{"line":7311},"end":{"line":7311}}},"loc":{"start":{"line":7290},"end":{"line":7303}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":7344},"end":{"line":7344}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":7344},"end":{"line":7349}}},"arguments":[{"type":"Identifier","name":"role","loc":{"start":{"line":7354},"end":{"line":7354}}}],"loc":{"start":{"line":7344},"end":{"line":7353}}},"loc":{"start":{"line":7344},"end":{"line":7344}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLesson","loc":{"start":{"line":7376},"end":{"line":7376}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":7386},"end":{"line":7386}}},{"type":"Identifier","name":"lessonId","loc":{"start":{"line":7389},"end":{"line":7389}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":7399},"end":{"line":7399}}}],"loc":{"start":{"line":7376},"end":{"line":7385}}},"loc":{"start":{"line":7369},"end":{"line":7369}}}],"loc":{"start":{"line":7280},"end":{"line":7411}}},"code":"\npublic AbstractLesson getLesson(WebSession s, int lessonId, String role) {\n    List\u003cString\u003e roles \u003d new ArrayList\u003cString\u003e();\n    roles.add(role);\n    return getLesson(s, lessonId, roles);\n}","loc":{"start":{"line":7207},"end":{"line":7229}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessons"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":7678},"end":{"line":7678}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":7710},"end":{"line":7710}}}},{"type":"Identifier","name":"role","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":7724},"end":{"line":7724}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":7747},"end":{"line":7747}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":7747},"end":{"line":7747}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":7772},"end":{"line":7772}}},"arguments":[],"loc":{"start":{"line":7768},"end":{"line":7768}}},"loc":{"start":{"line":7747},"end":{"line":7760}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":7801},"end":{"line":7801}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":7801},"end":{"line":7806}}},"arguments":[{"type":"Identifier","name":"role","loc":{"start":{"line":7811},"end":{"line":7811}}}],"loc":{"start":{"line":7801},"end":{"line":7810}}},"loc":{"start":{"line":7801},"end":{"line":7801}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessons","loc":{"start":{"line":7833},"end":{"line":7833}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":7844},"end":{"line":7844}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":7847},"end":{"line":7847}}}],"loc":{"start":{"line":7833},"end":{"line":7843}}},"loc":{"start":{"line":7826},"end":{"line":7826}}}],"loc":{"start":{"line":7737},"end":{"line":7859}}},"code":"\npublic List\u003cAbstractLesson\u003e getLessons(WebSession s, String role) {\n    List\u003cString\u003e roles \u003d new ArrayList\u003cString\u003e();\n    roles.add(role);\n    return getLessons(s, roles);\n}","loc":{"start":{"line":7671},"end":{"line":7699}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessons"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":8108},"end":{"line":8108}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":8140},"end":{"line":8140}}}},{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8154},"end":{"line":8154}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":8188},"end":{"line":8188}}},"property":{"type":"Identifier","name":"isHackedAdmin"},"loc":{"start":{"line":8188},"end":{"line":8189}}},"arguments":[],"loc":{"start":{"line":8188},"end":{"line":8203}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":8221},"end":{"line":8221}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":8221},"end":{"line":8226}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":8231},"end":{"line":8231}}},"property":{"type":"Identifier","name":"HACKED_ADMIN_ROLE"},"loc":{"start":{"line":8231},"end":{"line":8245}}}],"loc":{"start":{"line":8221},"end":{"line":8230}}},"loc":{"start":{"line":8221},"end":{"line":8221}}}],"loc":{"start":{"line":8207},"end":{"line":8274}}},"loc":{"start":{"line":8184},"end":{"line":8184}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonList","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8284},"end":{"line":8284}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8284},"end":{"line":8284}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":8322},"end":{"line":8322}}},"arguments":[],"loc":{"start":{"line":8318},"end":{"line":8318}}},"loc":{"start":{"line":8284},"end":{"line":8305}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"categoryIter","vartype":{"type":"Identifier","name":"Iterator","loc":{"start":{"line":8359},"end":{"line":8359}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Iterator","loc":{"start":{"line":8359},"end":{"line":8359}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getCategories","loc":{"start":{"line":8383},"end":{"line":8383}}},"arguments":[],"loc":{"start":{"line":8383},"end":{"line":8396}}},"property":{"type":"Identifier","name":"iterator"},"loc":{"start":{"line":8383},"end":{"line":8398}}},"arguments":[],"loc":{"start":{"line":8383},"end":{"line":8407}}},"loc":{"start":{"line":8359},"end":{"line":8368}}},{"type":"WhileStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categoryIter","loc":{"start":{"line":8427},"end":{"line":8427}}},"property":{"type":"Identifier","name":"hasNext"},"loc":{"start":{"line":8427},"end":{"line":8439}}},"arguments":[],"loc":{"start":{"line":8427},"end":{"line":8447}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonList","loc":{"start":{"line":8465},"end":{"line":8465}}},"property":{"type":"Identifier","name":"addAll"},"loc":{"start":{"line":8465},"end":{"line":8475}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessons","loc":{"start":{"line":8483},"end":{"line":8483}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":8494},"end":{"line":8494}}},{"type":"TypeCast","clazz":{"type":"Identifier","name":"Category","loc":{"start":{"line":8498},"end":{"line":8498}}},"expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"categoryIter","loc":{"start":{"line":8508},"end":{"line":8508}}},"property":{"type":"Identifier","name":"next"},"loc":{"start":{"line":8508},"end":{"line":8520}}},"arguments":[],"loc":{"start":{"line":8508},"end":{"line":8525}}},"loc":{"start":{"line":8497},"end":{"line":8497}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":8529},"end":{"line":8529}}}],"loc":{"start":{"line":8483},"end":{"line":8493}}}],"loc":{"start":{"line":8465},"end":{"line":8482}}},"loc":{"start":{"line":8465},"end":{"line":8465}}}],"loc":{"start":{"line":8451},"end":{"line":8546}}},"loc":{"start":{"line":8420},"end":{"line":8420}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lessonList","loc":{"start":{"line":8563},"end":{"line":8563}}},"loc":{"start":{"line":8556},"end":{"line":8556}}}],"loc":{"start":{"line":8174},"end":{"line":8579}}},"code":"\npublic List\u003cAbstractLesson\u003e getLessons(WebSession s, List\u003cString\u003e roles) {\n    if (s.isHackedAdmin()) {\n        roles.add(AbstractLesson.HACKED_ADMIN_ROLE);\n    }\n    List\u003cAbstractLesson\u003e lessonList \u003d new ArrayList\u003cAbstractLesson\u003e();\n    Iterator categoryIter \u003d getCategories().iterator();\n    while (categoryIter.hasNext()) {\n        lessonList.addAll(getLessons(s, (Category)categoryIter.next(), roles));\n    }\n    return lessonList;\n}","loc":{"start":{"line":8101},"end":{"line":8129}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessons"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":8809},"end":{"line":8809}}},"typarams":[],"params":[{"type":"Identifier","name":"category","vartype":{"type":"Identifier","name":"Category","loc":{"start":{"line":8841},"end":{"line":8841}}}},{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8860},"end":{"line":8860}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonList","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8882},"end":{"line":8882}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":8882},"end":{"line":8882}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":8920},"end":{"line":8920}}},"arguments":[],"loc":{"start":{"line":8916},"end":{"line":8916}}},"loc":{"start":{"line":8882},"end":{"line":8903}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":8963},"end":{"line":8963}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":8963},"end":{"line":8963}}},"loc":{"start":{"line":8963},"end":{"line":8978}}},"right":{"type":"Identifier","name":"lessons","loc":{"start":{"line":8987},"end":{"line":8987}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":9014},"end":{"line":9014}}},"property":{"type":"Identifier","name":"getCategory"},"loc":{"start":{"line":9014},"end":{"line":9020}}},"arguments":[],"loc":{"start":{"line":9014},"end":{"line":9032}}},"property":{"type":"Identifier","name":"equals"},"loc":{"start":{"line":9014},"end":{"line":9034}}},"arguments":[{"type":"Identifier","name":"category","loc":{"start":{"line":9042},"end":{"line":9042}}}],"loc":{"start":{"line":9014},"end":{"line":9041}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":9055},"end":{"line":9055}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":9055},"end":{"line":9060}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":9070},"end":{"line":9070}}},"property":{"type":"Identifier","name":"getRole"},"loc":{"start":{"line":9070},"end":{"line":9076}}},"arguments":[],"loc":{"start":{"line":9070},"end":{"line":9084}}}],"loc":{"start":{"line":9055},"end":{"line":9069}}},"loc":{"start":{"line":9014},"end":{"line":9052}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonList","loc":{"start":{"line":9107},"end":{"line":9107}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":9107},"end":{"line":9117}}},"arguments":[{"type":"Identifier","name":"lesson","loc":{"start":{"line":9122},"end":{"line":9122}}}],"loc":{"start":{"line":9107},"end":{"line":9121}}},"loc":{"start":{"line":9107},"end":{"line":9107}}}],"loc":{"start":{"line":9089},"end":{"line":9143}}},"loc":{"start":{"line":9010},"end":{"line":9010}}}],"loc":{"start":{"line":8996},"end":{"line":9153}}},"loc":{"start":{"line":8958},"end":{"line":8958}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Collections","loc":{"start":{"line":9164},"end":{"line":9164}}},"property":{"type":"Identifier","name":"sort"},"loc":{"start":{"line":9164},"end":{"line":9175}}},"arguments":[{"type":"Identifier","name":"lessonList","loc":{"start":{"line":9181},"end":{"line":9181}}}],"loc":{"start":{"line":9164},"end":{"line":9180}}},"loc":{"start":{"line":9164},"end":{"line":9164}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"lessonList","loc":{"start":{"line":9209},"end":{"line":9209}}},"loc":{"start":{"line":9202},"end":{"line":9202}}}],"loc":{"start":{"line":8872},"end":{"line":9225}}},"code":"\nprivate List\u003cAbstractLesson\u003e getLessons(Category category, List roles) {\n    List\u003cAbstractLesson\u003e lessonList \u003d new ArrayList\u003cAbstractLesson\u003e();\n    for (AbstractLesson lesson : lessons) {\n        if (lesson.getCategory().equals(category) \u0026\u0026 roles.contains(lesson.getRole())) {\n            lessonList.add(lesson);\n        }\n    }\n    Collections.sort(lessonList);\n    return lessonList;\n}","loc":{"start":{"line":8801},"end":{"line":8830}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessons"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":9568},"end":{"line":9568}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":9584},"end":{"line":9584}}}},{"type":"Identifier","name":"category","vartype":{"type":"Identifier","name":"Category","loc":{"start":{"line":9598},"end":{"line":9598}}}},{"type":"Identifier","name":"role","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":9617},"end":{"line":9617}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":9640},"end":{"line":9640}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":9640},"end":{"line":9640}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":9665},"end":{"line":9665}}},"arguments":[],"loc":{"start":{"line":9661},"end":{"line":9661}}},"loc":{"start":{"line":9640},"end":{"line":9653}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":9694},"end":{"line":9694}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":9694},"end":{"line":9699}}},"arguments":[{"type":"Identifier","name":"role","loc":{"start":{"line":9704},"end":{"line":9704}}}],"loc":{"start":{"line":9694},"end":{"line":9703}}},"loc":{"start":{"line":9694},"end":{"line":9694}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessons","loc":{"start":{"line":9726},"end":{"line":9726}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":9737},"end":{"line":9737}}},{"type":"Identifier","name":"category","loc":{"start":{"line":9740},"end":{"line":9740}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":9750},"end":{"line":9750}}}],"loc":{"start":{"line":9726},"end":{"line":9736}}},"loc":{"start":{"line":9719},"end":{"line":9719}}}],"loc":{"start":{"line":9630},"end":{"line":9762}}},"code":"\npublic List getLessons(WebSession s, Category category, String role) {\n    List\u003cString\u003e roles \u003d new ArrayList\u003cString\u003e();\n    roles.add(role);\n    return getLessons(s, category, roles);\n}","loc":{"start":{"line":9561},"end":{"line":9573}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessons"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":10104},"end":{"line":10104}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":10136},"end":{"line":10136}}}},{"type":"Identifier","name":"category","vartype":{"type":"Identifier","name":"Category","loc":{"start":{"line":10150},"end":{"line":10150}}}},{"type":"Identifier","name":"roles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":10169},"end":{"line":10169}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":10203},"end":{"line":10203}}},"property":{"type":"Identifier","name":"isHackedAdmin"},"loc":{"start":{"line":10203},"end":{"line":10204}}},"arguments":[],"loc":{"start":{"line":10203},"end":{"line":10218}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"roles","loc":{"start":{"line":10236},"end":{"line":10236}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":10236},"end":{"line":10241}}},"arguments":[{"type":"MemberExpression","object":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":10246},"end":{"line":10246}}},"property":{"type":"Identifier","name":"HACKED_ADMIN_ROLE"},"loc":{"start":{"line":10246},"end":{"line":10260}}}],"loc":{"start":{"line":10236},"end":{"line":10245}}},"loc":{"start":{"line":10236},"end":{"line":10236}}}],"loc":{"start":{"line":10222},"end":{"line":10289}}},"loc":{"start":{"line":10199},"end":{"line":10199}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getLessons","loc":{"start":{"line":10306},"end":{"line":10306}}},"arguments":[{"type":"Identifier","name":"category","loc":{"start":{"line":10317},"end":{"line":10317}}},{"type":"Identifier","name":"roles","loc":{"start":{"line":10327},"end":{"line":10327}}}],"loc":{"start":{"line":10306},"end":{"line":10316}}},"loc":{"start":{"line":10299},"end":{"line":10299}}}],"loc":{"start":{"line":10189},"end":{"line":10339}}},"code":"\npublic List\u003cAbstractLesson\u003e getLessons(WebSession s, Category category, List\u003cString\u003e roles) {\n    if (s.isHackedAdmin()) {\n        roles.add(AbstractLesson.HACKED_ADMIN_ROLE);\n    }\n    return getLessons(category, roles);\n}","loc":{"start":{"line":10097},"end":{"line":10125}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":10505},"end":{"line":10505}}},"typarams":[],"params":[{"type":"Identifier","name":"lessonId","vartype":{"type":"PrimitiveType"}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"l","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":10559},"end":{"line":10559}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":10559},"end":{"line":10559}}},"loc":{"start":{"line":10559},"end":{"line":10574}}},"right":{"type":"Identifier","name":"lessons","loc":{"start":{"line":10578},"end":{"line":10578}}},"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"l","loc":{"start":{"line":10605},"end":{"line":10605}}},"property":{"type":"Identifier","name":"getScreenId"},"loc":{"start":{"line":10605},"end":{"line":10606}}},"arguments":[],"loc":{"start":{"line":10605},"end":{"line":10618}}},"right":{"type":"Identifier","name":"lessonId","loc":{"start":{"line":10624},"end":{"line":10624}}},"loc":{"start":{"line":10605},"end":{"line":10621}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"Identifier","name":"l","loc":{"start":{"line":10659},"end":{"line":10659}}},"loc":{"start":{"line":10652},"end":{"line":10652}}}],"loc":{"start":{"line":10634},"end":{"line":10674}}},"loc":{"start":{"line":10601},"end":{"line":10601}}}],"loc":{"start":{"line":10587},"end":{"line":10684}}},"loc":{"start":{"line":10554},"end":{"line":10554}}},{"type":"ReturnStatement","argument":{"type":"Literal","loc":{"start":{"line":10701},"end":{"line":10701}}},"loc":{"start":{"line":10694},"end":{"line":10694}}}],"loc":{"start":{"line":10544},"end":{"line":10711}}},"code":"\npublic AbstractLesson getLesson(int lessonId) {\n    for (AbstractLesson l : lessons) {\n        if (l.getScreenId() \u003d\u003d lessonId) {\n            return l;\n        }\n    }\n    return null;\n}","loc":{"start":{"line":10498},"end":{"line":10520}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"loadLessonFromPlugin"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"context","vartype":{"type":"Identifier","name":"ServletContext","loc":{"start":{"line":10751},"end":{"line":10751}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":10785},"end":{"line":10785}}},"property":{"type":"Identifier","name":"debug"},"loc":{"start":{"line":10785},"end":{"line":10791}}},"arguments":[{"type":"Literal","value":"Loading plugins into cache","raw":"Loading plugins into cache","loc":{"start":{"line":10798},"end":{"line":10798}}}],"loc":{"start":{"line":10785},"end":{"line":10797}}},"loc":{"start":{"line":10785},"end":{"line":10785}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pluginPath","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":10837},"end":{"line":10837}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":10837},"end":{"line":10837}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":10857},"end":{"line":10857}}},"property":{"type":"Identifier","name":"getRealPath"},"loc":{"start":{"line":10857},"end":{"line":10864}}},"arguments":[{"type":"Literal","value":"plugin_lessons","raw":"plugin_lessons","loc":{"start":{"line":10877},"end":{"line":10877}}}],"loc":{"start":{"line":10857},"end":{"line":10876}}},"loc":{"start":{"line":10837},"end":{"line":10844}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"targetPath","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":10904},"end":{"line":10904}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":10904},"end":{"line":10904}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":10924},"end":{"line":10924}}},"property":{"type":"Identifier","name":"getRealPath"},"loc":{"start":{"line":10924},"end":{"line":10931}}},"arguments":[{"type":"Literal","value":"plugin_extracted","raw":"plugin_extracted","loc":{"start":{"line":10944},"end":{"line":10944}}}],"loc":{"start":{"line":10924},"end":{"line":10943}}},"loc":{"start":{"line":10904},"end":{"line":10911}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"Identifier","name":"pluginPath","loc":{"start":{"line":10978},"end":{"line":10978}}},"right":{"type":"Literal","loc":{"start":{"line":10992},"end":{"line":10992}}},"loc":{"start":{"line":10978},"end":{"line":10989}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":11012},"end":{"line":11012}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":11012},"end":{"line":11018}}},"arguments":[{"type":"Literal","value":"Plugins directory {} not found","raw":"Plugins directory {} not found","loc":{"start":{"line":11025},"end":{"line":11025}}},{"type":"Identifier","name":"pluginPath","loc":{"start":{"line":11059},"end":{"line":11059}}}],"loc":{"start":{"line":11012},"end":{"line":11024}}},"loc":{"start":{"line":11012},"end":{"line":11012}}},{"type":"ReturnStatement","loc":{"start":{"line":11084},"end":{"line":11084}}}],"loc":{"start":{"line":10998},"end":{"line":11100}}},"loc":{"start":{"line":10974},"end":{"line":10974}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessons","loc":{"start":{"line":11110},"end":{"line":11110}}},"property":{"type":"Identifier","name":"clear"},"loc":{"start":{"line":11110},"end":{"line":11117}}},"arguments":[],"loc":{"start":{"line":11110},"end":{"line":11123}}},"loc":{"start":{"line":11110},"end":{"line":11110}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugins","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":11135},"end":{"line":11135}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":11135},"end":{"line":11135}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"PluginsLoader","loc":{"start":{"line":11162},"end":{"line":11162}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Paths","loc":{"start":{"line":11176},"end":{"line":11176}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":11176},"end":{"line":11181}}},"arguments":[{"type":"Identifier","name":"pluginPath","loc":{"start":{"line":11186},"end":{"line":11186}}}],"loc":{"start":{"line":11176},"end":{"line":11185}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Paths","loc":{"start":{"line":11199},"end":{"line":11199}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":11199},"end":{"line":11204}}},"arguments":[{"type":"Identifier","name":"targetPath","loc":{"start":{"line":11209},"end":{"line":11209}}}],"loc":{"start":{"line":11199},"end":{"line":11208}}}],"loc":{"start":{"line":11158},"end":{"line":11158}}},"property":{"type":"Identifier","name":"loadPlugins"},"loc":{"start":{"line":11158},"end":{"line":11221}}},"arguments":[],"loc":{"start":{"line":11158},"end":{"line":11233}}},"loc":{"start":{"line":11135},"end":{"line":11148}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugin","vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":11250},"end":{"line":11250}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":11250},"end":{"line":11250}}},"loc":{"start":{"line":11250},"end":{"line":11257}}},"right":{"type":"Identifier","name":"plugins","loc":{"start":{"line":11266},"end":{"line":11266}}},"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":12158},"end":{"line":12158}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":12189},"end":{"line":12189}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":12189},"end":{"line":12195}}},"arguments":[{"type":"Literal","value":"Error in loadLessons: ","raw":"Error in loadLessons: ","loc":{"start":{"line":12202},"end":{"line":12202}}},{"type":"Identifier","name":"e","loc":{"start":{"line":12228},"end":{"line":12228}}}],"loc":{"start":{"line":12189},"end":{"line":12201}}},"loc":{"start":{"line":12189},"end":{"line":12189}}}],"loc":{"start":{"line":12171},"end":{"line":12244}}},"loc":{"start":{"line":12151},"end":{"line":12151}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":11311},"end":{"line":11311}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":11311},"end":{"line":11311}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":11335},"end":{"line":11335}}},"property":{"type":"Identifier","name":"getLesson"},"loc":{"start":{"line":11335},"end":{"line":11341}}},"arguments":[],"loc":{"start":{"line":11335},"end":{"line":11351}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":11335},"end":{"line":11353}}},"arguments":[],"loc":{"start":{"line":11335},"end":{"line":11357}}},"loc":{"start":{"line":11311},"end":{"line":11326}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":11377},"end":{"line":11377}}},"property":{"type":"Identifier","name":"setWebgoatContext"},"loc":{"start":{"line":11377},"end":{"line":11383}}},"arguments":[{"type":"Identifier","name":"webgoatContext","loc":{"start":{"line":11402},"end":{"line":11402}}}],"loc":{"start":{"line":11377},"end":{"line":11401}}},"loc":{"start":{"line":11377},"end":{"line":11377}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":11435},"end":{"line":11435}}},"property":{"type":"Identifier","name":"update"},"loc":{"start":{"line":11435},"end":{"line":11441}}},"arguments":[{"type":"Identifier","name":"properties","loc":{"start":{"line":11449},"end":{"line":11449}}}],"loc":{"start":{"line":11435},"end":{"line":11448}}},"loc":{"start":{"line":11435},"end":{"line":11435}}},{"type":"IfStatement","test":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":11484},"end":{"line":11484}}},"property":{"type":"Identifier","name":"getHidden"},"loc":{"start":{"line":11484},"end":{"line":11490}}},"arguments":[],"loc":{"start":{"line":11484},"end":{"line":11500}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":11483},"end":{"line":11483}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessons","loc":{"start":{"line":11526},"end":{"line":11526}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":11526},"end":{"line":11533}}},"arguments":[{"type":"Identifier","name":"lesson","loc":{"start":{"line":11538},"end":{"line":11538}}}],"loc":{"start":{"line":11526},"end":{"line":11537}}},"loc":{"start":{"line":11526},"end":{"line":11526}}}],"loc":{"start":{"line":11504},"end":{"line":11563}}},"loc":{"start":{"line":11479},"end":{"line":11479}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonPlan","vartype":{"type":"MemberExpression","object":{"type":"Identifier","name":"Map","loc":{"start":{"line":11585},"end":{"line":11585}}},"property":{"type":"Identifier","name":"Entry"},"loc":{"start":{"line":11585},"end":{"line":11588}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"MemberExpression","object":{"type":"Identifier","name":"Map","loc":{"start":{"line":11585},"end":{"line":11585}}},"property":{"type":"Identifier","name":"Entry"},"loc":{"start":{"line":11585},"end":{"line":11588}}},"loc":{"start":{"line":11585},"end":{"line":11609}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":11622},"end":{"line":11622}}},"property":{"type":"Identifier","name":"getLessonPlans"},"loc":{"start":{"line":11622},"end":{"line":11628}}},"arguments":[],"loc":{"start":{"line":11622},"end":{"line":11643}}},"property":{"type":"Identifier","name":"entrySet"},"loc":{"start":{"line":11622},"end":{"line":11645}}},"arguments":[],"loc":{"start":{"line":11622},"end":{"line":11654}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":11680},"end":{"line":11680}}},"property":{"type":"Identifier","name":"setLessonPlanFileName"},"loc":{"start":{"line":11680},"end":{"line":11686}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonPlan","loc":{"start":{"line":11709},"end":{"line":11709}}},"property":{"type":"Identifier","name":"getKey"},"loc":{"start":{"line":11709},"end":{"line":11719}}},"arguments":[],"loc":{"start":{"line":11709},"end":{"line":11726}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonPlan","loc":{"start":{"line":11730},"end":{"line":11730}}},"property":{"type":"Identifier","name":"getValue"},"loc":{"start":{"line":11730},"end":{"line":11740}}},"arguments":[],"loc":{"start":{"line":11730},"end":{"line":11749}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":11730},"end":{"line":11751}}},"arguments":[],"loc":{"start":{"line":11730},"end":{"line":11760}}}],"loc":{"start":{"line":11680},"end":{"line":11708}}},"loc":{"start":{"line":11680},"end":{"line":11680}}}],"loc":{"start":{"line":11658},"end":{"line":11781}}},"loc":{"start":{"line":11581},"end":{"line":11581}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":11803},"end":{"line":11803}}},"property":{"type":"Identifier","name":"getLessonSolution"},"loc":{"start":{"line":11803},"end":{"line":11809}}},"arguments":[{"type":"Literal","value":"en","raw":"en","loc":{"start":{"line":11828},"end":{"line":11828}}}],"loc":{"start":{"line":11803},"end":{"line":11827}}},"property":{"type":"Identifier","name":"isPresent"},"loc":{"start":{"line":11803},"end":{"line":11833}}},"arguments":[],"loc":{"start":{"line":11803},"end":{"line":11843}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":11869},"end":{"line":11869}}},"property":{"type":"Identifier","name":"setLessonSolutionFileName"},"loc":{"start":{"line":11869},"end":{"line":11875}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":11902},"end":{"line":11902}}},"property":{"type":"Identifier","name":"getLessonSolution"},"loc":{"start":{"line":11902},"end":{"line":11908}}},"arguments":[{"type":"Literal","value":"en","raw":"en","loc":{"start":{"line":11927},"end":{"line":11927}}}],"loc":{"start":{"line":11902},"end":{"line":11926}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":11902},"end":{"line":11932}}},"arguments":[],"loc":{"start":{"line":11902},"end":{"line":11936}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":11902},"end":{"line":11938}}},"arguments":[],"loc":{"start":{"line":11902},"end":{"line":11947}}}],"loc":{"start":{"line":11869},"end":{"line":11901}}},"loc":{"start":{"line":11869},"end":{"line":11869}}}],"loc":{"start":{"line":11847},"end":{"line":11968}}},"loc":{"start":{"line":11799},"end":{"line":11799}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":11990},"end":{"line":11990}}},"property":{"type":"Identifier","name":"getLessonSource"},"loc":{"start":{"line":11990},"end":{"line":11996}}},"arguments":[],"loc":{"start":{"line":11990},"end":{"line":12012}}},"property":{"type":"Identifier","name":"isPresent"},"loc":{"start":{"line":11990},"end":{"line":12014}}},"arguments":[],"loc":{"start":{"line":11990},"end":{"line":12024}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":12050},"end":{"line":12050}}},"property":{"type":"Identifier","name":"setSourceFileName"},"loc":{"start":{"line":12050},"end":{"line":12056}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":12075},"end":{"line":12075}}},"property":{"type":"Identifier","name":"getLessonSource"},"loc":{"start":{"line":12075},"end":{"line":12081}}},"arguments":[],"loc":{"start":{"line":12075},"end":{"line":12097}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":12075},"end":{"line":12099}}},"arguments":[],"loc":{"start":{"line":12075},"end":{"line":12103}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":12075},"end":{"line":12105}}},"arguments":[],"loc":{"start":{"line":12075},"end":{"line":12114}}}],"loc":{"start":{"line":12050},"end":{"line":12074}}},"loc":{"start":{"line":12050},"end":{"line":12050}}}],"loc":{"start":{"line":12028},"end":{"line":12135}}},"loc":{"start":{"line":11986},"end":{"line":11986}}}],"loc":{"start":{"line":11293},"end":{"line":12149}}},"loc":{"start":{"line":11289},"end":{"line":12244}}}],"loc":{"start":{"line":11275},"end":{"line":12254}}},"loc":{"start":{"line":11245},"end":{"line":11245}}}],"loc":{"start":{"line":10775},"end":{"line":12260}}},"code":"\npublic void loadLessonFromPlugin(ServletContext context) {\n    logger.debug(\"Loading plugins into cache\");\n    String pluginPath \u003d context.getRealPath(\"plugin_lessons\");\n    String targetPath \u003d context.getRealPath(\"plugin_extracted\");\n    if (pluginPath \u003d\u003d null) {\n        logger.error(\"Plugins directory {} not found\", pluginPath);\n        return;\n    }\n    lessons.clear();\n    List\u003cPlugin\u003e plugins \u003d new PluginsLoader(Paths.get(pluginPath), Paths.get(targetPath)).loadPlugins();\n    for (Plugin plugin : plugins) {\n        try {\n            AbstractLesson lesson \u003d plugin.getLesson().get();\n            lesson.setWebgoatContext(webgoatContext);\n            lesson.update(properties);\n            if (!lesson.getHidden()) {\n                lessons.add(lesson);\n            }\n            for (Map.Entry\u003cString, File\u003e lessonPlan : plugin.getLessonPlans().entrySet()) {\n                lesson.setLessonPlanFileName(lessonPlan.getKey(), lessonPlan.getValue().toString());\n            }\n            if (plugin.getLessonSolution(\"en\").isPresent()) {\n                lesson.setLessonSolutionFileName(plugin.getLessonSolution(\"en\").get().toString());\n            }\n            if (plugin.getLessonSource().isPresent()) {\n                lesson.setSourceFileName(plugin.getLessonSource().get().toString());\n            }\n        } catch (Exception e) {\n            logger.error(\"Error in loadLessons: \", e);\n        }\n    }\n}","loc":{"start":{"line":10718},"end":{"line":10730}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"loadCourses"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"webgoatContext","vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":12551},"end":{"line":12551}}}},{"type":"Identifier","name":"context","vartype":{"type":"Identifier","name":"ServletContext","loc":{"start":{"line":12582},"end":{"line":12582}}}},{"type":"Identifier","name":"path","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":12606},"end":{"line":12606}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":12629},"end":{"line":12629}}},"property":{"type":"Identifier","name":"info"},"loc":{"start":{"line":12629},"end":{"line":12635}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Loading courses: ","raw":"Loading courses: ","loc":{"start":{"line":12641},"end":{"line":12641}}},"right":{"type":"Identifier","name":"path","loc":{"start":{"line":12663},"end":{"line":12663}}},"loc":{"start":{"line":12641},"end":{"line":12661}}}],"loc":{"start":{"line":12629},"end":{"line":12640}}},"loc":{"start":{"line":12629},"end":{"line":12629}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"webgoatContext"},"loc":{"start":{"line":12678},"end":{"line":12682}}},"right":{"type":"Identifier","name":"webgoatContext","loc":{"start":{"line":12700},"end":{"line":12700}}},"loc":{"start":{"line":12678},"end":{"line":12698}}},"loc":{"start":{"line":12678},"end":{"line":12678}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"loadLessonFromPlugin","loc":{"start":{"line":12724},"end":{"line":12724}}},"arguments":[{"type":"Identifier","name":"context","loc":{"start":{"line":12745},"end":{"line":12745}}}],"loc":{"start":{"line":12724},"end":{"line":12744}}},"loc":{"start":{"line":12724},"end":{"line":12724}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"loader","vartype":{"type":"Identifier","name":"LegacyLoader","loc":{"start":{"line":12763},"end":{"line":12763}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"LegacyLoader","loc":{"start":{"line":12763},"end":{"line":12763}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"LegacyLoader","loc":{"start":{"line":12789},"end":{"line":12789}}},"arguments":[],"loc":{"start":{"line":12785},"end":{"line":12785}}},"loc":{"start":{"line":12763},"end":{"line":12776}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessons","loc":{"start":{"line":12813},"end":{"line":12813}}},"property":{"type":"Identifier","name":"addAll"},"loc":{"start":{"line":12813},"end":{"line":12820}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"loader","loc":{"start":{"line":12828},"end":{"line":12828}}},"property":{"type":"Identifier","name":"loadLessons"},"loc":{"start":{"line":12828},"end":{"line":12834}}},"arguments":[{"type":"Identifier","name":"webgoatContext","loc":{"start":{"line":12847},"end":{"line":12847}}},{"type":"Identifier","name":"context","loc":{"start":{"line":12863},"end":{"line":12863}}},{"type":"Identifier","name":"path","loc":{"start":{"line":12872},"end":{"line":12872}}},{"type":"Identifier","name":"properties","loc":{"start":{"line":12878},"end":{"line":12878}}}],"loc":{"start":{"line":12828},"end":{"line":12846}}}],"loc":{"start":{"line":12813},"end":{"line":12827}}},"loc":{"start":{"line":12813},"end":{"line":12813}}}],"loc":{"start":{"line":12619},"end":{"line":12904}}},"code":"\npublic void loadCourses(WebgoatContext webgoatContext, ServletContext context, String path) {\n    logger.info(\"Loading courses: \" + path);\n    this.webgoatContext \u003d webgoatContext;\n    loadLessonFromPlugin(context);\n    LegacyLoader loader \u003d new LegacyLoader();\n    lessons.addAll(loader.loadLessons(webgoatContext, context, path, properties));\n}","loc":{"start":{"line":12527},"end":{"line":12539}}}],"loc":{"start":{"line":2299},"end":{"line":2306}}}],"loc":{"start":{"line":0},"end":{"line":0}}}