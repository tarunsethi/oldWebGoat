{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":9},"end":{"line":9}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":9},"end":{"line":12}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":9},"end":{"line":18}}},"property":{"type":"Identifier","name":"session"},"loc":{"start":{"line":9},"end":{"line":26}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":44},"end":{"line":44}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":44},"end":{"line":48}}},"property":{"type":"Identifier","name":"IOException"},"loc":{"start":{"line":44},"end":{"line":51}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":72},"end":{"line":72}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":72},"end":{"line":76}}},"property":{"type":"Identifier","name":"Connection"},"loc":{"start":{"line":72},"end":{"line":80}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":100},"end":{"line":100}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":100},"end":{"line":104}}},"property":{"type":"Identifier","name":"DriverManager"},"loc":{"start":{"line":100},"end":{"line":108}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":131},"end":{"line":131}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":131},"end":{"line":135}}},"property":{"type":"Identifier","name":"ResultSet"},"loc":{"start":{"line":131},"end":{"line":139}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":158},"end":{"line":158}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":158},"end":{"line":162}}},"property":{"type":"Identifier","name":"ResultSetMetaData"},"loc":{"start":{"line":158},"end":{"line":166}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":193},"end":{"line":193}}},"property":{"type":"Identifier","name":"sql"},"loc":{"start":{"line":193},"end":{"line":197}}},"property":{"type":"Identifier","name":"SQLException"},"loc":{"start":{"line":193},"end":{"line":201}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":223},"end":{"line":223}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":223},"end":{"line":227}}},"property":{"type":"Identifier","name":"HashMap"},"loc":{"start":{"line":223},"end":{"line":232}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":249},"end":{"line":249}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":249},"end":{"line":253}}},"property":{"type":"Identifier","name":"Map"},"loc":{"start":{"line":249},"end":{"line":258}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":271},"end":{"line":271}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":271},"end":{"line":274}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":271},"end":{"line":281}}},"property":{"type":"Identifier","name":"MultiPartElement"},"loc":{"start":{"line":271},"end":{"line":285}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":311},"end":{"line":311}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":311},"end":{"line":314}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":311},"end":{"line":321}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":311},"end":{"line":325}}},"property":{"type":"Identifier","name":"B"},"loc":{"start":{"line":311},"end":{"line":330}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":341},"end":{"line":341}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":341},"end":{"line":344}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":341},"end":{"line":351}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":341},"end":{"line":355}}},"property":{"type":"Identifier","name":"TD"},"loc":{"start":{"line":341},"end":{"line":360}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":372},"end":{"line":372}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":372},"end":{"line":375}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":372},"end":{"line":382}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":372},"end":{"line":386}}},"property":{"type":"Identifier","name":"TR"},"loc":{"start":{"line":372},"end":{"line":391}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":403},"end":{"line":403}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":403},"end":{"line":406}}},"property":{"type":"Identifier","name":"ecs"},"loc":{"start":{"line":403},"end":{"line":413}}},"property":{"type":"Identifier","name":"html"},"loc":{"start":{"line":403},"end":{"line":417}}},"property":{"type":"Identifier","name":"Table"},"loc":{"start":{"line":403},"end":{"line":422}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"DatabaseUtilities"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"connections","vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1814},"end":{"line":1814}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1814},"end":{"line":1814}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"HashMap","loc":{"start":{"line":1856},"end":{"line":1856}}},"arguments":[],"loc":{"start":{"line":1852},"end":{"line":1852}}},"loc":{"start":{"line":1799},"end":{"line":1838}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"dbBuilt","vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1903},"end":{"line":1903}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1903},"end":{"line":1903}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"HashMap","loc":{"start":{"line":1938},"end":{"line":1938}}},"arguments":[],"loc":{"start":{"line":1934},"end":{"line":1934}}},"loc":{"start":{"line":1888},"end":{"line":1924}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getConnection"},"modifiers":{"type":"Modifiers","modifiers":["public","static"],"annotations":[]},"restype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":2182},"end":{"line":2182}}},"typarams":[],"params":[{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"WebSession","loc":{"start":{"line":2207},"end":{"line":2207}}}}],"thrown":[{"type":"Identifier","name":"SQLException","loc":{"start":{"line":2228},"end":{"line":2228}}}],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getConnection","loc":{"start":{"line":2253},"end":{"line":2253}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":2267},"end":{"line":2267}}},"property":{"type":"Identifier","name":"getUserName"},"loc":{"start":{"line":2267},"end":{"line":2268}}},"arguments":[],"loc":{"start":{"line":2267},"end":{"line":2280}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"s","loc":{"start":{"line":2284},"end":{"line":2284}}},"property":{"type":"Identifier","name":"getWebgoatContext"},"loc":{"start":{"line":2284},"end":{"line":2285}}},"arguments":[],"loc":{"start":{"line":2284},"end":{"line":2303}}}],"loc":{"start":{"line":2253},"end":{"line":2266}}},"loc":{"start":{"line":2246},"end":{"line":2246}}}],"loc":{"start":{"line":2242},"end":{"line":2309}}},"code":"\npublic static Connection getConnection(WebSession s) throws SQLException {\n    return getConnection(s.getUserName(), s.getWebgoatContext());\n}","loc":{"start":{"line":2168},"end":{"line":2193}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getConnection"},"modifiers":{"type":"Modifiers","modifiers":["public","static","synchronized"],"annotations":[]},"restype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":2601},"end":{"line":2601}}},"typarams":[],"params":[{"type":"Identifier","name":"user","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":2626},"end":{"line":2626}}}},{"type":"Identifier","name":"context","vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":2639},"end":{"line":2639}}}}],"thrown":[{"type":"Identifier","name":"SQLException","loc":{"start":{"line":2670},"end":{"line":2670}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"conn","vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":2688},"end":{"line":2688}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":2688},"end":{"line":2688}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connections","loc":{"start":{"line":2706},"end":{"line":2706}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":2706},"end":{"line":2717}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":2722},"end":{"line":2722}}}],"loc":{"start":{"line":2706},"end":{"line":2721}}},"loc":{"start":{"line":2688},"end":{"line":2699}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"type":"BinaryExpression","operator":"NOT_EQUAL_TO","left":{"type":"Identifier","name":"conn","loc":{"start":{"line":2735},"end":{"line":2735}}},"right":{"type":"Literal","loc":{"start":{"line":2743},"end":{"line":2743}}},"loc":{"start":{"line":2735},"end":{"line":2740}}},"right":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"conn","loc":{"start":{"line":2752},"end":{"line":2752}}},"property":{"type":"Identifier","name":"isClosed"},"loc":{"start":{"line":2752},"end":{"line":2756}}},"arguments":[],"loc":{"start":{"line":2752},"end":{"line":2765}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":2751},"end":{"line":2751}}},"loc":{"start":{"line":2735},"end":{"line":2748}}},"consequent":{"type":"ReturnStatement","argument":{"type":"Identifier","name":"conn","loc":{"start":{"line":2776},"end":{"line":2776}}},"loc":{"start":{"line":2769},"end":{"line":2769}}},"loc":{"start":{"line":2731},"end":{"line":2731}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"conn","loc":{"start":{"line":2784},"end":{"line":2784}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"makeConnection","loc":{"start":{"line":2791},"end":{"line":2791}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":2806},"end":{"line":2806}}},{"type":"Identifier","name":"context","loc":{"start":{"line":2812},"end":{"line":2812}}}],"loc":{"start":{"line":2791},"end":{"line":2805}}},"loc":{"start":{"line":2784},"end":{"line":2789}}},"loc":{"start":{"line":2784},"end":{"line":2784}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connections","loc":{"start":{"line":2824},"end":{"line":2824}}},"property":{"type":"Identifier","name":"put"},"loc":{"start":{"line":2824},"end":{"line":2835}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":2840},"end":{"line":2840}}},{"type":"Identifier","name":"conn","loc":{"start":{"line":2846},"end":{"line":2846}}}],"loc":{"start":{"line":2824},"end":{"line":2839}}},"loc":{"start":{"line":2824},"end":{"line":2824}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"dbBuilt","loc":{"start":{"line":2860},"end":{"line":2860}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":2860},"end":{"line":2867}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":2872},"end":{"line":2872}}}],"loc":{"start":{"line":2860},"end":{"line":2871}}},"right":{"type":"Literal","loc":{"start":{"line":2881},"end":{"line":2881}}},"loc":{"start":{"line":2860},"end":{"line":2878}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"CreateDB","loc":{"start":{"line":2898},"end":{"line":2898}}},"arguments":[],"loc":{"start":{"line":2894},"end":{"line":2894}}},"property":{"type":"Identifier","name":"makeDB"},"loc":{"start":{"line":2894},"end":{"line":2908}}},"arguments":[{"type":"Identifier","name":"conn","loc":{"start":{"line":2916},"end":{"line":2916}}}],"loc":{"start":{"line":2894},"end":{"line":2915}}},"loc":{"start":{"line":2894},"end":{"line":2894}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"dbBuilt","loc":{"start":{"line":2926},"end":{"line":2926}}},"property":{"type":"Identifier","name":"put"},"loc":{"start":{"line":2926},"end":{"line":2933}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":2938},"end":{"line":2938}}},{"type":"MemberExpression","object":{"type":"Identifier","name":"Boolean","loc":{"start":{"line":2944},"end":{"line":2944}}},"property":{"type":"Identifier","name":"TRUE"},"loc":{"start":{"line":2944},"end":{"line":2951}}}],"loc":{"start":{"line":2926},"end":{"line":2937}}},"loc":{"start":{"line":2926},"end":{"line":2926}}}],"loc":{"start":{"line":2889},"end":{"line":2961}}},"loc":{"start":{"line":2856},"end":{"line":2856}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"conn","loc":{"start":{"line":2973},"end":{"line":2973}}},"loc":{"start":{"line":2966},"end":{"line":2966}}}],"loc":{"start":{"line":2684},"end":{"line":2980}}},"code":"\npublic static synchronized Connection getConnection(String user, WebgoatContext context) throws SQLException {\n    Connection conn \u003d connections.get(user);\n    if (conn !\u003d null \u0026\u0026 !conn.isClosed()) return conn;\n    conn \u003d makeConnection(user, context);\n    connections.put(user, conn);\n    if (dbBuilt.get(user) \u003d\u003d null) {\n        new CreateDB().makeDB(conn);\n        dbBuilt.put(user, Boolean.TRUE);\n    }\n    return conn;\n}","loc":{"start":{"line":2574},"end":{"line":2612}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"returnConnection"},"modifiers":{"type":"Modifiers","modifiers":["public","static","synchronized"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"user","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3127},"end":{"line":3127}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"sqle","vartype":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":3386},"end":{"line":3386}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"sqle","loc":{"start":{"line":3412},"end":{"line":3412}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":3412},"end":{"line":3416}}},"arguments":[],"loc":{"start":{"line":3412},"end":{"line":3432}}},"loc":{"start":{"line":3412},"end":{"line":3412}}}],"loc":{"start":{"line":3407},"end":{"line":3438}}},"loc":{"start":{"line":3379},"end":{"line":3379}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"connection","vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":3156},"end":{"line":3156}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":3156},"end":{"line":3156}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connections","loc":{"start":{"line":3180},"end":{"line":3180}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":3180},"end":{"line":3191}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":3196},"end":{"line":3196}}}],"loc":{"start":{"line":3180},"end":{"line":3195}}},"loc":{"start":{"line":3156},"end":{"line":3167}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_OR","left":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"Identifier","name":"connection","loc":{"start":{"line":3210},"end":{"line":3210}}},"right":{"type":"Literal","loc":{"start":{"line":3224},"end":{"line":3224}}},"loc":{"start":{"line":3210},"end":{"line":3221}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connection","loc":{"start":{"line":3232},"end":{"line":3232}}},"property":{"type":"Identifier","name":"isClosed"},"loc":{"start":{"line":3232},"end":{"line":3242}}},"arguments":[],"loc":{"start":{"line":3232},"end":{"line":3251}}},"loc":{"start":{"line":3210},"end":{"line":3229}}},"consequent":{"type":"ReturnStatement","loc":{"start":{"line":3255},"end":{"line":3255}}},"loc":{"start":{"line":3206},"end":{"line":3206}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connection","loc":{"start":{"line":3271},"end":{"line":3271}}},"property":{"type":"Identifier","name":"getMetaData"},"loc":{"start":{"line":3271},"end":{"line":3281}}},"arguments":[],"loc":{"start":{"line":3271},"end":{"line":3293}}},"property":{"type":"Identifier","name":"getDatabaseProductName"},"loc":{"start":{"line":3271},"end":{"line":3295}}},"arguments":[],"loc":{"start":{"line":3271},"end":{"line":3318}}},"property":{"type":"Identifier","name":"toLowerCase"},"loc":{"start":{"line":3271},"end":{"line":3320}}},"arguments":[],"loc":{"start":{"line":3271},"end":{"line":3332}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":3271},"end":{"line":3334}}},"arguments":[{"type":"Literal","value":"oracle","raw":"oracle","loc":{"start":{"line":3344},"end":{"line":3344}}}],"loc":{"start":{"line":3271},"end":{"line":3343}}},"consequent":{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"connection","loc":{"start":{"line":3355},"end":{"line":3355}}},"property":{"type":"Identifier","name":"close"},"loc":{"start":{"line":3355},"end":{"line":3365}}},"arguments":[],"loc":{"start":{"line":3355},"end":{"line":3371}}},"loc":{"start":{"line":3355},"end":{"line":3355}}},"loc":{"start":{"line":3267},"end":{"line":3267}}}],"loc":{"start":{"line":3151},"end":{"line":3377}}},"loc":{"start":{"line":3145},"end":{"line":3438}}}],"loc":{"start":{"line":3141},"end":{"line":3441}}},"code":"\npublic static synchronized void returnConnection(String user) {\n    try {\n        Connection connection \u003d connections.get(user);\n        if (connection \u003d\u003d null || connection.isClosed()) return;\n        if (connection.getMetaData().getDatabaseProductName().toLowerCase().contains(\"oracle\")) connection.close();\n    } catch (SQLException sqle) {\n        sqle.printStackTrace();\n    }\n}","loc":{"start":{"line":3078},"end":{"line":3110}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"makeConnection"},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"restype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":3460},"end":{"line":3460}}},"typarams":[],"params":[{"type":"Identifier","name":"user","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3486},"end":{"line":3486}}}},{"type":"Identifier","name":"context","vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":3499},"end":{"line":3499}}}}],"thrown":[{"type":"Identifier","name":"SQLException","loc":{"start":{"line":3530},"end":{"line":3530}}}],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"cnfe","vartype":{"type":"Identifier","name":"ClassNotFoundException","loc":{"start":{"line":3953},"end":{"line":3953}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cnfe","loc":{"start":{"line":3989},"end":{"line":3989}}},"property":{"type":"Identifier","name":"printStackTrace"},"loc":{"start":{"line":3989},"end":{"line":3993}}},"arguments":[],"loc":{"start":{"line":3989},"end":{"line":4009}}},"loc":{"start":{"line":3989},"end":{"line":3989}}},{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"SQLException","loc":{"start":{"line":4026},"end":{"line":4026}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Couldn\u0027t load the database driver: ","raw":"Couldn\u0027t load the database driver: ","loc":{"start":{"line":4039},"end":{"line":4039}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cnfe","loc":{"start":{"line":4079},"end":{"line":4079}}},"property":{"type":"Identifier","name":"getLocalizedMessage"},"loc":{"start":{"line":4079},"end":{"line":4083}}},"arguments":[],"loc":{"start":{"line":4079},"end":{"line":4103}}},"loc":{"start":{"line":4039},"end":{"line":4077}}}],"loc":{"start":{"line":4022},"end":{"line":4022}}},"loc":{"start":{"line":4016},"end":{"line":4016}}}],"loc":{"start":{"line":3984},"end":{"line":4110}}},"loc":{"start":{"line":3946},"end":{"line":3946}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Class","loc":{"start":{"line":3557},"end":{"line":3557}}},"property":{"type":"Identifier","name":"forName"},"loc":{"start":{"line":3557},"end":{"line":3562}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":3571},"end":{"line":3571}}},"property":{"type":"Identifier","name":"getDatabaseDriver"},"loc":{"start":{"line":3571},"end":{"line":3578}}},"arguments":[],"loc":{"start":{"line":3571},"end":{"line":3596}}}],"loc":{"start":{"line":3557},"end":{"line":3570}}},"loc":{"start":{"line":3557},"end":{"line":3557}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":3608},"end":{"line":3608}}},"property":{"type":"Identifier","name":"getDatabaseConnectionString"},"loc":{"start":{"line":3608},"end":{"line":3615}}},"arguments":[],"loc":{"start":{"line":3608},"end":{"line":3643}}},"property":{"type":"Identifier","name":"contains"},"loc":{"start":{"line":3608},"end":{"line":3645}}},"arguments":[{"type":"Literal","value":"hsqldb","raw":"hsqldb","loc":{"start":{"line":3655},"end":{"line":3655}}}],"loc":{"start":{"line":3608},"end":{"line":3654}}},"consequent":{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"getHsqldbConnection","loc":{"start":{"line":3673},"end":{"line":3673}}},"arguments":[{"type":"Identifier","name":"user","loc":{"start":{"line":3693},"end":{"line":3693}}},{"type":"Identifier","name":"context","loc":{"start":{"line":3699},"end":{"line":3699}}}],"loc":{"start":{"line":3673},"end":{"line":3692}}},"loc":{"start":{"line":3666},"end":{"line":3666}}},"loc":{"start":{"line":3604},"end":{"line":3604}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"userPrefix","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3712},"end":{"line":3712}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3712},"end":{"line":3712}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":3732},"end":{"line":3732}}},"property":{"type":"Identifier","name":"getDatabaseUser"},"loc":{"start":{"line":3732},"end":{"line":3739}}},"arguments":[],"loc":{"start":{"line":3732},"end":{"line":3755}}},"loc":{"start":{"line":3712},"end":{"line":3719}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"password","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3761},"end":{"line":3761}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3761},"end":{"line":3761}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":3779},"end":{"line":3779}}},"property":{"type":"Identifier","name":"getDatabasePassword"},"loc":{"start":{"line":3779},"end":{"line":3786}}},"arguments":[],"loc":{"start":{"line":3779},"end":{"line":3806}}},"loc":{"start":{"line":3761},"end":{"line":3768}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"url","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3812},"end":{"line":3812}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3812},"end":{"line":3812}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":3825},"end":{"line":3825}}},"property":{"type":"Identifier","name":"getDatabaseConnectionString"},"loc":{"start":{"line":3825},"end":{"line":3832}}},"arguments":[],"loc":{"start":{"line":3825},"end":{"line":3860}}},"loc":{"start":{"line":3812},"end":{"line":3819}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"DriverManager","loc":{"start":{"line":3873},"end":{"line":3873}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":3873},"end":{"line":3886}}},"arguments":[{"type":"Identifier","name":"url","loc":{"start":{"line":3901},"end":{"line":3901}}},{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"userPrefix","loc":{"start":{"line":3906},"end":{"line":3906}}},"right":{"type":"Literal","value":"_","raw":"_","loc":{"start":{"line":3919},"end":{"line":3919}}},"loc":{"start":{"line":3906},"end":{"line":3917}}},"right":{"type":"Identifier","name":"user","loc":{"start":{"line":3925},"end":{"line":3925}}},"loc":{"start":{"line":3906},"end":{"line":3923}}},{"type":"Identifier","name":"password","loc":{"start":{"line":3931},"end":{"line":3931}}}],"loc":{"start":{"line":3873},"end":{"line":3900}}},"loc":{"start":{"line":3866},"end":{"line":3866}}}],"loc":{"start":{"line":3553},"end":{"line":3944}}},"loc":{"start":{"line":3548},"end":{"line":4110}}}],"loc":{"start":{"line":3544},"end":{"line":4113}}},"code":"\nprivate static Connection makeConnection(String user, WebgoatContext context) throws SQLException {\n    try {\n        Class.forName(context.getDatabaseDriver());\n        if (context.getDatabaseConnectionString().contains(\"hsqldb\")) return getHsqldbConnection(user, context);\n        String userPrefix \u003d context.getDatabaseUser();\n        String password \u003d context.getDatabasePassword();\n        String url \u003d context.getDatabaseConnectionString();\n        return DriverManager.getConnection(url, userPrefix + \"_\" + user, password);\n    } catch (ClassNotFoundException cnfe) {\n        cnfe.printStackTrace();\n        throw new SQLException(\"Couldn\\\u0027t load the database driver: \" + cnfe.getLocalizedMessage());\n    }\n}","loc":{"start":{"line":3445},"end":{"line":3471}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getHsqldbConnection"},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"restype":{"type":"Identifier","name":"Connection","loc":{"start":{"line":4132},"end":{"line":4132}}},"typarams":[],"params":[{"type":"Identifier","name":"user","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4163},"end":{"line":4163}}}},{"type":"Identifier","name":"context","vartype":{"type":"Identifier","name":"WebgoatContext","loc":{"start":{"line":4176},"end":{"line":4176}}}}],"thrown":[{"type":"Identifier","name":"ClassNotFoundException","loc":{"start":{"line":4207},"end":{"line":4207}}},{"type":"Identifier","name":"SQLException","loc":{"start":{"line":4234},"end":{"line":4234}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"url","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4252},"end":{"line":4252}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4252},"end":{"line":4252}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"context","loc":{"start":{"line":4265},"end":{"line":4265}}},"property":{"type":"Identifier","name":"getDatabaseConnectionString"},"loc":{"start":{"line":4265},"end":{"line":4272}}},"arguments":[],"loc":{"start":{"line":4265},"end":{"line":4300}}},"property":{"type":"Identifier","name":"replaceAll"},"loc":{"start":{"line":4265},"end":{"line":4302}}},"arguments":[{"type":"Literal","value":"\\$\\{USER\\}","raw":"\\$\\{USER\\}","loc":{"start":{"line":4314},"end":{"line":4314}}},{"type":"Identifier","name":"user","loc":{"start":{"line":4331},"end":{"line":4331}}}],"loc":{"start":{"line":4265},"end":{"line":4313}}},"loc":{"start":{"line":4252},"end":{"line":4259}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"DriverManager","loc":{"start":{"line":4347},"end":{"line":4347}}},"property":{"type":"Identifier","name":"getConnection"},"loc":{"start":{"line":4347},"end":{"line":4360}}},"arguments":[{"type":"Identifier","name":"url","loc":{"start":{"line":4375},"end":{"line":4375}}},{"type":"Literal","value":"sa","raw":"sa","loc":{"start":{"line":4380},"end":{"line":4380}}},{"type":"Literal","value":"","raw":"","loc":{"start":{"line":4386},"end":{"line":4386}}}],"loc":{"start":{"line":4347},"end":{"line":4374}}},"loc":{"start":{"line":4340},"end":{"line":4340}}}],"loc":{"start":{"line":4248},"end":{"line":4392}}},"code":"\nprivate static Connection getHsqldbConnection(String user, WebgoatContext context) throws ClassNotFoundException, SQLException {\n    String url \u003d context.getDatabaseConnectionString().replaceAll(\"\\\\$\\\\{USER\\\\}\", user);\n    return DriverManager.getConnection(url, \"sa\", \"\");\n}","loc":{"start":{"line":4117},"end":{"line":4143}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"writeTable"},"modifiers":{"type":"Modifiers","modifiers":["public","static"],"annotations":[]},"restype":{"type":"Identifier","name":"MultiPartElement","loc":{"start":{"line":4936},"end":{"line":4936}}},"typarams":[],"params":[{"type":"Identifier","name":"results","vartype":{"type":"Identifier","name":"ResultSet","loc":{"start":{"line":4964},"end":{"line":4964}}}},{"type":"Identifier","name":"resultsMetaData","vartype":{"type":"Identifier","name":"ResultSetMetaData","loc":{"start":{"line":4983},"end":{"line":4983}}}}],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":5025},"end":{"line":5025}}},{"type":"Identifier","name":"SQLException","loc":{"start":{"line":5041},"end":{"line":5041}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"numColumns","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"resultsMetaData","loc":{"start":{"line":5076},"end":{"line":5076}}},"property":{"type":"Identifier","name":"getColumnCount"},"loc":{"start":{"line":5076},"end":{"line":5091}}},"arguments":[],"loc":{"start":{"line":5076},"end":{"line":5106}}},"loc":{"start":{"line":5059},"end":{"line":5063}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":5112},"end":{"line":5112}}},"property":{"type":"Identifier","name":"beforeFirst"},"loc":{"start":{"line":5112},"end":{"line":5119}}},"arguments":[],"loc":{"start":{"line":5112},"end":{"line":5131}}},"loc":{"start":{"line":5112},"end":{"line":5112}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":5142},"end":{"line":5142}}},"property":{"type":"Identifier","name":"next"},"loc":{"start":{"line":5142},"end":{"line":5149}}},"arguments":[],"loc":{"start":{"line":5142},"end":{"line":5154}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"t","vartype":{"type":"Identifier","name":"Table","loc":{"start":{"line":5165},"end":{"line":5165}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Table","loc":{"start":{"line":5165},"end":{"line":5165}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Table","loc":{"start":{"line":5179},"end":{"line":5179}}},"arguments":[{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5185},"end":{"line":5185}}}],"loc":{"start":{"line":5175},"end":{"line":5175}}},"loc":{"start":{"line":5165},"end":{"line":5171}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":5211},"end":{"line":5211}}},"property":{"type":"Identifier","name":"setCellPadding"},"loc":{"start":{"line":5211},"end":{"line":5212}}},"arguments":[{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5228},"end":{"line":5228}}}],"loc":{"start":{"line":5211},"end":{"line":5227}}},"loc":{"start":{"line":5211},"end":{"line":5211}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"tr","vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":5236},"end":{"line":5236}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":5236},"end":{"line":5236}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TR","loc":{"start":{"line":5248},"end":{"line":5248}}},"arguments":[],"loc":{"start":{"line":5244},"end":{"line":5244}}},"loc":{"start":{"line":5236},"end":{"line":5239}}},{"type":"ForStatement","init":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5271},"end":{"line":5271}}},"loc":{"start":{"line":5263},"end":{"line":5267}}}],"test":{"type":"BinaryExpression","operator":"LESS_THAN","left":{"type":"Identifier","name":"i","loc":{"start":{"line":5274},"end":{"line":5274}}},"right":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"numColumns","loc":{"start":{"line":5279},"end":{"line":5279}}},"right":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5292},"end":{"line":5292}}},"loc":{"start":{"line":5279},"end":{"line":5290}}},"loc":{"start":{"line":5274},"end":{"line":5276}}},"update":[{"type":"ExpressionStatement","expression":{"argument":{"type":"Identifier","name":"i","loc":{"start":{"line":5296},"end":{"line":5296}}},"type":"UpdateExpression","operator":"++","prefix":false},"loc":{"start":{"line":5296},"end":{"line":5296}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"tr","loc":{"start":{"line":5310},"end":{"line":5310}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":5310},"end":{"line":5312}}},"arguments":[{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TD","loc":{"start":{"line":5328},"end":{"line":5328}}},"arguments":[{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"B","loc":{"start":{"line":5335},"end":{"line":5335}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"resultsMetaData","loc":{"start":{"line":5337},"end":{"line":5337}}},"property":{"type":"Identifier","name":"getColumnName"},"loc":{"start":{"line":5337},"end":{"line":5352}}},"arguments":[{"type":"Identifier","name":"i","loc":{"start":{"line":5367},"end":{"line":5367}}}],"loc":{"start":{"line":5337},"end":{"line":5366}}}],"loc":{"start":{"line":5331},"end":{"line":5331}}}],"loc":{"start":{"line":5324},"end":{"line":5324}}}],"loc":{"start":{"line":5310},"end":{"line":5323}}},"loc":{"start":{"line":5310},"end":{"line":5310}}}],"loc":{"start":{"line":5304},"end":{"line":5377}}},"loc":{"start":{"line":5258},"end":{"line":5258}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":5383},"end":{"line":5383}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":5383},"end":{"line":5384}}},"arguments":[{"type":"Identifier","name":"tr","loc":{"start":{"line":5396},"end":{"line":5396}}}],"loc":{"start":{"line":5383},"end":{"line":5395}}},"loc":{"start":{"line":5383},"end":{"line":5383}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":5404},"end":{"line":5404}}},"property":{"type":"Identifier","name":"beforeFirst"},"loc":{"start":{"line":5404},"end":{"line":5411}}},"arguments":[],"loc":{"start":{"line":5404},"end":{"line":5423}}},"loc":{"start":{"line":5404},"end":{"line":5404}}},{"type":"WhileStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":5438},"end":{"line":5438}}},"property":{"type":"Identifier","name":"next"},"loc":{"start":{"line":5438},"end":{"line":5445}}},"arguments":[],"loc":{"start":{"line":5438},"end":{"line":5450}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"row","vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":5463},"end":{"line":5463}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"TR","loc":{"start":{"line":5463},"end":{"line":5463}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TR","loc":{"start":{"line":5476},"end":{"line":5476}}},"arguments":[],"loc":{"start":{"line":5472},"end":{"line":5472}}},"loc":{"start":{"line":5463},"end":{"line":5466}}},{"type":"ForStatement","init":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5500},"end":{"line":5500}}},"loc":{"start":{"line":5492},"end":{"line":5496}}}],"test":{"type":"BinaryExpression","operator":"LESS_THAN","left":{"type":"Identifier","name":"i","loc":{"start":{"line":5503},"end":{"line":5503}}},"right":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Identifier","name":"numColumns","loc":{"start":{"line":5508},"end":{"line":5508}}},"right":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":5521},"end":{"line":5521}}},"loc":{"start":{"line":5508},"end":{"line":5519}}},"loc":{"start":{"line":5503},"end":{"line":5505}}},"update":[{"type":"ExpressionStatement","expression":{"argument":{"type":"Identifier","name":"i","loc":{"start":{"line":5525},"end":{"line":5525}}},"type":"UpdateExpression","operator":"++","prefix":false},"loc":{"start":{"line":5525},"end":{"line":5525}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"str","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":5541},"end":{"line":5541}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":5541},"end":{"line":5541}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"results","loc":{"start":{"line":5554},"end":{"line":5554}}},"property":{"type":"Identifier","name":"getString"},"loc":{"start":{"line":5554},"end":{"line":5561}}},"arguments":[{"type":"Identifier","name":"i","loc":{"start":{"line":5572},"end":{"line":5572}}}],"loc":{"start":{"line":5554},"end":{"line":5571}}},"loc":{"start":{"line":5541},"end":{"line":5548}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"EQUAL_TO","left":{"type":"Identifier","name":"str","loc":{"start":{"line":5585},"end":{"line":5585}}},"right":{"type":"Literal","loc":{"start":{"line":5592},"end":{"line":5592}}},"loc":{"start":{"line":5585},"end":{"line":5589}}},"consequent":{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"str","loc":{"start":{"line":5598},"end":{"line":5598}}},"right":{"type":"Literal","value":"","raw":"","loc":{"start":{"line":5604},"end":{"line":5604}}},"loc":{"start":{"line":5598},"end":{"line":5602}}},"loc":{"start":{"line":5598},"end":{"line":5598}}},"loc":{"start":{"line":5581},"end":{"line":5581}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"row","loc":{"start":{"line":5613},"end":{"line":5613}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":5613},"end":{"line":5616}}},"arguments":[{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"TD","loc":{"start":{"line":5632},"end":{"line":5632}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"str","loc":{"start":{"line":5635},"end":{"line":5635}}},"property":{"type":"Identifier","name":"replaceAll"},"loc":{"start":{"line":5635},"end":{"line":5638}}},"arguments":[{"type":"Literal","value":" ","raw":" ","loc":{"start":{"line":5650},"end":{"line":5650}}},{"type":"Literal","value":"\u0026nbsp;","raw":"\u0026nbsp;","loc":{"start":{"line":5655},"end":{"line":5655}}}],"loc":{"start":{"line":5635},"end":{"line":5649}}}],"loc":{"start":{"line":5628},"end":{"line":5628}}}],"loc":{"start":{"line":5613},"end":{"line":5627}}},"loc":{"start":{"line":5613},"end":{"line":5613}}}],"loc":{"start":{"line":5534},"end":{"line":5672}}},"loc":{"start":{"line":5487},"end":{"line":5487}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"t","loc":{"start":{"line":5679},"end":{"line":5679}}},"property":{"type":"Identifier","name":"addElement"},"loc":{"start":{"line":5679},"end":{"line":5680}}},"arguments":[{"type":"Identifier","name":"row","loc":{"start":{"line":5692},"end":{"line":5692}}}],"loc":{"start":{"line":5679},"end":{"line":5691}}},"loc":{"start":{"line":5679},"end":{"line":5679}}}],"loc":{"start":{"line":5457},"end":{"line":5701}}},"loc":{"start":{"line":5431},"end":{"line":5431}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"t","loc":{"start":{"line":5715},"end":{"line":5715}}},"loc":{"start":{"line":5707},"end":{"line":5707}}}],"loc":{"start":{"line":5160},"end":{"line":5721}}},"alternate":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"B","loc":{"start":{"line":5749},"end":{"line":5749}}},"arguments":[{"type":"Literal","value":"Query Successful; however no data was returned from this query.","raw":"Query Successful; however no data was returned from this query.","loc":{"start":{"line":5751},"end":{"line":5751}}}],"loc":{"start":{"line":5745},"end":{"line":5745}}},"loc":{"start":{"line":5737},"end":{"line":5737}}}],"loc":{"start":{"line":5732},"end":{"line":5822}}},"loc":{"start":{"line":5138},"end":{"line":5138}}}],"loc":{"start":{"line":5055},"end":{"line":5825}}},"code":"\npublic static MultiPartElement writeTable(ResultSet results, ResultSetMetaData resultsMetaData) throws IOException, SQLException {\n    int numColumns \u003d resultsMetaData.getColumnCount();\n    results.beforeFirst();\n    if (results.next()) {\n        Table t \u003d new Table(1);\n        t.setCellPadding(1);\n        TR tr \u003d new TR();\n        for (int i \u003d 1; i \u003c (numColumns + 1); i++) {\n            tr.addElement(new TD(new B(resultsMetaData.getColumnName(i))));\n        }\n        t.addElement(tr);\n        results.beforeFirst();\n        while (results.next()) {\n            TR row \u003d new TR();\n            for (int i \u003d 1; i \u003c (numColumns + 1); i++) {\n                String str \u003d results.getString(i);\n                if (str \u003d\u003d null) str \u003d \"\";\n                row.addElement(new TD(str.replaceAll(\" \", \"\u0026nbsp;\")));\n            }\n            t.addElement(row);\n        }\n        return (t);\n    } else {\n        return (new B(\"Query Successful; however no data was returned from this query.\"));\n    }\n}","loc":{"start":{"line":4922},"end":{"line":4953}}}],"loc":{"start":{"line":1764},"end":{"line":1771}}}],"loc":{"start":{"line":1},"end":{"line":1}}}