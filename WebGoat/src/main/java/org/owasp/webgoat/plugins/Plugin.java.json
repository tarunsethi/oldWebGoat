{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":8},"end":{"line":11}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":8},"end":{"line":17}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":8},"end":{"line":25}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"com","loc":{"start":{"line":43},"end":{"line":43}}},"property":{"type":"Identifier","name":"google"},"loc":{"start":{"line":43},"end":{"line":46}}},"property":{"type":"Identifier","name":"common"},"loc":{"start":{"line":43},"end":{"line":53}}},"property":{"type":"Identifier","name":"base"},"loc":{"start":{"line":43},"end":{"line":60}}},"property":{"type":"Identifier","name":"Optional"},"loc":{"start":{"line":43},"end":{"line":65}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"com","loc":{"start":{"line":83},"end":{"line":83}}},"property":{"type":"Identifier","name":"google"},"loc":{"start":{"line":83},"end":{"line":86}}},"property":{"type":"Identifier","name":"common"},"loc":{"start":{"line":83},"end":{"line":93}}},"property":{"type":"Identifier","name":"collect"},"loc":{"start":{"line":83},"end":{"line":100}}},"property":{"type":"Identifier","name":"Lists"},"loc":{"start":{"line":83},"end":{"line":108}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":123},"end":{"line":123}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":123},"end":{"line":126}}},"property":{"type":"Identifier","name":"catalina"},"loc":{"start":{"line":123},"end":{"line":133}}},"property":{"type":"Identifier","name":"loader"},"loc":{"start":{"line":123},"end":{"line":142}}},"property":{"type":"Identifier","name":"WebappClassLoader"},"loc":{"start":{"line":123},"end":{"line":149}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":176},"end":{"line":176}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":176},"end":{"line":179}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":176},"end":{"line":185}}},"property":{"type":"Identifier","name":"lessons"},"loc":{"start":{"line":176},"end":{"line":193}}},"property":{"type":"Identifier","name":"AbstractLesson"},"loc":{"start":{"line":176},"end":{"line":201}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":225},"end":{"line":225}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":225},"end":{"line":228}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":225},"end":{"line":244}}},"property":{"type":"Identifier","name":"StringUtils"},"loc":{"start":{"line":225},"end":{"line":249}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":271},"end":{"line":271}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":271},"end":{"line":275}}},"property":{"type":"Identifier","name":"File"},"loc":{"start":{"line":271},"end":{"line":278}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":292},"end":{"line":292}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":292},"end":{"line":296}}},"property":{"type":"Identifier","name":"IOException"},"loc":{"start":{"line":292},"end":{"line":299}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":320},"end":{"line":320}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":320},"end":{"line":324}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":320},"end":{"line":328}}},"property":{"type":"Identifier","name":"Path"},"loc":{"start":{"line":320},"end":{"line":333}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":347},"end":{"line":347}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":347},"end":{"line":351}}},"property":{"type":"Identifier","name":"Arrays"},"loc":{"start":{"line":347},"end":{"line":356}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":372},"end":{"line":372}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":372},"end":{"line":376}}},"property":{"type":"Identifier","name":"HashMap"},"loc":{"start":{"line":372},"end":{"line":381}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":398},"end":{"line":398}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":398},"end":{"line":402}}},"property":{"type":"Identifier","name":"List"},"loc":{"start":{"line":398},"end":{"line":407}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":421},"end":{"line":421}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":421},"end":{"line":425}}},"property":{"type":"Identifier","name":"Map"},"loc":{"start":{"line":421},"end":{"line":430}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":451},"end":{"line":451}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":451},"end":{"line":454}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":451},"end":{"line":460}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":451},"end":{"line":468}}},"property":{"type":"Identifier","name":"PluginFileUtils"},"loc":{"start":{"line":451},"end":{"line":476}}},"property":{"type":"Identifier","name":"fileEndsWith"},"loc":{"start":{"line":451},"end":{"line":492}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":521},"end":{"line":521}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":521},"end":{"line":524}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":521},"end":{"line":530}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":521},"end":{"line":538}}},"property":{"type":"Identifier","name":"PluginFileUtils"},"loc":{"start":{"line":521},"end":{"line":546}}},"property":{"type":"Identifier","name":"hasParentDirectoryWithName"},"loc":{"start":{"line":521},"end":{"line":562}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":605},"end":{"line":605}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":605},"end":{"line":608}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":605},"end":{"line":614}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":605},"end":{"line":622}}},"property":{"type":"Identifier","name":"PluginFileUtils"},"loc":{"start":{"line":605},"end":{"line":630}}},"property":{"type":"Identifier","name":"replaceInFiles"},"loc":{"start":{"line":605},"end":{"line":646}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"Plugin"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"NAME_LESSON_SOLUTION_DIRECTORY","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":768},"end":{"line":768}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":768},"end":{"line":768}}},"init":{"type":"Literal","value":"lessonSolutions","raw":"lessonSolutions","loc":{"start":{"line":808},"end":{"line":808}}},"loc":{"start":{"line":747},"end":{"line":775}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"NAME_LESSON_PLANS_DIRECTORY","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":852},"end":{"line":852}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":852},"end":{"line":852}}},"init":{"type":"Literal","value":"lessonPlans","raw":"lessonPlans","loc":{"start":{"line":889},"end":{"line":889}}},"loc":{"start":{"line":831},"end":{"line":859}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lesson","vartype":{"type":"Identifier","name":"Class","loc":{"start":{"line":917},"end":{"line":917}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"Class","loc":{"start":{"line":917},"end":{"line":917}}},"loc":{"start":{"line":909},"end":{"line":939}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"solutionLanguageFiles","vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":959},"end":{"line":959}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":959},"end":{"line":959}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"HashMap","loc":{"start":{"line":1005},"end":{"line":1005}}},"arguments":[],"loc":{"start":{"line":1001},"end":{"line":1001}}},"loc":{"start":{"line":951},"end":{"line":977}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonPlansLanguageFiles","vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1030},"end":{"line":1030}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"Map","loc":{"start":{"line":1030},"end":{"line":1030}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"HashMap","loc":{"start":{"line":1079},"end":{"line":1079}}},"arguments":[],"loc":{"start":{"line":1075},"end":{"line":1075}}},"loc":{"start":{"line":1022},"end":{"line":1048}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pluginFiles","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":1104},"end":{"line":1104}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":1104},"end":{"line":1104}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":1129},"end":{"line":1129}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":1129},"end":{"line":1134}}},"arguments":[],"loc":{"start":{"line":1129},"end":{"line":1147}}},"loc":{"start":{"line":1096},"end":{"line":1115}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"lessonSourceFile","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":1163},"end":{"line":1163}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":1163},"end":{"line":1163}}},"loc":{"start":{"line":1155},"end":{"line":1168}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"classes","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":1214},"end":{"line":1214}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"clazzName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":1251},"end":{"line":1251}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":1251},"end":{"line":1251}}},"loc":{"start":{"line":1251},"end":{"line":1258}}},"right":{"type":"Identifier","name":"classes","loc":{"start":{"line":1270},"end":{"line":1270}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"findLesson","loc":{"start":{"line":1293},"end":{"line":1293}}},"arguments":[{"type":"Identifier","name":"clazzName","loc":{"start":{"line":1304},"end":{"line":1304}}}],"loc":{"start":{"line":1293},"end":{"line":1303}}},"loc":{"start":{"line":1293},"end":{"line":1293}}}],"loc":{"start":{"line":1279},"end":{"line":1324}}},"loc":{"start":{"line":1246},"end":{"line":1246}}}],"loc":{"start":{"line":1236},"end":{"line":1330}}},"code":"\npublic void findLesson(List\u003cString\u003e classes) {\n    for (String clazzName : classes) {\n        findLesson(clazzName);\n    }\n}","loc":{"start":{"line":1191},"end":{"line":1203}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"findLesson"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"name","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":1361},"end":{"line":1361}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"realClassName","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":1384},"end":{"line":1384}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":1384},"end":{"line":1384}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"StringUtils","loc":{"start":{"line":1407},"end":{"line":1407}}},"property":{"type":"Identifier","name":"trimLeadingCharacter"},"loc":{"start":{"line":1407},"end":{"line":1418}}},"arguments":[{"type":"Identifier","name":"name","loc":{"start":{"line":1440},"end":{"line":1440}}},{"type":"Literal","value":47,"raw":47,"loc":{"start":{"line":1446},"end":{"line":1446}}}],"loc":{"start":{"line":1407},"end":{"line":1439}}},"property":{"type":"Identifier","name":"replaceAll"},"loc":{"start":{"line":1407},"end":{"line":1450}}},"arguments":[{"type":"Literal","value":"/","raw":"/","loc":{"start":{"line":1462},"end":{"line":1462}}},{"type":"Literal","value":".","raw":".","loc":{"start":{"line":1467},"end":{"line":1467}}}],"loc":{"start":{"line":1407},"end":{"line":1461}}},"property":{"type":"Identifier","name":"replaceAll"},"loc":{"start":{"line":1407},"end":{"line":1471}}},"arguments":[{"type":"Literal","value":".class","raw":".class","loc":{"start":{"line":1483},"end":{"line":1483}}},{"type":"Literal","value":"","raw":"","loc":{"start":{"line":1493},"end":{"line":1493}}}],"loc":{"start":{"line":1407},"end":{"line":1482}}},"loc":{"start":{"line":1384},"end":{"line":1391}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cl","vartype":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1552},"end":{"line":1552}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1552},"end":{"line":1552}}},"init":{"type":"TypeCast","clazz":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1576},"end":{"line":1576}}},"expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Thread","loc":{"start":{"line":1595},"end":{"line":1595}}},"property":{"type":"Identifier","name":"currentThread"},"loc":{"start":{"line":1595},"end":{"line":1601}}},"arguments":[],"loc":{"start":{"line":1595},"end":{"line":1615}}},"property":{"type":"Identifier","name":"getContextClassLoader"},"loc":{"start":{"line":1595},"end":{"line":1617}}},"arguments":[],"loc":{"start":{"line":1595},"end":{"line":1639}}},"loc":{"start":{"line":1575},"end":{"line":1575}}},"loc":{"start":{"line":1552},"end":{"line":1570}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"ce","vartype":{"type":"Identifier","name":"ClassNotFoundException","loc":{"start":{"line":1852},"end":{"line":1852}}}},"body":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"PluginLoadingFailure","loc":{"start":{"line":1903},"end":{"line":1903}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Class ","raw":"Class ","loc":{"start":{"line":1924},"end":{"line":1924}}},"right":{"type":"Identifier","name":"realClassName","loc":{"start":{"line":1935},"end":{"line":1935}}},"loc":{"start":{"line":1924},"end":{"line":1933}}},"right":{"type":"Literal","value":" listed in jar but unable to load the class.","raw":" listed in jar but unable to load the class.","loc":{"start":{"line":1951},"end":{"line":1951}}},"loc":{"start":{"line":1924},"end":{"line":1949}}},{"type":"Identifier","name":"ce","loc":{"start":{"line":1999},"end":{"line":1999}}}],"loc":{"start":{"line":1899},"end":{"line":1899}}},"loc":{"start":{"line":1893},"end":{"line":1893}}}],"loc":{"start":{"line":1879},"end":{"line":2012}}},"loc":{"start":{"line":1845},"end":{"line":1845}}}],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"clazz","vartype":{"type":"Identifier","name":"Class","loc":{"start":{"line":1670},"end":{"line":1670}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Class","loc":{"start":{"line":1670},"end":{"line":1670}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cl","loc":{"start":{"line":1684},"end":{"line":1684}}},"property":{"type":"Identifier","name":"loadClass"},"loc":{"start":{"line":1684},"end":{"line":1686}}},"arguments":[{"type":"Identifier","name":"realClassName","loc":{"start":{"line":1697},"end":{"line":1697}}},{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":1712},"end":{"line":1712}}}],"loc":{"start":{"line":1684},"end":{"line":1696}}},"loc":{"start":{"line":1670},"end":{"line":1676}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"AbstractLesson","loc":{"start":{"line":1736},"end":{"line":1736}}},"property":{"type":"Identifier","name":"class"},"loc":{"start":{"line":1736},"end":{"line":1750}}},"property":{"type":"Identifier","name":"isAssignableFrom"},"loc":{"start":{"line":1736},"end":{"line":1756}}},"arguments":[{"type":"Identifier","name":"clazz","loc":{"start":{"line":1774},"end":{"line":1774}}}],"loc":{"start":{"line":1736},"end":{"line":1773}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":1800},"end":{"line":1804}}},"right":{"type":"Identifier","name":"clazz","loc":{"start":{"line":1814},"end":{"line":1814}}},"loc":{"start":{"line":1800},"end":{"line":1812}}},"loc":{"start":{"line":1800},"end":{"line":1800}}}],"loc":{"start":{"line":1782},"end":{"line":1833}}},"loc":{"start":{"line":1732},"end":{"line":1732}}}],"loc":{"start":{"line":1656},"end":{"line":1843}}},"loc":{"start":{"line":1652},"end":{"line":2012}}}],"loc":{"start":{"line":1374},"end":{"line":2018}}},"code":"\nprivate void findLesson(String name) {\n    String realClassName \u003d StringUtils.trimLeadingCharacter(name, \u0027/\u0027).replaceAll(\"/\", \".\").replaceAll(\".class\", \"\");\n    WebappClassLoader cl \u003d (WebappClassLoader)Thread.currentThread().getContextClassLoader();\n    try {\n        Class clazz \u003d cl.loadClass(realClassName, true);\n        if (AbstractLesson.class.isAssignableFrom(clazz)) {\n            this.lesson \u003d clazz;\n        }\n    } catch (ClassNotFoundException ce) {\n        throw new PluginLoadingFailure(\"Class \" + realClassName + \" listed in jar but unable to load the class.\", ce);\n    }\n}","loc":{"start":{"line":1337},"end":{"line":1350}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"loadFiles"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"file","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":2047},"end":{"line":2047}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"fileEndsWith","loc":{"start":{"line":2072},"end":{"line":2072}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2085},"end":{"line":2085}}},{"type":"Literal","value":".html","raw":".html","loc":{"start":{"line":2091},"end":{"line":2091}}}],"loc":{"start":{"line":2072},"end":{"line":2084}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"hasParentDirectoryWithName","loc":{"start":{"line":2103},"end":{"line":2103}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2130},"end":{"line":2130}}},{"type":"Identifier","name":"NAME_LESSON_SOLUTION_DIRECTORY","loc":{"start":{"line":2136},"end":{"line":2136}}}],"loc":{"start":{"line":2103},"end":{"line":2129}}},"loc":{"start":{"line":2072},"end":{"line":2100}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"solutionLanguageFiles","loc":{"start":{"line":2183},"end":{"line":2183}}},"property":{"type":"Identifier","name":"put"},"loc":{"start":{"line":2183},"end":{"line":2204}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2209},"end":{"line":2209}}},"property":{"type":"Identifier","name":"getParent"},"loc":{"start":{"line":2209},"end":{"line":2213}}},"arguments":[],"loc":{"start":{"line":2209},"end":{"line":2223}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":2209},"end":{"line":2225}}},"arguments":[],"loc":{"start":{"line":2209},"end":{"line":2237}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":2209},"end":{"line":2239}}},"arguments":[],"loc":{"start":{"line":2209},"end":{"line":2248}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2252},"end":{"line":2252}}},"property":{"type":"Identifier","name":"toFile"},"loc":{"start":{"line":2252},"end":{"line":2256}}},"arguments":[],"loc":{"start":{"line":2252},"end":{"line":2263}}}],"loc":{"start":{"line":2183},"end":{"line":2208}}},"loc":{"start":{"line":2183},"end":{"line":2183}}}],"loc":{"start":{"line":2169},"end":{"line":2276}}},"loc":{"start":{"line":2068},"end":{"line":2068}}},{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"fileEndsWith","loc":{"start":{"line":2290},"end":{"line":2290}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2303},"end":{"line":2303}}},{"type":"Literal","value":".html","raw":".html","loc":{"start":{"line":2309},"end":{"line":2309}}}],"loc":{"start":{"line":2290},"end":{"line":2302}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"hasParentDirectoryWithName","loc":{"start":{"line":2321},"end":{"line":2321}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2348},"end":{"line":2348}}},{"type":"Identifier","name":"NAME_LESSON_PLANS_DIRECTORY","loc":{"start":{"line":2354},"end":{"line":2354}}}],"loc":{"start":{"line":2321},"end":{"line":2347}}},"loc":{"start":{"line":2290},"end":{"line":2318}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonPlansLanguageFiles","loc":{"start":{"line":2398},"end":{"line":2398}}},"property":{"type":"Identifier","name":"put"},"loc":{"start":{"line":2398},"end":{"line":2422}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2427},"end":{"line":2427}}},"property":{"type":"Identifier","name":"getParent"},"loc":{"start":{"line":2427},"end":{"line":2431}}},"arguments":[],"loc":{"start":{"line":2427},"end":{"line":2441}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":2427},"end":{"line":2443}}},"arguments":[],"loc":{"start":{"line":2427},"end":{"line":2455}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":2427},"end":{"line":2457}}},"arguments":[],"loc":{"start":{"line":2427},"end":{"line":2466}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2470},"end":{"line":2470}}},"property":{"type":"Identifier","name":"toFile"},"loc":{"start":{"line":2470},"end":{"line":2474}}},"arguments":[],"loc":{"start":{"line":2470},"end":{"line":2481}}}],"loc":{"start":{"line":2398},"end":{"line":2426}}},"loc":{"start":{"line":2398},"end":{"line":2398}}}],"loc":{"start":{"line":2384},"end":{"line":2494}}},"loc":{"start":{"line":2286},"end":{"line":2286}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"fileEndsWith","loc":{"start":{"line":2508},"end":{"line":2508}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2521},"end":{"line":2521}}},{"type":"Literal","value":".java","raw":".java","loc":{"start":{"line":2527},"end":{"line":2527}}}],"loc":{"start":{"line":2508},"end":{"line":2520}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"lessonSourceFile","loc":{"start":{"line":2551},"end":{"line":2551}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2570},"end":{"line":2570}}},"property":{"type":"Identifier","name":"toFile"},"loc":{"start":{"line":2570},"end":{"line":2574}}},"arguments":[],"loc":{"start":{"line":2570},"end":{"line":2581}}},"loc":{"start":{"line":2551},"end":{"line":2568}}},"loc":{"start":{"line":2551},"end":{"line":2551}}}],"loc":{"start":{"line":2537},"end":{"line":2593}}},"loc":{"start":{"line":2504},"end":{"line":2504}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"fileEndsWith","loc":{"start":{"line":2608},"end":{"line":2608}}},"arguments":[{"type":"Identifier","name":"file","loc":{"start":{"line":2621},"end":{"line":2621}}},{"type":"Literal","value":".css","raw":".css","loc":{"start":{"line":2627},"end":{"line":2627}}},{"type":"Literal","value":".jsp","raw":".jsp","loc":{"start":{"line":2635},"end":{"line":2635}}},{"type":"Literal","value":".js","raw":".js","loc":{"start":{"line":2643},"end":{"line":2643}}}],"loc":{"start":{"line":2608},"end":{"line":2620}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginFiles","loc":{"start":{"line":2665},"end":{"line":2665}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":2665},"end":{"line":2676}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"file","loc":{"start":{"line":2681},"end":{"line":2681}}},"property":{"type":"Identifier","name":"toFile"},"loc":{"start":{"line":2681},"end":{"line":2685}}},"arguments":[],"loc":{"start":{"line":2681},"end":{"line":2692}}}],"loc":{"start":{"line":2665},"end":{"line":2680}}},"loc":{"start":{"line":2665},"end":{"line":2665}}}],"loc":{"start":{"line":2651},"end":{"line":2705}}},"loc":{"start":{"line":2604},"end":{"line":2604}}}],"loc":{"start":{"line":2058},"end":{"line":2711}}},"code":"\npublic void loadFiles(Path file) {\n    if (fileEndsWith(file, \".html\") \u0026\u0026 hasParentDirectoryWithName(file, NAME_LESSON_SOLUTION_DIRECTORY)) {\n        solutionLanguageFiles.put(file.getParent().getFileName().toString(), file.toFile());\n    }\n    if (fileEndsWith(file, \".html\") \u0026\u0026 hasParentDirectoryWithName(file, NAME_LESSON_PLANS_DIRECTORY)) {\n        lessonPlansLanguageFiles.put(file.getParent().getFileName().toString(), file.toFile());\n    }\n    if (fileEndsWith(file, \".java\")) {\n        lessonSourceFile \u003d file.toFile();\n    }\n    if (fileEndsWith(file, \".css\", \".jsp\", \".js\")) {\n        pluginFiles.add(file.toFile());\n    }\n}","loc":{"start":{"line":2025},"end":{"line":2037}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"rewritePaths"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"pluginTarget","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":2858},"end":{"line":2858}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"IOException","loc":{"start":{"line":4509},"end":{"line":4509}}}},"body":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"PluginLoadingFailure","loc":{"start":{"line":4548},"end":{"line":4548}}},"arguments":[{"type":"Literal","value":"Unable to rewrite the paths in the solutions","raw":"Unable to rewrite the paths in the solutions","loc":{"start":{"line":4569},"end":{"line":4569}}},{"type":"Identifier","name":"e","loc":{"start":{"line":4617},"end":{"line":4617}}}],"loc":{"start":{"line":4544},"end":{"line":4544}}},"loc":{"start":{"line":4538},"end":{"line":4538}}}],"loc":{"start":{"line":4524},"end":{"line":4629}}},"loc":{"start":{"line":4502},"end":{"line":4502}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":2905},"end":{"line":2905}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":2920},"end":{"line":2924}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":2920},"end":{"line":2931}}},"arguments":[],"loc":{"start":{"line":2920},"end":{"line":2945}}},"right":{"type":"Literal","value":"_files","raw":"_files","loc":{"start":{"line":2950},"end":{"line":2950}}},"loc":{"start":{"line":2920},"end":{"line":2948}}},{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":2980},"end":{"line":2980}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":2980},"end":{"line":2992}}},"arguments":[],"loc":{"start":{"line":2980},"end":{"line":3004}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":2980},"end":{"line":3006}}},"arguments":[],"loc":{"start":{"line":2980},"end":{"line":3015}}},"right":{"type":"Literal","value":"/plugin/","raw":"/plugin/","loc":{"start":{"line":3020},"end":{"line":3020}}},"loc":{"start":{"line":2980},"end":{"line":3018}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3033},"end":{"line":3037}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3033},"end":{"line":3073}}},"arguments":[],"loc":{"start":{"line":3033},"end":{"line":3087}}},"loc":{"start":{"line":2980},"end":{"line":3031}}},"right":{"type":"Literal","value":"/lessonSolutions/en/","raw":"/lessonSolutions/en/","loc":{"start":{"line":3092},"end":{"line":3092}}},"loc":{"start":{"line":2980},"end":{"line":3090}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3117},"end":{"line":3121}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3117},"end":{"line":3128}}},"arguments":[],"loc":{"start":{"line":3117},"end":{"line":3142}}},"loc":{"start":{"line":2980},"end":{"line":3115}}},"right":{"type":"Literal","value":"_files","raw":"_files","loc":{"start":{"line":3147},"end":{"line":3147}}},"loc":{"start":{"line":2980},"end":{"line":3145}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"solutionLanguageFiles","loc":{"start":{"line":3177},"end":{"line":3177}}},"property":{"type":"Identifier","name":"values"},"loc":{"start":{"line":3177},"end":{"line":3198}}},"arguments":[],"loc":{"start":{"line":3177},"end":{"line":3205}}}],"loc":{"start":{"line":2905},"end":{"line":2919}}},"loc":{"start":{"line":2905},"end":{"line":2905}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":3222},"end":{"line":3222}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3237},"end":{"line":3241}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3237},"end":{"line":3248}}},"arguments":[],"loc":{"start":{"line":3237},"end":{"line":3262}}},"right":{"type":"Literal","value":"_files","raw":"_files","loc":{"start":{"line":3267},"end":{"line":3267}}},"loc":{"start":{"line":3237},"end":{"line":3265}}},{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"BinaryExpression","operator":"PLUS","left":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":3297},"end":{"line":3297}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":3297},"end":{"line":3309}}},"arguments":[],"loc":{"start":{"line":3297},"end":{"line":3321}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":3297},"end":{"line":3323}}},"arguments":[],"loc":{"start":{"line":3297},"end":{"line":3332}}},"right":{"type":"Literal","value":"/plugin/","raw":"/plugin/","loc":{"start":{"line":3337},"end":{"line":3337}}},"loc":{"start":{"line":3297},"end":{"line":3335}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3350},"end":{"line":3354}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3350},"end":{"line":3390}}},"arguments":[],"loc":{"start":{"line":3350},"end":{"line":3404}}},"loc":{"start":{"line":3297},"end":{"line":3348}}},"right":{"type":"Literal","value":"/lessonPlans/en/","raw":"/lessonPlans/en/","loc":{"start":{"line":3409},"end":{"line":3409}}},"loc":{"start":{"line":3297},"end":{"line":3407}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3430},"end":{"line":3434}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3430},"end":{"line":3441}}},"arguments":[],"loc":{"start":{"line":3430},"end":{"line":3455}}},"loc":{"start":{"line":3297},"end":{"line":3428}}},"right":{"type":"Literal","value":"_files","raw":"_files","loc":{"start":{"line":3460},"end":{"line":3460}}},"loc":{"start":{"line":3297},"end":{"line":3458}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lessonPlansLanguageFiles","loc":{"start":{"line":3490},"end":{"line":3490}}},"property":{"type":"Identifier","name":"values"},"loc":{"start":{"line":3490},"end":{"line":3514}}},"arguments":[],"loc":{"start":{"line":3490},"end":{"line":3521}}}],"loc":{"start":{"line":3222},"end":{"line":3236}}},"loc":{"start":{"line":3222},"end":{"line":3222}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"replacements","vartype":{"type":"TypeArray","elemtype":{"type":"Identifier","name":"String","loc":{"start":{"line":3539},"end":{"line":3539}}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"TypeArray","elemtype":{"type":"Identifier","name":"String","loc":{"start":{"line":3539},"end":{"line":3539}}}},"init":{"type":"ArrayExpression","elements":[{"type":"Literal","value":"jsp","raw":"jsp","loc":{"start":{"line":3564},"end":{"line":3564}}},{"type":"Literal","value":"js","raw":"js","loc":{"start":{"line":3571},"end":{"line":3571}}}],"loc":{"start":{"line":3563},"end":{"line":3563}}},"loc":{"start":{"line":3539},"end":{"line":3548}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"replacement","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3595},"end":{"line":3595}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3595},"end":{"line":3595}}},"loc":{"start":{"line":3595},"end":{"line":3602}}},"right":{"type":"Identifier","name":"replacements","loc":{"start":{"line":3616},"end":{"line":3616}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3648},"end":{"line":3648}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3648},"end":{"line":3648}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"String","loc":{"start":{"line":3659},"end":{"line":3659}}},"property":{"type":"Identifier","name":"format"},"loc":{"start":{"line":3659},"end":{"line":3665}}},"arguments":[{"type":"Literal","value":"plugin/%s/%s/","raw":"plugin/%s/%s/","loc":{"start":{"line":3673},"end":{"line":3673}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3690},"end":{"line":3694}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3690},"end":{"line":3701}}},"arguments":[],"loc":{"start":{"line":3690},"end":{"line":3715}}},{"type":"Identifier","name":"replacement","loc":{"start":{"line":3719},"end":{"line":3719}}}],"loc":{"start":{"line":3659},"end":{"line":3672}}},"loc":{"start":{"line":3648},"end":{"line":3655}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3749},"end":{"line":3749}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":3749},"end":{"line":3749}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"String","loc":{"start":{"line":3760},"end":{"line":3760}}},"property":{"type":"Identifier","name":"format"},"loc":{"start":{"line":3760},"end":{"line":3766}}},"arguments":[{"type":"Literal","value":"%s/plugin/%s/%s/","raw":"%s/plugin/%s/%s/","loc":{"start":{"line":3774},"end":{"line":3774}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":3794},"end":{"line":3794}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":3794},"end":{"line":3806}}},"arguments":[],"loc":{"start":{"line":3794},"end":{"line":3818}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":3794},"end":{"line":3820}}},"arguments":[],"loc":{"start":{"line":3794},"end":{"line":3829}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":3857},"end":{"line":3861}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":3857},"end":{"line":3868}}},"arguments":[],"loc":{"start":{"line":3857},"end":{"line":3882}}},{"type":"Identifier","name":"replacement","loc":{"start":{"line":3886},"end":{"line":3886}}}],"loc":{"start":{"line":3760},"end":{"line":3773}}},"loc":{"start":{"line":3749},"end":{"line":3756}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":3916},"end":{"line":3916}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":3931},"end":{"line":3931}}},{"type":"Identifier","name":"r","loc":{"start":{"line":3934},"end":{"line":3934}}},{"type":"Identifier","name":"pluginFiles","loc":{"start":{"line":3937},"end":{"line":3937}}}],"loc":{"start":{"line":3916},"end":{"line":3930}}},"loc":{"start":{"line":3916},"end":{"line":3916}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":3967},"end":{"line":3967}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":3982},"end":{"line":3982}}},{"type":"Identifier","name":"r","loc":{"start":{"line":3985},"end":{"line":3985}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Arrays","loc":{"start":{"line":3988},"end":{"line":3988}}},"property":{"type":"Identifier","name":"asList"},"loc":{"start":{"line":3988},"end":{"line":3994}}},"arguments":[{"type":"Identifier","name":"lessonSourceFile","loc":{"start":{"line":4002},"end":{"line":4002}}}],"loc":{"start":{"line":3988},"end":{"line":4001}}}],"loc":{"start":{"line":3967},"end":{"line":3981}}},"loc":{"start":{"line":3967},"end":{"line":3967}}}],"loc":{"start":{"line":3630},"end":{"line":4034}}},"loc":{"start":{"line":3590},"end":{"line":3590}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4150},"end":{"line":4150}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4150},"end":{"line":4150}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"String","loc":{"start":{"line":4161},"end":{"line":4161}}},"property":{"type":"Identifier","name":"format"},"loc":{"start":{"line":4161},"end":{"line":4167}}},"arguments":[{"type":"Literal","value":"/plugin/%s/images/","raw":"/plugin/%s/images/","loc":{"start":{"line":4175},"end":{"line":4175}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":4197},"end":{"line":4201}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":4197},"end":{"line":4208}}},"arguments":[],"loc":{"start":{"line":4197},"end":{"line":4222}}}],"loc":{"start":{"line":4161},"end":{"line":4174}}},"loc":{"start":{"line":4150},"end":{"line":4157}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"r","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4239},"end":{"line":4239}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":4239},"end":{"line":4239}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"String","loc":{"start":{"line":4250},"end":{"line":4250}}},"property":{"type":"Identifier","name":"format"},"loc":{"start":{"line":4250},"end":{"line":4277}}},"arguments":[{"type":"Literal","value":"%s/plugin/%s/images/","raw":"%s/plugin/%s/images/","loc":{"start":{"line":4285},"end":{"line":4285}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":4309},"end":{"line":4309}}},"property":{"type":"Identifier","name":"getFileName"},"loc":{"start":{"line":4309},"end":{"line":4321}}},"arguments":[],"loc":{"start":{"line":4309},"end":{"line":4333}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":4309},"end":{"line":4335}}},"arguments":[],"loc":{"start":{"line":4309},"end":{"line":4344}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lesson"},"loc":{"start":{"line":4348},"end":{"line":4352}}},"property":{"type":"Identifier","name":"getSimpleName"},"loc":{"start":{"line":4348},"end":{"line":4359}}},"arguments":[],"loc":{"start":{"line":4348},"end":{"line":4373}}}],"loc":{"start":{"line":4250},"end":{"line":4284}}},"loc":{"start":{"line":4239},"end":{"line":4246}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":4390},"end":{"line":4390}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":4405},"end":{"line":4405}}},{"type":"Identifier","name":"r","loc":{"start":{"line":4408},"end":{"line":4408}}},{"type":"Identifier","name":"pluginFiles","loc":{"start":{"line":4411},"end":{"line":4411}}}],"loc":{"start":{"line":4390},"end":{"line":4404}}},"loc":{"start":{"line":4390},"end":{"line":4390}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"replaceInFiles","loc":{"start":{"line":4437},"end":{"line":4437}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":4452},"end":{"line":4452}}},{"type":"Identifier","name":"r","loc":{"start":{"line":4455},"end":{"line":4455}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Arrays","loc":{"start":{"line":4458},"end":{"line":4458}}},"property":{"type":"Identifier","name":"asList"},"loc":{"start":{"line":4458},"end":{"line":4464}}},"arguments":[{"type":"Identifier","name":"lessonSourceFile","loc":{"start":{"line":4472},"end":{"line":4472}}}],"loc":{"start":{"line":4458},"end":{"line":4471}}}],"loc":{"start":{"line":4437},"end":{"line":4451}}},"loc":{"start":{"line":4437},"end":{"line":4437}}}],"loc":{"start":{"line":2891},"end":{"line":4500}}},"loc":{"start":{"line":2887},"end":{"line":4629}}}],"loc":{"start":{"line":2877},"end":{"line":4635}}},"code":"\npublic void rewritePaths(Path pluginTarget) {\n    try {\n        replaceInFiles(this.lesson.getSimpleName() + \"_files\", pluginTarget.getFileName().toString() + \"/plugin/\" + this.lesson.getSimpleName() + \"/lessonSolutions/en/\" + this.lesson.getSimpleName() + \"_files\", solutionLanguageFiles.values());\n        replaceInFiles(this.lesson.getSimpleName() + \"_files\", pluginTarget.getFileName().toString() + \"/plugin/\" + this.lesson.getSimpleName() + \"/lessonPlans/en/\" + this.lesson.getSimpleName() + \"_files\", lessonPlansLanguageFiles.values());\n        String[] replacements \u003d {\"jsp\", \"js\"};\n        for (String replacement : replacements) {\n            String s \u003d String.format(\"plugin/%s/%s/\", this.lesson.getSimpleName(), replacement);\n            String r \u003d String.format(\"%s/plugin/%s/%s/\", pluginTarget.getFileName().toString(), this.lesson.getSimpleName(), replacement);\n            replaceInFiles(s, r, pluginFiles);\n            replaceInFiles(s, r, Arrays.asList(lessonSourceFile));\n        }\n        String s \u003d String.format(\"/plugin/%s/images/\", this.lesson.getSimpleName());\n        String r \u003d String.format(\"%s/plugin/%s/images/\", pluginTarget.getFileName().toString(), this.lesson.getSimpleName());\n        replaceInFiles(s, r, pluginFiles);\n        replaceInFiles(s, r, Arrays.asList(lessonSourceFile));\n    } catch (IOException e) {\n        throw new PluginLoadingFailure(\"Unable to rewrite the paths in the solutions\", e);\n    }\n}","loc":{"start":{"line":2833},"end":{"line":2845}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLesson"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Optional","loc":{"start":{"line":4836},"end":{"line":4836}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":[{"type":"Identifier","name":"IllegalAccessException","loc":{"start":{"line":5012},"end":{"line":5012}}},{"type":"Identifier","name":"InstantiationException","loc":{"start":{"line":5037},"end":{"line":5037}}}]},"body":{"type":"BlockStatement","body":[{"type":"ThrowStatement","argument":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"PluginLoadingFailure","loc":{"start":{"line":5087},"end":{"line":5087}}},"arguments":[{"type":"BinaryExpression","operator":"PLUS","left":{"type":"Literal","value":"Unable to instantiate the lesson ","raw":"Unable to instantiate the lesson ","loc":{"start":{"line":5108},"end":{"line":5108}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":5146},"end":{"line":5146}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":5146},"end":{"line":5152}}},"arguments":[],"loc":{"start":{"line":5146},"end":{"line":5160}}},"loc":{"start":{"line":5108},"end":{"line":5144}}},{"type":"Identifier","name":"e","loc":{"start":{"line":5164},"end":{"line":5164}}}],"loc":{"start":{"line":5083},"end":{"line":5083}}},"loc":{"start":{"line":5077},"end":{"line":5077}}}],"loc":{"start":{"line":5063},"end":{"line":5176}}},"loc":{"start":{"line":5005},"end":{"line":5005}}}],"block":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"BinaryExpression","operator":"NOT_EQUAL_TO","left":{"type":"Identifier","name":"lesson","loc":{"start":{"line":4905},"end":{"line":4905}}},"right":{"type":"Literal","loc":{"start":{"line":4915},"end":{"line":4915}}},"loc":{"start":{"line":4905},"end":{"line":4912}}},"consequent":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Optional","loc":{"start":{"line":4946},"end":{"line":4946}}},"property":{"type":"Identifier","name":"of"},"loc":{"start":{"line":4946},"end":{"line":4954}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"lesson","loc":{"start":{"line":4958},"end":{"line":4958}}},"property":{"type":"Identifier","name":"newInstance"},"loc":{"start":{"line":4958},"end":{"line":4964}}},"arguments":[],"loc":{"start":{"line":4958},"end":{"line":4976}}}],"loc":{"start":{"line":4946},"end":{"line":4957}}},"loc":{"start":{"line":4939},"end":{"line":4939}}}],"loc":{"start":{"line":4921},"end":{"line":4993}}},"loc":{"start":{"line":4901},"end":{"line":4901}}}],"loc":{"start":{"line":4887},"end":{"line":5003}}},"loc":{"start":{"line":4883},"end":{"line":5176}}},{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Optional","loc":{"start":{"line":5193},"end":{"line":5193}}},"property":{"type":"Identifier","name":"absent"},"loc":{"start":{"line":5193},"end":{"line":5201}}},"arguments":[],"loc":{"start":{"line":5193},"end":{"line":5208}}},"loc":{"start":{"line":5186},"end":{"line":5186}}}],"loc":{"start":{"line":4873},"end":{"line":5216}}},"code":"\npublic Optional\u003cAbstractLesson\u003e getLesson() {\n    try {\n        if (lesson !\u003d null) {\n            return Optional.of(lesson.newInstance());\n        }\n    } catch (IllegalAccessException | InstantiationException e) {\n        throw new PluginLoadingFailure(\"Unable to instantiate the lesson \" + lesson.getName(), e);\n    }\n    return Optional.absent();\n}","loc":{"start":{"line":4829},"end":{"line":4861}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessonSolution"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Optional","loc":{"start":{"line":5409},"end":{"line":5409}}},"typarams":[],"params":[{"type":"Identifier","name":"language","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":5442},"end":{"line":5442}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Optional","loc":{"start":{"line":5476},"end":{"line":5476}}},"property":{"type":"Identifier","name":"fromNullable"},"loc":{"start":{"line":5476},"end":{"line":5484}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"solutionLanguageFiles"},"loc":{"start":{"line":5498},"end":{"line":5502}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":5498},"end":{"line":5524}}},"arguments":[{"type":"Identifier","name":"language","loc":{"start":{"line":5529},"end":{"line":5529}}}],"loc":{"start":{"line":5498},"end":{"line":5528}}}],"loc":{"start":{"line":5476},"end":{"line":5497}}},"loc":{"start":{"line":5469},"end":{"line":5469}}}],"loc":{"start":{"line":5459},"end":{"line":5545}}},"code":"\npublic Optional\u003cFile\u003e getLessonSolution(String language) {\n    return Optional.fromNullable(this.solutionLanguageFiles.get(language));\n}","loc":{"start":{"line":5402},"end":{"line":5424}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessonSolutions"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Map","loc":{"start":{"line":5663},"end":{"line":5663}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"solutionLanguageFiles"},"loc":{"start":{"line":5719},"end":{"line":5723}}},"loc":{"start":{"line":5712},"end":{"line":5712}}}],"loc":{"start":{"line":5702},"end":{"line":5751}}},"code":"\npublic Map\u003cString, File\u003e getLessonSolutions() {\n    return this.solutionLanguageFiles;\n}","loc":{"start":{"line":5656},"end":{"line":5681}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessonSource"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Optional","loc":{"start":{"line":5884},"end":{"line":5884}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Optional","loc":{"start":{"line":5934},"end":{"line":5934}}},"property":{"type":"Identifier","name":"fromNullable"},"loc":{"start":{"line":5934},"end":{"line":5942}}},"arguments":[{"type":"Identifier","name":"lessonSourceFile","loc":{"start":{"line":5956},"end":{"line":5956}}}],"loc":{"start":{"line":5934},"end":{"line":5955}}},"loc":{"start":{"line":5927},"end":{"line":5927}}}],"loc":{"start":{"line":5917},"end":{"line":5979}}},"code":"\npublic Optional\u003cFile\u003e getLessonSource() {\n    return Optional.fromNullable(lessonSourceFile);\n}","loc":{"start":{"line":5877},"end":{"line":5899}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getLessonPlans"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Map","loc":{"start":{"line":6093},"end":{"line":6093}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"lessonPlansLanguageFiles"},"loc":{"start":{"line":6145},"end":{"line":6149}}},"loc":{"start":{"line":6138},"end":{"line":6138}}}],"loc":{"start":{"line":6128},"end":{"line":6180}}},"code":"\npublic Map\u003cString, File\u003e getLessonPlans() {\n    return this.lessonPlansLanguageFiles;\n}","loc":{"start":{"line":6086},"end":{"line":6111}}}],"loc":{"start":{"line":720},"end":{"line":727}}}],"loc":{"start":{"line":0},"end":{"line":0}}}