{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":8},"end":{"line":11}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":8},"end":{"line":17}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":8},"end":{"line":25}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"com","loc":{"start":{"line":43},"end":{"line":43}}},"property":{"type":"Identifier","name":"google"},"loc":{"start":{"line":43},"end":{"line":46}}},"property":{"type":"Identifier","name":"common"},"loc":{"start":{"line":43},"end":{"line":53}}},"property":{"type":"Identifier","name":"collect"},"loc":{"start":{"line":43},"end":{"line":60}}},"property":{"type":"Identifier","name":"Lists"},"loc":{"start":{"line":43},"end":{"line":68}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":83},"end":{"line":83}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":83},"end":{"line":86}}},"property":{"type":"Identifier","name":"catalina"},"loc":{"start":{"line":83},"end":{"line":93}}},"property":{"type":"Identifier","name":"loader"},"loc":{"start":{"line":83},"end":{"line":102}}},"property":{"type":"Identifier","name":"WebappClassLoader"},"loc":{"start":{"line":83},"end":{"line":109}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":136},"end":{"line":136}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":136},"end":{"line":139}}},"property":{"type":"Identifier","name":"commons"},"loc":{"start":{"line":136},"end":{"line":146}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":136},"end":{"line":154}}},"property":{"type":"Identifier","name":"FileUtils"},"loc":{"start":{"line":136},"end":{"line":157}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":176},"end":{"line":176}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":176},"end":{"line":179}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":176},"end":{"line":185}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":176},"end":{"line":193}}},"property":{"type":"Identifier","name":"LabelProvider"},"loc":{"start":{"line":176},"end":{"line":198}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":221},"end":{"line":221}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":221},"end":{"line":224}}},"property":{"type":"Identifier","name":"Logger"},"loc":{"start":{"line":221},"end":{"line":230}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":246},"end":{"line":246}}},"property":{"type":"Identifier","name":"slf4j"},"loc":{"start":{"line":246},"end":{"line":249}}},"property":{"type":"Identifier","name":"LoggerFactory"},"loc":{"start":{"line":246},"end":{"line":255}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":278},"end":{"line":278}}},"property":{"type":"Identifier","name":"springframework"},"loc":{"start":{"line":278},"end":{"line":281}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":278},"end":{"line":297}}},"property":{"type":"Identifier","name":"ResourceUtils"},"loc":{"start":{"line":278},"end":{"line":302}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":326},"end":{"line":326}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":326},"end":{"line":330}}},"property":{"type":"Identifier","name":"IOException"},"loc":{"start":{"line":326},"end":{"line":333}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":354},"end":{"line":354}}},"property":{"type":"Identifier","name":"net"},"loc":{"start":{"line":354},"end":{"line":358}}},"property":{"type":"Identifier","name":"URL"},"loc":{"start":{"line":354},"end":{"line":362}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":375},"end":{"line":375}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":375},"end":{"line":379}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":375},"end":{"line":383}}},"property":{"type":"Identifier","name":"FileVisitResult"},"loc":{"start":{"line":375},"end":{"line":388}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":413},"end":{"line":413}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":413},"end":{"line":417}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":413},"end":{"line":421}}},"property":{"type":"Identifier","name":"Files"},"loc":{"start":{"line":413},"end":{"line":426}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":441},"end":{"line":441}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":441},"end":{"line":445}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":441},"end":{"line":449}}},"property":{"type":"Identifier","name":"Path"},"loc":{"start":{"line":441},"end":{"line":454}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":468},"end":{"line":468}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":468},"end":{"line":472}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":468},"end":{"line":476}}},"property":{"type":"Identifier","name":"SimpleFileVisitor"},"loc":{"start":{"line":468},"end":{"line":481}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":508},"end":{"line":508}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":508},"end":{"line":512}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":508},"end":{"line":516}}},"property":{"type":"Identifier","name":"attribute"},"loc":{"start":{"line":508},"end":{"line":521}}},"property":{"type":"Identifier","name":"BasicFileAttributes"},"loc":{"start":{"line":508},"end":{"line":531}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":560},"end":{"line":560}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":560},"end":{"line":564}}},"property":{"type":"Identifier","name":"List"},"loc":{"start":{"line":560},"end":{"line":569}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":583},"end":{"line":583}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":583},"end":{"line":587}}},"property":{"type":"Identifier","name":"Objects"},"loc":{"start":{"line":583},"end":{"line":592}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":609},"end":{"line":609}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":609},"end":{"line":613}}},"property":{"type":"Identifier","name":"concurrent"},"loc":{"start":{"line":609},"end":{"line":618}}},"property":{"type":"Identifier","name":"Callable"},"loc":{"start":{"line":609},"end":{"line":629}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":647},"end":{"line":647}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":647},"end":{"line":651}}},"property":{"type":"Identifier","name":"concurrent"},"loc":{"start":{"line":647},"end":{"line":656}}},"property":{"type":"Identifier","name":"CompletionService"},"loc":{"start":{"line":647},"end":{"line":667}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":694},"end":{"line":694}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":694},"end":{"line":698}}},"property":{"type":"Identifier","name":"concurrent"},"loc":{"start":{"line":694},"end":{"line":703}}},"property":{"type":"Identifier","name":"ExecutorCompletionService"},"loc":{"start":{"line":694},"end":{"line":714}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":749},"end":{"line":749}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":749},"end":{"line":753}}},"property":{"type":"Identifier","name":"concurrent"},"loc":{"start":{"line":749},"end":{"line":758}}},"property":{"type":"Identifier","name":"ExecutorService"},"loc":{"start":{"line":749},"end":{"line":769}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":794},"end":{"line":794}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":794},"end":{"line":798}}},"property":{"type":"Identifier","name":"concurrent"},"loc":{"start":{"line":794},"end":{"line":803}}},"property":{"type":"Identifier","name":"Executors"},"loc":{"start":{"line":794},"end":{"line":814}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"PluginsLoader"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"WEBGOAT_PLUGIN_EXTENSION","vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":945},"end":{"line":945}}}},"modifiers":{"type":"Modifiers","modifiers":["private","static","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"String","loc":{"start":{"line":945},"end":{"line":945}}},"init":{"type":"Literal","value":"jar","raw":"jar","loc":{"start":{"line":979},"end":{"line":979}}},"loc":{"start":{"line":924},"end":{"line":952}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"alreadyLoaded","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":["private","static"],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":1029},"end":{"line":1029}}},"loc":{"start":{"line":990},"end":{"line":1013}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"logger","vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":1054},"end":{"line":1054}}}},"modifiers":{"type":"Modifiers","modifiers":["private","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Logger","loc":{"start":{"line":1054},"end":{"line":1054}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"LoggerFactory","loc":{"start":{"line":1070},"end":{"line":1070}}},"property":{"type":"Identifier","name":"getLogger"},"loc":{"start":{"line":1070},"end":{"line":1083}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"getClass"},"loc":{"start":{"line":1094},"end":{"line":1098}}},"arguments":[],"loc":{"start":{"line":1094},"end":{"line":1107}}}],"loc":{"start":{"line":1070},"end":{"line":1093}}},"loc":{"start":{"line":1040},"end":{"line":1061}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pluginSource","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1130},"end":{"line":1130}}}},"modifiers":{"type":"Modifiers","modifiers":["private","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1130},"end":{"line":1130}}},"loc":{"start":{"line":1116},"end":{"line":1135}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"pluginTarget","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1161},"end":{"line":1161}}}},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1161},"end":{"line":1161}}},"loc":{"start":{"line":1153},"end":{"line":1166}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"\u003cinit\u003e"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"typarams":[],"params":[{"type":"Identifier","name":"pluginSource","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1402},"end":{"line":1402}}}},{"type":"Identifier","name":"pluginTarget","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":1421},"end":{"line":1421}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pluginSource"},"loc":{"start":{"line":1450},"end":{"line":1454}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Objects","loc":{"start":{"line":1470},"end":{"line":1470}}},"property":{"type":"Identifier","name":"requireNonNull"},"loc":{"start":{"line":1470},"end":{"line":1477}}},"arguments":[{"type":"Identifier","name":"pluginSource","loc":{"start":{"line":1493},"end":{"line":1493}}},{"type":"Literal","value":"plugin source cannot be null","raw":"plugin source cannot be null","loc":{"start":{"line":1507},"end":{"line":1507}}}],"loc":{"start":{"line":1470},"end":{"line":1492}}},"loc":{"start":{"line":1450},"end":{"line":1468}}},"loc":{"start":{"line":1450},"end":{"line":1450}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"pluginTarget"},"loc":{"start":{"line":1548},"end":{"line":1552}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Objects","loc":{"start":{"line":1568},"end":{"line":1568}}},"property":{"type":"Identifier","name":"requireNonNull"},"loc":{"start":{"line":1568},"end":{"line":1575}}},"arguments":[{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":1591},"end":{"line":1591}}},{"type":"Literal","value":"plugin target cannot be null","raw":"plugin target cannot be null","loc":{"start":{"line":1605},"end":{"line":1605}}}],"loc":{"start":{"line":1568},"end":{"line":1590}}},"loc":{"start":{"line":1548},"end":{"line":1566}}},"loc":{"start":{"line":1548},"end":{"line":1548}}}],"loc":{"start":{"line":1440},"end":{"line":1642}}},"code":"\npublic \u003cinit\u003e(Path pluginSource, Path pluginTarget) {\n    this.pluginSource \u003d Objects.requireNonNull(pluginSource, \"plugin source cannot be null\");\n    this.pluginTarget \u003d Objects.requireNonNull(pluginTarget, \"plugin target cannot be null\");\n}","loc":{"start":{"line":1381},"end":{"line":1388}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyJars"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":2152},"end":{"line":2152}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":2179},"end":{"line":2179}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":2179},"end":{"line":2185}}},"arguments":[{"type":"Literal","value":"Copying plugins failed","raw":"Copying plugins failed","loc":{"start":{"line":2192},"end":{"line":2192}}},{"type":"Identifier","name":"e","loc":{"start":{"line":2218},"end":{"line":2218}}}],"loc":{"start":{"line":2179},"end":{"line":2191}}},"loc":{"start":{"line":2179},"end":{"line":2179}}}],"loc":{"start":{"line":2165},"end":{"line":2230}}},"loc":{"start":{"line":2145},"end":{"line":2145}}}],"block":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"argument":{"type":"Identifier","name":"alreadyLoaded","loc":{"start":{"line":1759},"end":{"line":1759}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":1758},"end":{"line":1758}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"cl","vartype":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1792},"end":{"line":1792}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1792},"end":{"line":1792}}},"init":{"type":"TypeCast","clazz":{"type":"Identifier","name":"WebappClassLoader","loc":{"start":{"line":1816},"end":{"line":1816}}},"expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Thread","loc":{"start":{"line":1835},"end":{"line":1835}}},"property":{"type":"Identifier","name":"currentThread"},"loc":{"start":{"line":1835},"end":{"line":1841}}},"arguments":[],"loc":{"start":{"line":1835},"end":{"line":1855}}},"property":{"type":"Identifier","name":"getContextClassLoader"},"loc":{"start":{"line":1835},"end":{"line":1857}}},"arguments":[],"loc":{"start":{"line":1835},"end":{"line":1879}}},"loc":{"start":{"line":1815},"end":{"line":1815}}},"loc":{"start":{"line":1792},"end":{"line":1810}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cl","loc":{"start":{"line":1899},"end":{"line":1899}}},"property":{"type":"Identifier","name":"setAntiJARLocking"},"loc":{"start":{"line":1899},"end":{"line":1901}}},"arguments":[{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":1920},"end":{"line":1920}}}],"loc":{"start":{"line":1899},"end":{"line":1919}}},"loc":{"start":{"line":1899},"end":{"line":1899}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"jars","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":1943},"end":{"line":1943}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":1943},"end":{"line":1943}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"listJars","loc":{"start":{"line":1960},"end":{"line":1960}}},"arguments":[],"loc":{"start":{"line":1960},"end":{"line":1968}}},"loc":{"start":{"line":1943},"end":{"line":1953}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"jar","vartype":{"type":"Identifier","name":"URL","loc":{"start":{"line":1993},"end":{"line":1993}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"URL","loc":{"start":{"line":1993},"end":{"line":1993}}},"loc":{"start":{"line":1993},"end":{"line":1997}}},"right":{"type":"Identifier","name":"jars","loc":{"start":{"line":2003},"end":{"line":2003}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"cl","loc":{"start":{"line":2031},"end":{"line":2031}}},"property":{"type":"Identifier","name":"addRepository"},"loc":{"start":{"line":2031},"end":{"line":2033}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"jar","loc":{"start":{"line":2048},"end":{"line":2048}}},"property":{"type":"Identifier","name":"toString"},"loc":{"start":{"line":2048},"end":{"line":2051}}},"arguments":[],"loc":{"start":{"line":2048},"end":{"line":2060}}}],"loc":{"start":{"line":2031},"end":{"line":2047}}},"loc":{"start":{"line":2031},"end":{"line":2031}}}],"loc":{"start":{"line":2009},"end":{"line":2081}}},"loc":{"start":{"line":1988},"end":{"line":1988}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"alreadyLoaded","loc":{"start":{"line":2099},"end":{"line":2099}}},"right":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":2115},"end":{"line":2115}}},"loc":{"start":{"line":2099},"end":{"line":2113}}},"loc":{"start":{"line":2099},"end":{"line":2099}}}],"loc":{"start":{"line":1774},"end":{"line":2133}}},"loc":{"start":{"line":1754},"end":{"line":1754}}}],"loc":{"start":{"line":1740},"end":{"line":2143}}},"loc":{"start":{"line":1736},"end":{"line":2230}}}],"loc":{"start":{"line":1726},"end":{"line":2236}}},"code":"\npublic void copyJars() {\n    try {\n        if (!alreadyLoaded) {\n            WebappClassLoader cl \u003d (WebappClassLoader)Thread.currentThread().getContextClassLoader();\n            cl.setAntiJARLocking(true);\n            List\u003cURL\u003e jars \u003d listJars();\n            for (URL jar : jars) {\n                cl.addRepository(jar.toString());\n            }\n            alreadyLoaded \u003d true;\n        }\n    } catch (Exception e) {\n        logger.error(\"Copying plugins failed\", e);\n    }\n}","loc":{"start":{"line":1703},"end":{"line":1715}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"loadPlugins"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":2348},"end":{"line":2348}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"copyJars","loc":{"start":{"line":2385},"end":{"line":2385}}},"arguments":[],"loc":{"start":{"line":2385},"end":{"line":2393}}},"loc":{"start":{"line":2385},"end":{"line":2385}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugins","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2405},"end":{"line":2405}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2405},"end":{"line":2405}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":2428},"end":{"line":2428}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":2428},"end":{"line":2433}}},"arguments":[],"loc":{"start":{"line":2428},"end":{"line":2446}}},"loc":{"start":{"line":2405},"end":{"line":2418}}},{"type":"TryStatement","handlers":[{"type":"CatchClause","param":{"type":"Identifier","name":"e","vartype":{"type":"Identifier","name":"Exception","loc":{"start":{"line":2681},"end":{"line":2681}}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"logger","loc":{"start":{"line":2708},"end":{"line":2708}}},"property":{"type":"Identifier","name":"error"},"loc":{"start":{"line":2708},"end":{"line":2714}}},"arguments":[{"type":"Literal","value":"Loading plugins failed","raw":"Loading plugins failed","loc":{"start":{"line":2721},"end":{"line":2721}}},{"type":"Identifier","name":"e","loc":{"start":{"line":2747},"end":{"line":2747}}}],"loc":{"start":{"line":2708},"end":{"line":2720}}},"loc":{"start":{"line":2708},"end":{"line":2708}}}],"loc":{"start":{"line":2694},"end":{"line":2759}}},"loc":{"start":{"line":2674},"end":{"line":2674}}}],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"PluginFileUtils","loc":{"start":{"line":2477},"end":{"line":2477}}},"property":{"type":"Identifier","name":"createDirsIfNotExists"},"loc":{"start":{"line":2477},"end":{"line":2492}}},"arguments":[{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":2515},"end":{"line":2515}}}],"loc":{"start":{"line":2477},"end":{"line":2514}}},"loc":{"start":{"line":2477},"end":{"line":2477}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"cleanupExtractedPluginsDirectory","loc":{"start":{"line":2542},"end":{"line":2542}}},"arguments":[],"loc":{"start":{"line":2542},"end":{"line":2574}}},"loc":{"start":{"line":2542},"end":{"line":2542}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"jars","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2590},"end":{"line":2590}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":2590},"end":{"line":2590}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"listJars","loc":{"start":{"line":2607},"end":{"line":2607}}},"arguments":[],"loc":{"start":{"line":2607},"end":{"line":2615}}},"loc":{"start":{"line":2590},"end":{"line":2600}}},{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"plugins","loc":{"start":{"line":2632},"end":{"line":2632}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"processPlugins","loc":{"start":{"line":2642},"end":{"line":2642}}},"arguments":[{"type":"Identifier","name":"jars","loc":{"start":{"line":2657},"end":{"line":2657}}}],"loc":{"start":{"line":2642},"end":{"line":2656}}},"loc":{"start":{"line":2632},"end":{"line":2640}}},"loc":{"start":{"line":2632},"end":{"line":2632}}}],"loc":{"start":{"line":2463},"end":{"line":2672}}},"loc":{"start":{"line":2459},"end":{"line":2759}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"plugins","loc":{"start":{"line":2776},"end":{"line":2776}}},"loc":{"start":{"line":2769},"end":{"line":2769}}}],"loc":{"start":{"line":2375},"end":{"line":2789}}},"code":"\npublic List\u003cPlugin\u003e loadPlugins() {\n    copyJars();\n    List\u003cPlugin\u003e plugins \u003d Lists.newArrayList();\n    try {\n        PluginFileUtils.createDirsIfNotExists(pluginTarget);\n        cleanupExtractedPluginsDirectory();\n        List\u003cURL\u003e jars \u003d listJars();\n        plugins \u003d processPlugins(jars);\n    } catch (Exception e) {\n        logger.error(\"Loading plugins failed\", e);\n    }\n    return plugins;\n}","loc":{"start":{"line":2341},"end":{"line":2361}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"cleanupExtractedPluginsDirectory"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i18nDirectory","vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":2854},"end":{"line":2854}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Path","loc":{"start":{"line":2854},"end":{"line":2854}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":2875},"end":{"line":2875}}},"property":{"type":"Identifier","name":"resolve"},"loc":{"start":{"line":2875},"end":{"line":2887}}},"arguments":[{"type":"Literal","value":"plugin/i18n/","raw":"plugin/i18n/","loc":{"start":{"line":2896},"end":{"line":2896}}}],"loc":{"start":{"line":2875},"end":{"line":2895}}},"loc":{"start":{"line":2854},"end":{"line":2859}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"FileUtils","loc":{"start":{"line":2921},"end":{"line":2921}}},"property":{"type":"Identifier","name":"deleteQuietly"},"loc":{"start":{"line":2921},"end":{"line":2930}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"i18nDirectory","loc":{"start":{"line":2945},"end":{"line":2945}}},"property":{"type":"Identifier","name":"toFile"},"loc":{"start":{"line":2945},"end":{"line":2958}}},"arguments":[],"loc":{"start":{"line":2945},"end":{"line":2965}}}],"loc":{"start":{"line":2921},"end":{"line":2944}}},"loc":{"start":{"line":2921},"end":{"line":2921}}}],"loc":{"start":{"line":2844},"end":{"line":2974}}},"code":"\nprivate void cleanupExtractedPluginsDirectory() {\n    Path i18nDirectory \u003d pluginTarget.resolve(\"plugin/i18n/\");\n    FileUtils.deleteQuietly(i18nDirectory.toFile());\n}","loc":{"start":{"line":2796},"end":{"line":2809}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"listJars"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":2989},"end":{"line":2989}}},"typarams":[],"params":[],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":3017},"end":{"line":3017}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"jars","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3045},"end":{"line":3045}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3045},"end":{"line":3045}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":3062},"end":{"line":3062}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":3062},"end":{"line":3067}}},"arguments":[],"loc":{"start":{"line":3062},"end":{"line":3080}}},"loc":{"start":{"line":3039},"end":{"line":3055}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Files","loc":{"start":{"line":3092},"end":{"line":3092}}},"property":{"type":"Identifier","name":"walkFileTree"},"loc":{"start":{"line":3092},"end":{"line":3097}}},"arguments":[{"type":"Identifier","name":"pluginSource","loc":{"start":{"line":3111},"end":{"line":3111}}},{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"SimpleFileVisitor","loc":{"start":{"line":3129},"end":{"line":3129}}},"arguments":[],"loc":{"start":{"line":3125},"end":{"line":3125}}}],"loc":{"start":{"line":3092},"end":{"line":3110}}},"loc":{"start":{"line":3092},"end":{"line":3092}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"jars","loc":{"start":{"line":3528},"end":{"line":3528}}},"loc":{"start":{"line":3521},"end":{"line":3521}}}],"loc":{"start":{"line":3029},"end":{"line":3538}}},"code":"\nprivate List\u003cURL\u003e listJars() throws IOException {\n    final List\u003cURL\u003e jars \u003d Lists.newArrayList();\n    Files.walkFileTree(pluginSource, new SimpleFileVisitor\u003cPath\u003e(){\n        \n        @Override()\n        public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n            if (PluginFileUtils.fileEndsWith(file, WEBGOAT_PLUGIN_EXTENSION)) {\n                jars.add(file.toUri().toURL());\n            }\n            return FileVisitResult.CONTINUE;\n        }\n    });\n    return jars;\n}","loc":{"start":{"line":2981},"end":{"line":2999}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"processPlugins"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":3553},"end":{"line":3553}}},"typarams":[],"params":[{"type":"Identifier","name":"jars","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3581},"end":{"line":3581}}}}],"thrown":[{"type":"Identifier","name":"Exception","loc":{"start":{"line":3604},"end":{"line":3604}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"executorService","vartype":{"type":"Identifier","name":"ExecutorService","loc":{"start":{"line":3630},"end":{"line":3630}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"ExecutorService","loc":{"start":{"line":3630},"end":{"line":3630}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Executors","loc":{"start":{"line":3664},"end":{"line":3664}}},"property":{"type":"Identifier","name":"newFixedThreadPool"},"loc":{"start":{"line":3664},"end":{"line":3673}}},"arguments":[{"type":"Literal","value":10,"raw":10,"loc":{"start":{"line":3693},"end":{"line":3693}}}],"loc":{"start":{"line":3664},"end":{"line":3692}}},"loc":{"start":{"line":3624},"end":{"line":3646}}},{"type":"TryStatement","finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"executorService","loc":{"start":{"line":4514},"end":{"line":4514}}},"property":{"type":"Identifier","name":"shutdown"},"loc":{"start":{"line":4514},"end":{"line":4529}}},"arguments":[],"loc":{"start":{"line":4514},"end":{"line":4538}}},"loc":{"start":{"line":4514},"end":{"line":4514}}}],"loc":{"start":{"line":4500},"end":{"line":4550}}},"handlers":[],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugins","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3730},"end":{"line":3730}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3730},"end":{"line":3730}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":3753},"end":{"line":3753}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":3753},"end":{"line":3758}}},"arguments":[],"loc":{"start":{"line":3753},"end":{"line":3771}}},"loc":{"start":{"line":3724},"end":{"line":3743}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"completionService","vartype":{"type":"Identifier","name":"CompletionService","loc":{"start":{"line":3793},"end":{"line":3793}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"CompletionService","loc":{"start":{"line":3793},"end":{"line":3793}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ExecutorCompletionService","loc":{"start":{"line":3843},"end":{"line":3843}}},"arguments":[{"type":"Identifier","name":"executorService","loc":{"start":{"line":3871},"end":{"line":3871}}}],"loc":{"start":{"line":3839},"end":{"line":3839}}},"loc":{"start":{"line":3787},"end":{"line":3819}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"callables","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3907},"end":{"line":3907}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":3907},"end":{"line":3907}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"extractJars","loc":{"start":{"line":3942},"end":{"line":3942}}},"arguments":[{"type":"Identifier","name":"jars","loc":{"start":{"line":3954},"end":{"line":3954}}}],"loc":{"start":{"line":3942},"end":{"line":3953}}},"loc":{"start":{"line":3901},"end":{"line":3930}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"s","vartype":{"type":"Identifier","name":"Callable","loc":{"start":{"line":3979},"end":{"line":3979}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Callable","loc":{"start":{"line":3979},"end":{"line":3979}}},"loc":{"start":{"line":3979},"end":{"line":3996}}},"right":{"type":"Identifier","name":"callables","loc":{"start":{"line":4000},"end":{"line":4000}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"completionService","loc":{"start":{"line":4029},"end":{"line":4029}}},"property":{"type":"Identifier","name":"submit"},"loc":{"start":{"line":4029},"end":{"line":4046}}},"arguments":[{"type":"Identifier","name":"s","loc":{"start":{"line":4054},"end":{"line":4054}}}],"loc":{"start":{"line":4029},"end":{"line":4053}}},"loc":{"start":{"line":4029},"end":{"line":4029}}}],"loc":{"start":{"line":4011},"end":{"line":4070}}},"loc":{"start":{"line":3974},"end":{"line":3974}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"n","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"callables","loc":{"start":{"line":4092},"end":{"line":4092}}},"property":{"type":"Identifier","name":"size"},"loc":{"start":{"line":4092},"end":{"line":4101}}},"arguments":[],"loc":{"start":{"line":4092},"end":{"line":4106}}},"loc":{"start":{"line":4084},"end":{"line":4088}}},{"type":"ForStatement","init":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"i","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":4135},"end":{"line":4135}}},"loc":{"start":{"line":4127},"end":{"line":4131}}}],"test":{"type":"BinaryExpression","operator":"LESS_THAN","left":{"type":"Identifier","name":"i","loc":{"start":{"line":4138},"end":{"line":4138}}},"right":{"type":"Identifier","name":"n","loc":{"start":{"line":4142},"end":{"line":4142}}},"loc":{"start":{"line":4138},"end":{"line":4140}}},"update":[{"type":"ExpressionStatement","expression":{"argument":{"type":"Identifier","name":"i","loc":{"start":{"line":4145},"end":{"line":4145}}},"type":"UpdateExpression","operator":"++","prefix":false},"loc":{"start":{"line":4145},"end":{"line":4145}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugin","vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":4168},"end":{"line":4168}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":4168},"end":{"line":4168}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"completionService","loc":{"start":{"line":4184},"end":{"line":4184}}},"property":{"type":"Identifier","name":"take"},"loc":{"start":{"line":4184},"end":{"line":4201}}},"arguments":[],"loc":{"start":{"line":4184},"end":{"line":4206}}},"property":{"type":"Identifier","name":"get"},"loc":{"start":{"line":4184},"end":{"line":4208}}},"arguments":[],"loc":{"start":{"line":4184},"end":{"line":4212}}},"loc":{"start":{"line":4168},"end":{"line":4175}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":4236},"end":{"line":4236}}},"property":{"type":"Identifier","name":"getLesson"},"loc":{"start":{"line":4236},"end":{"line":4242}}},"arguments":[],"loc":{"start":{"line":4236},"end":{"line":4252}}},"property":{"type":"Identifier","name":"isPresent"},"loc":{"start":{"line":4236},"end":{"line":4254}}},"arguments":[],"loc":{"start":{"line":4236},"end":{"line":4264}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugins","loc":{"start":{"line":4290},"end":{"line":4290}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":4290},"end":{"line":4297}}},"arguments":[{"type":"Identifier","name":"plugin","loc":{"start":{"line":4302},"end":{"line":4302}}}],"loc":{"start":{"line":4290},"end":{"line":4301}}},"loc":{"start":{"line":4290},"end":{"line":4290}}}],"loc":{"start":{"line":4268},"end":{"line":4327}}},"loc":{"start":{"line":4232},"end":{"line":4232}}}],"loc":{"start":{"line":4150},"end":{"line":4341}}},"loc":{"start":{"line":4122},"end":{"line":4122}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"LabelProvider","loc":{"start":{"line":4355},"end":{"line":4355}}},"property":{"type":"Identifier","name":"updatePluginResources"},"loc":{"start":{"line":4355},"end":{"line":4368}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"pluginTarget","loc":{"start":{"line":4391},"end":{"line":4391}}},"property":{"type":"Identifier","name":"resolve"},"loc":{"start":{"line":4391},"end":{"line":4403}}},"arguments":[{"type":"Literal","value":"plugin/i18n/WebGoatLabels.properties","raw":"plugin/i18n/WebGoatLabels.properties","loc":{"start":{"line":4412},"end":{"line":4412}}}],"loc":{"start":{"line":4391},"end":{"line":4411}}}],"loc":{"start":{"line":4355},"end":{"line":4390}}},"loc":{"start":{"line":4355},"end":{"line":4355}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"plugins","loc":{"start":{"line":4473},"end":{"line":4473}}},"loc":{"start":{"line":4466},"end":{"line":4466}}}],"loc":{"start":{"line":3710},"end":{"line":4490}}},"loc":{"start":{"line":3706},"end":{"line":4550}}}],"loc":{"start":{"line":3614},"end":{"line":4556}}},"code":"\nprivate List\u003cPlugin\u003e processPlugins(List\u003cURL\u003e jars) throws Exception {\n    final ExecutorService executorService \u003d Executors.newFixedThreadPool(10);\n    try {\n        final List\u003cPlugin\u003e plugins \u003d Lists.newArrayList();\n        final CompletionService\u003cPlugin\u003e completionService \u003d new ExecutorCompletionService\u003c\u003e(executorService);\n        final List\u003cCallable\u003cPlugin\u003e\u003e callables \u003d extractJars(jars);\n        for (Callable\u003cPlugin\u003e s : callables) {\n            completionService.submit(s);\n        }\n        int n \u003d callables.size();\n        for (int i \u003d 0; i \u003c n; i++) {\n            Plugin plugin \u003d completionService.take().get();\n            if (plugin.getLesson().isPresent()) {\n                plugins.add(plugin);\n            }\n        }\n        LabelProvider.updatePluginResources(pluginTarget.resolve(\"plugin/i18n/WebGoatLabels.properties\"));\n        return plugins;\n    } finally {\n        executorService.shutdown();\n    }\n}","loc":{"start":{"line":3545},"end":{"line":3566}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extractJars"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":4571},"end":{"line":4571}}},"typarams":[],"params":[{"type":"Identifier","name":"jars","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":4606},"end":{"line":4606}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"extractorCallables","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":4632},"end":{"line":4632}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":4632},"end":{"line":4632}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":4676},"end":{"line":4676}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":4676},"end":{"line":4681}}},"arguments":[],"loc":{"start":{"line":4676},"end":{"line":4694}}},"loc":{"start":{"line":4632},"end":{"line":4655}}},{"type":"ForInStatement","left":{"type":"VariableDeclarator","id":{"type":"Identifier","name":"jar","vartype":{"type":"Identifier","name":"URL","loc":{"start":{"line":4717},"end":{"line":4717}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"URL","loc":{"start":{"line":4717},"end":{"line":4717}}},"loc":{"start":{"line":4711},"end":{"line":4721}}},"right":{"type":"Identifier","name":"jars","loc":{"start":{"line":4727},"end":{"line":4727}}},"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"extractorCallables","loc":{"start":{"line":4747},"end":{"line":4747}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":4747},"end":{"line":4765}}},"arguments":[{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Callable","loc":{"start":{"line":4774},"end":{"line":4774}}},"arguments":[],"loc":{"start":{"line":4770},"end":{"line":4770}}}],"loc":{"start":{"line":4747},"end":{"line":4769}}},"loc":{"start":{"line":4747},"end":{"line":4747}}}],"loc":{"start":{"line":4733},"end":{"line":5095}}},"loc":{"start":{"line":4706},"end":{"line":4706}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"extractorCallables","loc":{"start":{"line":5112},"end":{"line":5112}}},"loc":{"start":{"line":5105},"end":{"line":5105}}}],"loc":{"start":{"line":4622},"end":{"line":5136}}},"code":"\nprivate List\u003cCallable\u003cPlugin\u003e\u003e extractJars(List\u003cURL\u003e jars) {\n    List\u003cCallable\u003cPlugin\u003e\u003e extractorCallables \u003d Lists.newArrayList();\n    for (final URL jar : jars) {\n        extractorCallables.add(new Callable\u003cPlugin\u003e(){\n            \n            @Override()\n            public Plugin call() throws Exception {\n                PluginExtractor extractor \u003d new PluginExtractor();\n                return extractor.extractJarFile(ResourceUtils.getFile(jar), pluginTarget.toFile());\n            }\n        });\n    }\n    return extractorCallables;\n}","loc":{"start":{"line":4563},"end":{"line":4594}}}],"loc":{"start":{"line":890},"end":{"line":897}}}],"loc":{"start":{"line":0},"end":{"line":0}}}