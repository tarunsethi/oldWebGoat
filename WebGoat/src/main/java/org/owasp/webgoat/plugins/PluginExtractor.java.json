{"language":"Java","type":"CompilationUnit","pid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":8},"end":{"line":8}}},"property":{"type":"Identifier","name":"owasp"},"loc":{"start":{"line":8},"end":{"line":11}}},"property":{"type":"Identifier","name":"webgoat"},"loc":{"start":{"line":8},"end":{"line":17}}},"property":{"type":"Identifier","name":"plugins"},"loc":{"start":{"line":8},"end":{"line":25}}},"annotations":[],"definitions":[{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"com","loc":{"start":{"line":43},"end":{"line":43}}},"property":{"type":"Identifier","name":"google"},"loc":{"start":{"line":43},"end":{"line":46}}},"property":{"type":"Identifier","name":"common"},"loc":{"start":{"line":43},"end":{"line":53}}},"property":{"type":"Identifier","name":"collect"},"loc":{"start":{"line":43},"end":{"line":60}}},"property":{"type":"Identifier","name":"Lists"},"loc":{"start":{"line":43},"end":{"line":68}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"com","loc":{"start":{"line":83},"end":{"line":83}}},"property":{"type":"Identifier","name":"google"},"loc":{"start":{"line":83},"end":{"line":86}}},"property":{"type":"Identifier","name":"common"},"loc":{"start":{"line":83},"end":{"line":93}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":83},"end":{"line":100}}},"property":{"type":"Identifier","name":"Files"},"loc":{"start":{"line":83},"end":{"line":103}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"org","loc":{"start":{"line":118},"end":{"line":118}}},"property":{"type":"Identifier","name":"apache"},"loc":{"start":{"line":118},"end":{"line":121}}},"property":{"type":"Identifier","name":"commons"},"loc":{"start":{"line":118},"end":{"line":128}}},"property":{"type":"Identifier","name":"fileupload"},"loc":{"start":{"line":118},"end":{"line":136}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":118},"end":{"line":147}}},"property":{"type":"Identifier","name":"Streams"},"loc":{"start":{"line":118},"end":{"line":152}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":170},"end":{"line":170}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":170},"end":{"line":174}}},"property":{"type":"Identifier","name":"File"},"loc":{"start":{"line":170},"end":{"line":177}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":191},"end":{"line":191}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":191},"end":{"line":195}}},"property":{"type":"Identifier","name":"FileOutputStream"},"loc":{"start":{"line":191},"end":{"line":198}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":224},"end":{"line":224}}},"property":{"type":"Identifier","name":"io"},"loc":{"start":{"line":224},"end":{"line":228}}},"property":{"type":"Identifier","name":"IOException"},"loc":{"start":{"line":224},"end":{"line":231}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":252},"end":{"line":252}}},"property":{"type":"Identifier","name":"nio"},"loc":{"start":{"line":252},"end":{"line":256}}},"property":{"type":"Identifier","name":"file"},"loc":{"start":{"line":252},"end":{"line":260}}},"property":{"type":"Identifier","name":"Path"},"loc":{"start":{"line":252},"end":{"line":265}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":279},"end":{"line":279}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":279},"end":{"line":283}}},"property":{"type":"Identifier","name":"ArrayList"},"loc":{"start":{"line":279},"end":{"line":288}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":307},"end":{"line":307}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":307},"end":{"line":311}}},"property":{"type":"Identifier","name":"Enumeration"},"loc":{"start":{"line":307},"end":{"line":316}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":337},"end":{"line":337}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":337},"end":{"line":341}}},"property":{"type":"Identifier","name":"List"},"loc":{"start":{"line":337},"end":{"line":346}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":360},"end":{"line":360}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":360},"end":{"line":364}}},"property":{"type":"Identifier","name":"zip"},"loc":{"start":{"line":360},"end":{"line":369}}},"property":{"type":"Identifier","name":"ZipEntry"},"loc":{"start":{"line":360},"end":{"line":373}}}},{"type":"Import","qualid":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"MemberExpression","object":{"type":"Identifier","name":"java","loc":{"start":{"line":391},"end":{"line":391}}},"property":{"type":"Identifier","name":"util"},"loc":{"start":{"line":391},"end":{"line":395}}},"property":{"type":"Identifier","name":"zip"},"loc":{"start":{"line":391},"end":{"line":400}}},"property":{"type":"Identifier","name":"ZipFile"},"loc":{"start":{"line":391},"end":{"line":404}}}},{"type":"ClassDeclaration","id":{"type":"Identifier","name":"PluginExtractor"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"definitions":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"classes","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":601},"end":{"line":601}}}},"modifiers":{"type":"Modifiers","modifiers":["private","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":601},"end":{"line":601}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Lists","loc":{"start":{"line":624},"end":{"line":624}}},"property":{"type":"Identifier","name":"newArrayList"},"loc":{"start":{"line":624},"end":{"line":629}}},"arguments":[],"loc":{"start":{"line":624},"end":{"line":642}}},"loc":{"start":{"line":587},"end":{"line":614}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"files","vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":664},"end":{"line":664}}}},"modifiers":{"type":"Modifiers","modifiers":["private","final"],"annotations":[]},"vartype":{"type":"Identifier","name":"List","loc":{"start":{"line":664},"end":{"line":664}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ArrayList","loc":{"start":{"line":687},"end":{"line":687}}},"arguments":[],"loc":{"start":{"line":683},"end":{"line":683}}},"loc":{"start":{"line":650},"end":{"line":675}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"extractJarFile"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":714},"end":{"line":714}}},"typarams":[],"params":[{"type":"Identifier","name":"archive","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":742},"end":{"line":742}}}},{"type":"Identifier","name":"targetDirectory","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":762},"end":{"line":762}}}}],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":791},"end":{"line":791}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"zipFile","vartype":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":813},"end":{"line":813}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":813},"end":{"line":813}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":835},"end":{"line":835}}},"arguments":[{"type":"Identifier","name":"archive","loc":{"start":{"line":843},"end":{"line":843}}}],"loc":{"start":{"line":831},"end":{"line":831}}},"loc":{"start":{"line":813},"end":{"line":821}}},{"type":"VariableDeclarator","id":{"type":"Identifier","name":"plugin","vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":861},"end":{"line":861}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":861},"end":{"line":861}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":881},"end":{"line":881}}},"arguments":[],"loc":{"start":{"line":877},"end":{"line":877}}},"loc":{"start":{"line":861},"end":{"line":868}}},{"type":"TryStatement","finalizer":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":1569},"end":{"line":1569}}},"property":{"type":"Identifier","name":"findLesson"},"loc":{"start":{"line":1569},"end":{"line":1575}}},"arguments":[{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"classes"},"loc":{"start":{"line":1587},"end":{"line":1591}}}],"loc":{"start":{"line":1569},"end":{"line":1586}}},"loc":{"start":{"line":1569},"end":{"line":1569}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":1618},"end":{"line":1618}}},"property":{"type":"Identifier","name":"getLesson"},"loc":{"start":{"line":1618},"end":{"line":1624}}},"arguments":[],"loc":{"start":{"line":1618},"end":{"line":1634}}},"property":{"type":"Identifier","name":"isPresent"},"loc":{"start":{"line":1618},"end":{"line":1636}}},"arguments":[],"loc":{"start":{"line":1618},"end":{"line":1646}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":1668},"end":{"line":1668}}},"property":{"type":"Identifier","name":"rewritePaths"},"loc":{"start":{"line":1668},"end":{"line":1674}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"targetDirectory","loc":{"start":{"line":1688},"end":{"line":1688}}},"property":{"type":"Identifier","name":"toPath"},"loc":{"start":{"line":1688},"end":{"line":1703}}},"arguments":[],"loc":{"start":{"line":1688},"end":{"line":1710}}}],"loc":{"start":{"line":1668},"end":{"line":1687}}},"loc":{"start":{"line":1668},"end":{"line":1668}}}],"loc":{"start":{"line":1650},"end":{"line":1727}}},"loc":{"start":{"line":1614},"end":{"line":1614}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipFile","loc":{"start":{"line":1741},"end":{"line":1741}}},"property":{"type":"Identifier","name":"close"},"loc":{"start":{"line":1741},"end":{"line":1748}}},"arguments":[],"loc":{"start":{"line":1741},"end":{"line":1754}}},"loc":{"start":{"line":1741},"end":{"line":1741}}}],"loc":{"start":{"line":1555},"end":{"line":1766}}},"handlers":[],"block":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"entries","vartype":{"type":"Identifier","name":"Enumeration","loc":{"start":{"line":917},"end":{"line":917}}}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"Identifier","name":"Enumeration","loc":{"start":{"line":917},"end":{"line":917}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipFile","loc":{"start":{"line":959},"end":{"line":959}}},"property":{"type":"Identifier","name":"entries"},"loc":{"start":{"line":959},"end":{"line":966}}},"arguments":[],"loc":{"start":{"line":959},"end":{"line":974}}},"loc":{"start":{"line":917},"end":{"line":949}}},{"type":"WhileStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"entries","loc":{"start":{"line":997},"end":{"line":997}}},"property":{"type":"Identifier","name":"hasMoreElements"},"loc":{"start":{"line":997},"end":{"line":1004}}},"arguments":[],"loc":{"start":{"line":997},"end":{"line":1020}}},"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":1048},"end":{"line":1048}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":1048},"end":{"line":1048}}},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"entries","loc":{"start":{"line":1068},"end":{"line":1068}}},"property":{"type":"Identifier","name":"nextElement"},"loc":{"start":{"line":1068},"end":{"line":1075}}},"arguments":[],"loc":{"start":{"line":1068},"end":{"line":1087}}},"loc":{"start":{"line":1042},"end":{"line":1057}}},{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"shouldProcessFile","loc":{"start":{"line":1111},"end":{"line":1111}}},"arguments":[{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":1129},"end":{"line":1129}}}],"loc":{"start":{"line":1111},"end":{"line":1128}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"processed","vartype":{"type":"PrimitiveType"}},"modifiers":{"type":"Modifiers","modifiers":[],"annotations":[]},"vartype":{"type":"PrimitiveType"},"init":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"processClassFile","loc":{"start":{"line":1182},"end":{"line":1182}}},"arguments":[{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":1199},"end":{"line":1199}}}],"loc":{"start":{"line":1182},"end":{"line":1198}}},"loc":{"start":{"line":1162},"end":{"line":1170}}},{"type":"IfStatement","test":{"argument":{"type":"Identifier","name":"processed","loc":{"start":{"line":1236},"end":{"line":1236}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":1235},"end":{"line":1235}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"AssignmentExpression","left":{"type":"Identifier","name":"processed","loc":{"start":{"line":1273},"end":{"line":1273}}},"right":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"processPropertyFile","loc":{"start":{"line":1285},"end":{"line":1285}}},"arguments":[{"type":"Identifier","name":"zipFile","loc":{"start":{"line":1305},"end":{"line":1305}}},{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":1314},"end":{"line":1314}}},{"type":"Identifier","name":"targetDirectory","loc":{"start":{"line":1324},"end":{"line":1324}}}],"loc":{"start":{"line":1285},"end":{"line":1304}}},"loc":{"start":{"line":1273},"end":{"line":1283}}},"loc":{"start":{"line":1273},"end":{"line":1273}}}],"loc":{"start":{"line":1247},"end":{"line":1362}}},"loc":{"start":{"line":1231},"end":{"line":1231}}},{"type":"IfStatement","test":{"argument":{"type":"Identifier","name":"processed","loc":{"start":{"line":1389},"end":{"line":1389}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":1388},"end":{"line":1388}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"processFile","loc":{"start":{"line":1426},"end":{"line":1426}}},"arguments":[{"type":"Identifier","name":"plugin","loc":{"start":{"line":1438},"end":{"line":1438}}},{"type":"Identifier","name":"zipFile","loc":{"start":{"line":1446},"end":{"line":1446}}},{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":1455},"end":{"line":1455}}},{"type":"Identifier","name":"targetDirectory","loc":{"start":{"line":1465},"end":{"line":1465}}}],"loc":{"start":{"line":1426},"end":{"line":1437}}},"loc":{"start":{"line":1426},"end":{"line":1426}}}],"loc":{"start":{"line":1400},"end":{"line":1503}}},"loc":{"start":{"line":1384},"end":{"line":1384}}}],"loc":{"start":{"line":1140},"end":{"line":1521}}},"loc":{"start":{"line":1107},"end":{"line":1107}}}],"loc":{"start":{"line":1024},"end":{"line":1535}}},"loc":{"start":{"line":990},"end":{"line":990}}}],"loc":{"start":{"line":903},"end":{"line":1545}}},"loc":{"start":{"line":899},"end":{"line":1766}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"plugin","loc":{"start":{"line":1783},"end":{"line":1783}}},"loc":{"start":{"line":1776},"end":{"line":1776}}}],"loc":{"start":{"line":803},"end":{"line":1795}}},"code":"\npublic Plugin extractJarFile(final File archive, final File targetDirectory) throws IOException {\n    ZipFile zipFile \u003d new ZipFile(archive);\n    Plugin plugin \u003d new Plugin();\n    try {\n        Enumeration\u003c? extends ZipEntry\u003e entries \u003d zipFile.entries();\n        while (entries.hasMoreElements()) {\n            final ZipEntry zipEntry \u003d entries.nextElement();\n            if (shouldProcessFile(zipEntry)) {\n                boolean processed \u003d processClassFile(zipEntry);\n                if (!processed) {\n                    processed \u003d processPropertyFile(zipFile, zipEntry, targetDirectory);\n                }\n                if (!processed) {\n                    processFile(plugin, zipFile, zipEntry, targetDirectory);\n                }\n            }\n        }\n    } finally {\n        plugin.findLesson(this.classes);\n        if (plugin.getLesson().isPresent()) {\n            plugin.rewritePaths(targetDirectory.toPath());\n        }\n        zipFile.close();\n    }\n    return plugin;\n}","loc":{"start":{"line":707},"end":{"line":721}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"processFile"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"plugin","vartype":{"type":"Identifier","name":"Plugin","loc":{"start":{"line":1827},"end":{"line":1827}}}},{"type":"Identifier","name":"zipFile","vartype":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":1842},"end":{"line":1842}}}},{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":1859},"end":{"line":1859}}}},{"type":"Identifier","name":"targetDirectory","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":1878},"end":{"line":1878}}}}],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":1919},"end":{"line":1919}}}],"body":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"targetFile","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":1947},"end":{"line":1947}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":1947},"end":{"line":1947}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"File","loc":{"start":{"line":1969},"end":{"line":1969}}},"arguments":[{"type":"Identifier","name":"targetDirectory","loc":{"start":{"line":1974},"end":{"line":1974}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":1991},"end":{"line":1991}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":1991},"end":{"line":1999}}},"arguments":[],"loc":{"start":{"line":1991},"end":{"line":2007}}}],"loc":{"start":{"line":1965},"end":{"line":1965}}},"loc":{"start":{"line":1941},"end":{"line":1952}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"copyFile","loc":{"start":{"line":2020},"end":{"line":2020}}},"arguments":[{"type":"Identifier","name":"zipFile","loc":{"start":{"line":2029},"end":{"line":2029}}},{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2038},"end":{"line":2038}}},{"type":"Identifier","name":"targetFile","loc":{"start":{"line":2048},"end":{"line":2048}}},{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":2060},"end":{"line":2060}}}],"loc":{"start":{"line":2020},"end":{"line":2028}}},"loc":{"start":{"line":2020},"end":{"line":2020}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"plugin","loc":{"start":{"line":2076},"end":{"line":2076}}},"property":{"type":"Identifier","name":"loadFiles"},"loc":{"start":{"line":2076},"end":{"line":2082}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"targetFile","loc":{"start":{"line":2093},"end":{"line":2093}}},"property":{"type":"Identifier","name":"toPath"},"loc":{"start":{"line":2093},"end":{"line":2103}}},"arguments":[],"loc":{"start":{"line":2093},"end":{"line":2110}}}],"loc":{"start":{"line":2076},"end":{"line":2092}}},"loc":{"start":{"line":2076},"end":{"line":2076}}}],"loc":{"start":{"line":1931},"end":{"line":2119}}},"code":"\nprivate void processFile(Plugin plugin, ZipFile zipFile, ZipEntry zipEntry, File targetDirectory) throws IOException {\n    final File targetFile \u003d new File(targetDirectory, zipEntry.getName());\n    copyFile(zipFile, zipEntry, targetFile, false);\n    plugin.loadFiles(targetFile.toPath());\n}","loc":{"start":{"line":1802},"end":{"line":1815}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"processPropertyFile"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"zipFile","vartype":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":2162},"end":{"line":2162}}}},{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":2179},"end":{"line":2179}}}},{"type":"Identifier","name":"targetDirectory","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":2198},"end":{"line":2198}}}}],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":2239},"end":{"line":2239}}}],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2265},"end":{"line":2265}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2265},"end":{"line":2273}}},"arguments":[],"loc":{"start":{"line":2265},"end":{"line":2281}}},"property":{"type":"Identifier","name":"endsWith"},"loc":{"start":{"line":2265},"end":{"line":2283}}},"arguments":[{"type":"Literal","value":".properties","raw":".properties","loc":{"start":{"line":2293},"end":{"line":2293}}}],"loc":{"start":{"line":2265},"end":{"line":2292}}},"consequent":{"type":"BlockStatement","body":[{"type":"VariableDeclarator","id":{"type":"Identifier","name":"targetFile","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":2329},"end":{"line":2329}}}},"modifiers":{"type":"Modifiers","modifiers":["final"],"annotations":[]},"vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":2329},"end":{"line":2329}}},"init":{"type":"NewExpression","typeargs":[],"callee":{"type":"Identifier","name":"File","loc":{"start":{"line":2351},"end":{"line":2351}}},"arguments":[{"type":"Identifier","name":"targetDirectory","loc":{"start":{"line":2356},"end":{"line":2356}}},{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2373},"end":{"line":2373}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2373},"end":{"line":2381}}},"arguments":[],"loc":{"start":{"line":2373},"end":{"line":2389}}}],"loc":{"start":{"line":2347},"end":{"line":2347}}},"loc":{"start":{"line":2323},"end":{"line":2334}}},{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"Identifier","name":"copyFile","loc":{"start":{"line":2406},"end":{"line":2406}}},"arguments":[{"type":"Identifier","name":"zipFile","loc":{"start":{"line":2415},"end":{"line":2415}}},{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2424},"end":{"line":2424}}},{"type":"Identifier","name":"targetFile","loc":{"start":{"line":2434},"end":{"line":2434}}},{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":2446},"end":{"line":2446}}}],"loc":{"start":{"line":2406},"end":{"line":2414}}},"loc":{"start":{"line":2406},"end":{"line":2406}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":2472},"end":{"line":2472}}},"loc":{"start":{"line":2465},"end":{"line":2465}}}],"loc":{"start":{"line":2309},"end":{"line":2486}}},"loc":{"start":{"line":2261},"end":{"line":2261}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":2503},"end":{"line":2503}}},"loc":{"start":{"line":2496},"end":{"line":2496}}}],"loc":{"start":{"line":2251},"end":{"line":2514}}},"code":"\nprivate boolean processPropertyFile(ZipFile zipFile, ZipEntry zipEntry, File targetDirectory) throws IOException {\n    if (zipEntry.getName().endsWith(\".properties\")) {\n        final File targetFile \u003d new File(targetDirectory, zipEntry.getName());\n        copyFile(zipFile, zipEntry, targetFile, true);\n        return true;\n    }\n    return false;\n}","loc":{"start":{"line":2126},"end":{"line":2142}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"processClassFile"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":2554},"end":{"line":2554}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"IfStatement","test":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2587},"end":{"line":2587}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2587},"end":{"line":2595}}},"arguments":[],"loc":{"start":{"line":2587},"end":{"line":2603}}},"property":{"type":"Identifier","name":"endsWith"},"loc":{"start":{"line":2587},"end":{"line":2605}}},"arguments":[{"type":"Literal","value":".class","raw":".class","loc":{"start":{"line":2615},"end":{"line":2615}}}],"loc":{"start":{"line":2587},"end":{"line":2614}}},"consequent":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"classes","loc":{"start":{"line":2640},"end":{"line":2640}}},"property":{"type":"Identifier","name":"add"},"loc":{"start":{"line":2640},"end":{"line":2647}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2652},"end":{"line":2652}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2652},"end":{"line":2660}}},"arguments":[],"loc":{"start":{"line":2652},"end":{"line":2668}}}],"loc":{"start":{"line":2640},"end":{"line":2651}}},"loc":{"start":{"line":2640},"end":{"line":2640}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":2692},"end":{"line":2692}}},"loc":{"start":{"line":2685},"end":{"line":2685}}}],"loc":{"start":{"line":2626},"end":{"line":2706}}},"loc":{"start":{"line":2583},"end":{"line":2583}}},{"type":"ReturnStatement","argument":{"type":"Literal","value":0,"raw":0,"loc":{"start":{"line":2723},"end":{"line":2723}}},"loc":{"start":{"line":2716},"end":{"line":2716}}}],"loc":{"start":{"line":2573},"end":{"line":2734}}},"code":"\nprivate boolean processClassFile(ZipEntry zipEntry) {\n    if (zipEntry.getName().endsWith(\".class\")) {\n        classes.add(zipEntry.getName());\n        return true;\n    }\n    return false;\n}","loc":{"start":{"line":2521},"end":{"line":2537}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"shouldProcessFile"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"PrimitiveType"},"typarams":[],"params":[{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":2775},"end":{"line":2775}}}}],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"BinaryExpression","operator":"CONDITIONAL_AND","left":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2812},"end":{"line":2812}}},"property":{"type":"Identifier","name":"isDirectory"},"loc":{"start":{"line":2812},"end":{"line":2820}}},"arguments":[],"loc":{"start":{"line":2812},"end":{"line":2832}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":2811},"end":{"line":2811}}},"right":{"argument":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":2839},"end":{"line":2839}}},"property":{"type":"Identifier","name":"getName"},"loc":{"start":{"line":2839},"end":{"line":2847}}},"arguments":[],"loc":{"start":{"line":2839},"end":{"line":2855}}},"property":{"type":"Identifier","name":"startsWith"},"loc":{"start":{"line":2839},"end":{"line":2857}}},"arguments":[{"type":"Literal","value":"META-INF","raw":"META-INF","loc":{"start":{"line":2869},"end":{"line":2869}}}],"loc":{"start":{"line":2839},"end":{"line":2868}}},"operator":"LOGICAL_COMPLEMENT","type":"UnaryExpression","loc":{"start":{"line":2838},"end":{"line":2838}}},"loc":{"start":{"line":2811},"end":{"line":2835}}},"loc":{"start":{"line":2804},"end":{"line":2804}}}],"loc":{"start":{"line":2794},"end":{"line":2886}}},"code":"\nprivate boolean shouldProcessFile(ZipEntry zipEntry) {\n    return !zipEntry.isDirectory() \u0026\u0026 !zipEntry.getName().startsWith(\"META-INF\");\n}","loc":{"start":{"line":2741},"end":{"line":2757}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"copyFile"},"modifiers":{"type":"Modifiers","modifiers":["private"],"annotations":[]},"restype":{"type":"Identifier","name":"File","loc":{"start":{"line":2901},"end":{"line":2901}}},"typarams":[],"params":[{"type":"Identifier","name":"zipFile","vartype":{"type":"Identifier","name":"ZipFile","loc":{"start":{"line":2915},"end":{"line":2915}}}},{"type":"Identifier","name":"zipEntry","vartype":{"type":"Identifier","name":"ZipEntry","loc":{"start":{"line":2932},"end":{"line":2932}}}},{"type":"Identifier","name":"targetFile","vartype":{"type":"Identifier","name":"File","loc":{"start":{"line":2951},"end":{"line":2951}}}},{"type":"Identifier","name":"append","vartype":{"type":"PrimitiveType"}}],"thrown":[{"type":"Identifier","name":"IOException","loc":{"start":{"line":2991},"end":{"line":2991}}}],"body":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Files","loc":{"start":{"line":3013},"end":{"line":3013}}},"property":{"type":"Identifier","name":"createParentDirs"},"loc":{"start":{"line":3013},"end":{"line":3018}}},"arguments":[{"type":"Identifier","name":"targetFile","loc":{"start":{"line":3036},"end":{"line":3036}}}],"loc":{"start":{"line":3013},"end":{"line":3035}}},"loc":{"start":{"line":3013},"end":{"line":3013}}},{"type":"TryStatement","handlers":[],"block":{"type":"BlockStatement","body":[{"type":"ExpressionStatement","expression":{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"Streams","loc":{"start":{"line":3141},"end":{"line":3141}}},"property":{"type":"Identifier","name":"copy"},"loc":{"start":{"line":3141},"end":{"line":3148}}},"arguments":[{"type":"CallExpression","typeargs":[],"callee":{"type":"MemberExpression","object":{"type":"Identifier","name":"zipFile","loc":{"start":{"line":3154},"end":{"line":3154}}},"property":{"type":"Identifier","name":"getInputStream"},"loc":{"start":{"line":3154},"end":{"line":3161}}},"arguments":[{"type":"Identifier","name":"zipEntry","loc":{"start":{"line":3177},"end":{"line":3177}}}],"loc":{"start":{"line":3154},"end":{"line":3176}}},{"type":"Identifier","name":"fos","loc":{"start":{"line":3188},"end":{"line":3188}}},{"type":"Literal","value":1,"raw":1,"loc":{"start":{"line":3193},"end":{"line":3193}}}],"loc":{"start":{"line":3141},"end":{"line":3153}}},"loc":{"start":{"line":3141},"end":{"line":3141}}}],"loc":{"start":{"line":3127},"end":{"line":3208}}},"loc":{"start":{"line":3057},"end":{"line":3208}}},{"type":"ReturnStatement","argument":{"type":"Identifier","name":"targetFile","loc":{"start":{"line":3225},"end":{"line":3225}}},"loc":{"start":{"line":3218},"end":{"line":3218}}}],"loc":{"start":{"line":3003},"end":{"line":3241}}},"code":"\nprivate File copyFile(ZipFile zipFile, ZipEntry zipEntry, File targetFile, boolean append) throws IOException {\n    Files.createParentDirs(targetFile);\n    try (final FileOutputStream fos \u003d new FileOutputStream(targetFile, append);) {\n        Streams.copy(zipFile.getInputStream(zipEntry), fos, true);\n    }\n    return targetFile;\n}","loc":{"start":{"line":2893},"end":{"line":2906}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getClasses"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":3255},"end":{"line":3255}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"classes"},"loc":{"start":{"line":3298},"end":{"line":3302}}},"loc":{"start":{"line":3291},"end":{"line":3291}}}],"loc":{"start":{"line":3281},"end":{"line":3316}}},"code":"\npublic List\u003cString\u003e getClasses() {\n    return this.classes;\n}","loc":{"start":{"line":3248},"end":{"line":3268}}},{"type":"FunctionDeclaration","id":{"type":"Identifier","name":"getFiles"},"modifiers":{"type":"Modifiers","modifiers":["public"],"annotations":[]},"restype":{"type":"Identifier","name":"List","loc":{"start":{"line":3330},"end":{"line":3330}}},"typarams":[],"params":[],"thrown":[],"body":{"type":"BlockStatement","body":[{"type":"ReturnStatement","argument":{"type":"MemberExpression","object":{"type":"ThisExpression"},"property":{"type":"Identifier","name":"files"},"loc":{"start":{"line":3369},"end":{"line":3373}}},"loc":{"start":{"line":3362},"end":{"line":3362}}}],"loc":{"start":{"line":3352},"end":{"line":3385}}},"code":"\npublic List\u003cPath\u003e getFiles() {\n    return this.files;\n}","loc":{"start":{"line":3323},"end":{"line":3341}}}],"loc":{"start":{"line":551},"end":{"line":558}}}],"loc":{"start":{"line":0},"end":{"line":0}}}